import{b7 as Ha,b8 as Ii,b9 as k1,ba as li,bb as jp,bc as ai,bd as Gc,be as Bo,bf as wo,bg as En,bh as LA,bi as uw,bj as wl,bk as ui,bl as Pp,bm as cw,bn as Cu,bo as Xa,bp as qr,bq as dy,br as fi,bs as sw,bt as Du,bu as im,bv as Uc,bw as BA,bx as Iu,by as yy,bz as cn,bA as xl,bB as El,bC as am,bD as Dn,bE as Oo,bF as Li,bG as lw,bH as fw,bI as pw,bJ as zA,bK as hw,bL as $A,bM as Lu,bN as da,bO as ci,bP as vy,bQ as FA,bR as WA,bS as GA,bT as UA,bU as sr,bV as Kt,bW as Hc,bX as Sl,bY as dw,bZ as um,b_ as Qd,b$ as gr,c0 as HA,c1 as XA,c2 as yw,c3 as Xc,c4 as Ya,c5 as gy,c6 as YA,c7 as jl,c8 as VA,c9 as vw,ca as Ap,cb as Pl,cc as cm,cd as gw,ce as bw,cf as mw,cg as _w,ch as KA,ci as Ow,cj as qA,ck as ZA,cl as JA,cm as QA,cn as ya,co as sm,cp as eT,cq as ww,cr as xw,cs as by,ct as Yc,cu as Ew,cv as Sw,cw as tT,cx as Cb,cy as nT,cz as rT,cA as oT,ax as iT,cB as aT,aB as uT,d as cT,g as sT,o as lT,c as fT,$ as pT}from"./index-0be9983c.js";import{a as ha,b as hT,c as dT,n as yT,d as vT,t as gT}from"./throttle-692b00fc.js";var bT=0/0;function D1(r){return typeof r=="number"?r:Ha(r)?bT:+r}function my(r,a){return function(u,l){var o;if(u===void 0&&l===void 0)return a;if(u!==void 0&&(o=u),l!==void 0){if(o===void 0)return l;typeof u=="string"||typeof l=="string"?(u=Ii(u),l=Ii(l)):(u=D1(u),l=D1(l)),o=r(u,l)}return o}}var mT=my(function(r,a){return r+a},0);const _T=mT;var N1=1/0,OT=17976931348623157e292;function Ua(r){if(!r)return r===0?r:0;if(r=ha(r),r===N1||r===-N1){var a=r<0?-1:1;return a*OT}return r===r?r:0}function Qt(r){var a=Ua(r),u=a%1;return a===a?u?a-u:a:0}var wT="Expected a function";function xT(r,a){if(typeof a!="function")throw new TypeError(wT);return r=Qt(r),function(){if(--r<1)return a.apply(this,arguments)}}var ET=k1&&new k1;const ey=ET;var ST=ey?function(r,a){return ey.set(r,a),r}:li;const jw=ST;function Sp(r){return function(){var a=arguments;switch(a.length){case 0:return new r;case 1:return new r(a[0]);case 2:return new r(a[0],a[1]);case 3:return new r(a[0],a[1],a[2]);case 4:return new r(a[0],a[1],a[2],a[3]);case 5:return new r(a[0],a[1],a[2],a[3],a[4]);case 6:return new r(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new r(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var u=jp(r.prototype),l=r.apply(u,a);return ai(l)?l:u}}var jT=1;function PT(r,a,u){var l=a&jT,o=Sp(r);function h(){var d=this&&this!==Gc&&this instanceof h?o:r;return d.apply(l?u:this,arguments)}return h}var AT=Math.max;function Pw(r,a,u,l){for(var o=-1,h=r.length,d=u.length,b=-1,g=a.length,E=AT(h-d,0),j=Array(g+E),P=!l;++b<g;)j[b]=a[b];for(;++o<d;)(P||o<h)&&(j[u[o]]=r[o]);for(;E--;)j[b++]=r[o++];return j}var TT=Math.max;function Aw(r,a,u,l){for(var o=-1,h=r.length,d=-1,b=u.length,g=-1,E=a.length,j=TT(h-b,0),P=Array(j+E),k=!l;++o<j;)P[o]=r[o];for(var M=o;++g<E;)P[M+g]=a[g];for(;++d<b;)(k||o<h)&&(P[M+u[d]]=r[o++]);return P}function MT(r,a){for(var u=r.length,l=0;u--;)r[u]===a&&++l;return l}function _y(){}var kT=4294967295;function pn(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=kT,this.__views__=[]}pn.prototype=jp(_y.prototype);pn.prototype.constructor=pn;function lm(){}var DT=ey?function(r){return ey.get(r)}:lm;const fm=DT;var NT={};const bl=NT;var RT=Object.prototype,CT=RT.hasOwnProperty;function Kd(r){for(var a=r.name+"",u=bl[a],l=CT.call(bl,a)?u.length:0;l--;){var o=u[l],h=o.func;if(h==null||h==r)return o.name}return a}function si(r,a){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=void 0}si.prototype=jp(_y.prototype);si.prototype.constructor=si;function Tw(r){if(r instanceof pn)return r.clone();var a=new si(r.__wrapped__,r.__chain__);return a.__actions__=Bo(r.__actions__),a.__index__=r.__index__,a.__values__=r.__values__,a}var IT=Object.prototype,LT=IT.hasOwnProperty;function F(r){if(wo(r)&&!En(r)&&!(r instanceof pn)){if(r instanceof si)return r;if(LT.call(r,"__wrapped__"))return Tw(r)}return new si(r)}F.prototype=_y.prototype;F.prototype.constructor=F;function Gb(r){var a=Kd(r),u=F[a];if(typeof u!="function"||!(a in pn.prototype))return!1;if(r===u)return!0;var l=fm(u);return!!l&&r===l[0]}var BT=LA(jw);const Mw=BT;var zT=/\{\n\/\* \[wrapped with (.+)\] \*/,$T=/,? & /;function FT(r){var a=r.match(zT);return a?a[1].split($T):[]}var WT=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function GT(r,a){var u=a.length;if(!u)return r;var l=u-1;return a[l]=(u>1?"& ":"")+a[l],a=a.join(u>2?", ":" "),r.replace(WT,"{\n/* [wrapped with "+a+"] */\n")}function pi(r,a){for(var u=-1,l=r==null?0:r.length;++u<l&&a(r[u],u,r)!==!1;);return r}function Oy(r,a,u,l){for(var o=r.length,h=u+(l?1:-1);l?h--:++h<o;)if(a(r[h],h,r))return h;return-1}function kw(r){return r!==r}function UT(r,a,u){for(var l=u-1,o=r.length;++l<o;)if(r[l]===a)return l;return-1}function Al(r,a,u){return a===a?UT(r,a,u):Oy(r,kw,u)}function wy(r,a){var u=r==null?0:r.length;return!!u&&Al(r,a,0)>-1}var HT=1,XT=2,YT=8,VT=16,KT=32,qT=64,ZT=128,JT=256,QT=512,e2=[["ary",ZT],["bind",HT],["bindKey",XT],["curry",YT],["curryRight",VT],["flip",QT],["partial",KT],["partialRight",qT],["rearg",JT]];function t2(r,a){return pi(e2,function(u){var l="_."+u[0];a&u[1]&&!wy(r,l)&&r.push(l)}),r.sort()}function Dw(r,a,u){var l=a+"";return uw(r,GT(l,t2(FT(l),u)))}var n2=1,r2=2,o2=4,i2=8,R1=32,C1=64;function Nw(r,a,u,l,o,h,d,b,g,E){var j=a&i2,P=j?d:void 0,k=j?void 0:d,M=j?h:void 0,C=j?void 0:h;a|=j?R1:C1,a&=~(j?C1:R1),a&o2||(a&=~(n2|r2));var N=[r,a,o,M,P,C,k,b,g,E],L=u.apply(void 0,N);return Gb(r)&&Mw(L,N),L.placeholder=l,Dw(L,r,a)}function Tl(r){var a=r;return a.placeholder}var a2=Math.min;function u2(r,a){for(var u=r.length,l=a2(a.length,u),o=Bo(r);l--;){var h=a[l];r[l]=wl(h,u)?o[h]:void 0}return r}var I1="__lodash_placeholder__";function Nu(r,a){for(var u=-1,l=r.length,o=0,h=[];++u<l;){var d=r[u];(d===a||d===I1)&&(r[u]=I1,h[o++]=u)}return h}var c2=1,s2=2,l2=8,f2=16,p2=128,h2=512;function xy(r,a,u,l,o,h,d,b,g,E){var j=a&p2,P=a&c2,k=a&s2,M=a&(l2|f2),C=a&h2,N=k?void 0:Sp(r);function L(){for(var G=arguments.length,U=Array(G),te=G;te--;)U[te]=arguments[te];if(M)var ae=Tl(L),re=MT(U,ae);if(l&&(U=Pw(U,l,o,M)),h&&(U=Aw(U,h,d,M)),G-=re,M&&G<E){var J=Nu(U,ae);return Nw(r,a,xy,L.placeholder,u,U,J,b,g,E-G)}var Z=P?u:this,X=k?Z[r]:r;return G=U.length,b?U=u2(U,b):C&&G>1&&U.reverse(),j&&g<G&&(U.length=g),this&&this!==Gc&&this instanceof L&&(X=N||Sp(X)),X.apply(Z,U)}return L}function d2(r,a,u){var l=Sp(r);function o(){for(var h=arguments.length,d=Array(h),b=h,g=Tl(o);b--;)d[b]=arguments[b];var E=h<3&&d[0]!==g&&d[h-1]!==g?[]:Nu(d,g);if(h-=E.length,h<u)return Nw(r,a,xy,o.placeholder,void 0,d,E,void 0,void 0,u-h);var j=this&&this!==Gc&&this instanceof o?l:r;return ui(j,this,d)}return o}var y2=1;function v2(r,a,u,l){var o=a&y2,h=Sp(r);function d(){for(var b=-1,g=arguments.length,E=-1,j=l.length,P=Array(j+g),k=this&&this!==Gc&&this instanceof d?h:r;++E<j;)P[E]=l[E];for(;g--;)P[E++]=arguments[++b];return ui(k,o?u:this,P)}return d}var L1="__lodash_placeholder__",Ib=1,g2=2,b2=4,B1=8,vp=128,z1=256,m2=Math.min;function _2(r,a){var u=r[1],l=a[1],o=u|l,h=o<(Ib|g2|vp),d=l==vp&&u==B1||l==vp&&u==z1&&r[7].length<=a[8]||l==(vp|z1)&&a[7].length<=a[8]&&u==B1;if(!(h||d))return r;l&Ib&&(r[2]=a[2],o|=u&Ib?0:b2);var b=a[3];if(b){var g=r[3];r[3]=g?Pw(g,b,a[4]):b,r[4]=g?Nu(r[3],L1):a[4]}return b=a[5],b&&(g=r[5],r[5]=g?Aw(g,b,a[6]):b,r[6]=g?Nu(r[5],L1):a[6]),b=a[7],b&&(r[7]=b),l&vp&&(r[8]=r[8]==null?a[8]:m2(r[8],a[8])),r[9]==null&&(r[9]=a[9]),r[0]=a[0],r[1]=o,r}var O2="Expected a function",$1=1,w2=2,Lb=8,Bb=16,zb=32,F1=64,W1=Math.max;function Va(r,a,u,l,o,h,d,b){var g=a&w2;if(!g&&typeof r!="function")throw new TypeError(O2);var E=l?l.length:0;if(E||(a&=~(zb|F1),l=o=void 0),d=d===void 0?d:W1(Qt(d),0),b=b===void 0?b:Qt(b),E-=o?o.length:0,a&F1){var j=l,P=o;l=o=void 0}var k=g?void 0:fm(r),M=[r,a,u,l,o,j,P,h,d,b];if(k&&_2(M,k),r=M[0],a=M[1],u=M[2],l=M[3],o=M[4],b=M[9]=M[9]===void 0?g?0:r.length:W1(M[9]-E,0),!b&&a&(Lb|Bb)&&(a&=~(Lb|Bb)),!a||a==$1)var C=PT(r,a,u);else a==Lb||a==Bb?C=d2(r,a,b):(a==zb||a==($1|zb))&&!o.length?C=v2(r,a,u,l):C=xy.apply(void 0,M);var N=k?jw:Mw;return Dw(N(C,M),r,a)}var x2=128;function Rw(r,a,u){return a=u?void 0:a,a=r&&a==null?r.length:a,Va(r,x2,void 0,void 0,void 0,void 0,a)}var E2=Object.prototype,S2=E2.hasOwnProperty,j2=Pp(function(r,a){if(cw(a)||Cu(a)){Xa(a,qr(a),r);return}for(var u in a)S2.call(a,u)&&dy(r,u,a[u])});const P2=j2;var A2=Pp(function(r,a){Xa(a,fi(a),r)});const G1=A2;var T2=Pp(function(r,a,u,l){Xa(a,fi(a),r,l)});const ty=T2;var M2=Pp(function(r,a,u,l){Xa(a,qr(a),r,l)});const k2=M2;function pm(r,a){for(var u=-1,l=a.length,o=Array(l),h=r==null;++u<l;)o[u]=h?void 0:sw(r,a[u]);return o}var U1=Du?Du.isConcatSpreadable:void 0;function D2(r){return En(r)||im(r)||!!(U1&&r&&r[U1])}function zr(r,a,u,l,o){var h=-1,d=r.length;for(u||(u=D2),o||(o=[]);++h<d;){var b=r[h];a>0&&u(b)?a>1?zr(b,a-1,u,l,o):Uc(o,b):l||(o[o.length]=b)}return o}function Cw(r){var a=r==null?0:r.length;return a?zr(r,1):[]}function Ka(r){return uw(BA(r,void 0,Cw),r+"")}var N2=Ka(pm);const R2=N2;var C2="[object DOMException]",I2="[object Error]";function hm(r){if(!wo(r))return!1;var a=Iu(r);return a==I2||a==C2||typeof r.message=="string"&&typeof r.name=="string"&&!yy(r)}var L2=cn(function(r,a){try{return ui(r,void 0,a)}catch(u){return hm(u)?u:new Error(u)}});const Iw=L2;var B2="Expected a function";function Lw(r,a){var u;if(typeof a!="function")throw new TypeError(B2);return r=Qt(r),function(){return--r>0&&(u=a.apply(this,arguments)),r<=1&&(a=void 0),u}}var z2=1,$2=32,dm=cn(function(r,a,u){var l=z2;if(u.length){var o=Nu(u,Tl(dm));l|=$2}return Va(r,l,a,u,o)});dm.placeholder={};const Bw=dm;var F2=Ka(function(r,a){return pi(a,function(u){u=xl(u),El(r,u,Bw(r[u],r))}),r});const W2=F2;var G2=1,U2=2,H2=32,ym=cn(function(r,a,u){var l=G2|U2;if(u.length){var o=Nu(u,Tl(ym));l|=H2}return Va(a,l,r,u,o)});ym.placeholder={};const X2=ym;function zw(r){return am(Dn(r).toLowerCase())}function vm(r,a,u,l){var o=-1,h=r==null?0:r.length;for(l&&h&&(u=r[++o]);++o<h;)u=a(u,r[o],o,r);return u}function gm(r){return function(a){return r==null?void 0:r[a]}}var Y2={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},V2=gm(Y2);const K2=V2;var q2=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Z2="\\u0300-\\u036f",J2="\\ufe20-\\ufe2f",Q2="\\u20d0-\\u20ff",eM=Z2+J2+Q2,tM="["+eM+"]",nM=RegExp(tM,"g");function $w(r){return r=Dn(r),r&&r.replace(q2,K2).replace(nM,"")}var rM=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function oM(r){return r.match(rM)||[]}var iM=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function aM(r){return iM.test(r)}var Fw="\\ud800-\\udfff",uM="\\u0300-\\u036f",cM="\\ufe20-\\ufe2f",sM="\\u20d0-\\u20ff",lM=uM+cM+sM,Ww="\\u2700-\\u27bf",Gw="a-z\\xdf-\\xf6\\xf8-\\xff",fM="\\xac\\xb1\\xd7\\xf7",pM="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",hM="\\u2000-\\u206f",dM=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Uw="A-Z\\xc0-\\xd6\\xd8-\\xde",yM="\\ufe0e\\ufe0f",Hw=fM+pM+hM+dM,Xw="['’]",H1="["+Hw+"]",vM="["+lM+"]",Yw="\\d+",gM="["+Ww+"]",Vw="["+Gw+"]",Kw="[^"+Fw+Hw+Yw+Ww+Gw+Uw+"]",bM="\\ud83c[\\udffb-\\udfff]",mM="(?:"+vM+"|"+bM+")",_M="[^"+Fw+"]",qw="(?:\\ud83c[\\udde6-\\uddff]){2}",Zw="[\\ud800-\\udbff][\\udc00-\\udfff]",yl="["+Uw+"]",OM="\\u200d",X1="(?:"+Vw+"|"+Kw+")",wM="(?:"+yl+"|"+Kw+")",Y1="(?:"+Xw+"(?:d|ll|m|re|s|t|ve))?",V1="(?:"+Xw+"(?:D|LL|M|RE|S|T|VE))?",Jw=mM+"?",Qw="["+yM+"]?",xM="(?:"+OM+"(?:"+[_M,qw,Zw].join("|")+")"+Qw+Jw+")*",EM="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",SM="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",jM=Qw+Jw+xM,PM="(?:"+[gM,qw,Zw].join("|")+")"+jM,AM=RegExp([yl+"?"+Vw+"+"+Y1+"(?="+[H1,yl,"$"].join("|")+")",wM+"+"+V1+"(?="+[H1,yl+X1,"$"].join("|")+")",yl+"?"+X1+"+"+Y1,yl+"+"+V1,SM,EM,Yw,PM].join("|"),"g");function TM(r){return r.match(AM)||[]}function ex(r,a,u){return r=Dn(r),a=u?void 0:a,a===void 0?aM(r)?TM(r):oM(r):r.match(a)||[]}var MM="['’]",kM=RegExp(MM,"g");function Ml(r){return function(a){return vm(ex($w(a).replace(kM,"")),r,"")}}var DM=Ml(function(r,a,u){return a=a.toLowerCase(),r+(u?zw(a):a)});const NM=DM;function RM(){if(!arguments.length)return[];var r=arguments[0];return En(r)?r:[r]}var CM=Gc.isFinite,IM=Math.min;function bm(r){var a=Math[r];return function(u,l){if(u=ha(u),l=l==null?0:IM(Qt(l),292),l&&CM(u)){var o=(Dn(u)+"e").split("e"),h=a(o[0]+"e"+(+o[1]+l));return o=(Dn(h)+"e").split("e"),+(o[0]+"e"+(+o[1]-l))}return a(u)}}var LM=bm("ceil");const BM=LM;function tx(r){var a=F(r);return a.__chain__=!0,a}var zM=Math.ceil,$M=Math.max;function FM(r,a,u){(u?Oo(r,a,u):a===void 0)?a=1:a=$M(Qt(a),0);var l=r==null?0:r.length;if(!l||a<1)return[];for(var o=0,h=0,d=Array(zM(l/a));o<l;)d[h++]=Li(r,o,o+=a);return d}function Vc(r,a,u){return r===r&&(u!==void 0&&(r=r<=u?r:u),a!==void 0&&(r=r>=a?r:a)),r}function WM(r,a,u){return u===void 0&&(u=a,a=void 0),u!==void 0&&(u=ha(u),u=u===u?u:0),a!==void 0&&(a=ha(a),a=a===a?a:0),Vc(ha(r),a,u)}function nx(r,a){return r&&Xa(a,qr(a),r)}function GM(r,a){return r&&Xa(a,fi(a),r)}function UM(r,a){return Xa(r,lw(r),a)}var HM=Object.getOwnPropertySymbols,XM=HM?function(r){for(var a=[];r;)Uc(a,lw(r)),r=pw(r);return a}:fw;const rx=XM;function YM(r,a){return Xa(r,rx(r),a)}function mm(r){return zA(r,fi,rx)}var VM=Object.prototype,KM=VM.hasOwnProperty;function qM(r){var a=r.length,u=new r.constructor(a);return a&&typeof r[0]=="string"&&KM.call(r,"index")&&(u.index=r.index,u.input=r.input),u}function ZM(r,a){var u=a?hw(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.byteLength)}var JM=/\w*$/;function QM(r){var a=new r.constructor(r.source,JM.exec(r));return a.lastIndex=r.lastIndex,a}var K1=Du?Du.prototype:void 0,q1=K1?K1.valueOf:void 0;function ek(r){return q1?Object(q1.call(r)):{}}var tk="[object Boolean]",nk="[object Date]",rk="[object Map]",ok="[object Number]",ik="[object RegExp]",ak="[object Set]",uk="[object String]",ck="[object Symbol]",sk="[object ArrayBuffer]",lk="[object DataView]",fk="[object Float32Array]",pk="[object Float64Array]",hk="[object Int8Array]",dk="[object Int16Array]",yk="[object Int32Array]",vk="[object Uint8Array]",gk="[object Uint8ClampedArray]",bk="[object Uint16Array]",mk="[object Uint32Array]";function _k(r,a,u){var l=r.constructor;switch(a){case sk:return hw(r);case tk:case nk:return new l(+r);case lk:return ZM(r,u);case fk:case pk:case hk:case dk:case yk:case vk:case gk:case bk:case mk:return $A(r,u);case rk:return new l;case ok:case uk:return new l(r);case ik:return QM(r);case ak:return new l;case ck:return ek(r)}}var Ok="[object Map]";function wk(r){return wo(r)&&Lu(r)==Ok}var Z1=da&&da.isMap,xk=Z1?ci(Z1):wk;const ox=xk;var Ek="[object Set]";function Sk(r){return wo(r)&&Lu(r)==Ek}var J1=da&&da.isSet,jk=J1?ci(J1):Sk;const ix=jk;var Pk=1,Ak=2,Tk=4,ax="[object Arguments]",Mk="[object Array]",kk="[object Boolean]",Dk="[object Date]",Nk="[object Error]",ux="[object Function]",Rk="[object GeneratorFunction]",Ck="[object Map]",Ik="[object Number]",cx="[object Object]",Lk="[object RegExp]",Bk="[object Set]",zk="[object String]",$k="[object Symbol]",Fk="[object WeakMap]",Wk="[object ArrayBuffer]",Gk="[object DataView]",Uk="[object Float32Array]",Hk="[object Float64Array]",Xk="[object Int8Array]",Yk="[object Int16Array]",Vk="[object Int32Array]",Kk="[object Uint8Array]",qk="[object Uint8ClampedArray]",Zk="[object Uint16Array]",Jk="[object Uint32Array]",Gn={};Gn[ax]=Gn[Mk]=Gn[Wk]=Gn[Gk]=Gn[kk]=Gn[Dk]=Gn[Uk]=Gn[Hk]=Gn[Xk]=Gn[Yk]=Gn[Vk]=Gn[Ck]=Gn[Ik]=Gn[cx]=Gn[Lk]=Gn[Bk]=Gn[zk]=Gn[$k]=Gn[Kk]=Gn[qk]=Gn[Zk]=Gn[Jk]=!0;Gn[Nk]=Gn[ux]=Gn[Fk]=!1;function ii(r,a,u,l,o,h){var d,b=a&Pk,g=a&Ak,E=a&Tk;if(u&&(d=o?u(r,l,o,h):u(r)),d!==void 0)return d;if(!ai(r))return r;var j=En(r);if(j){if(d=qM(r),!b)return Bo(r,d)}else{var P=Lu(r),k=P==ux||P==Rk;if(vy(r))return FA(r,b);if(P==cx||P==ax||k&&!o){if(d=g||k?{}:WA(r),!b)return g?YM(r,GM(d,r)):UM(r,nx(d,r))}else{if(!Gn[P])return o?r:{};d=_k(r,P,b)}}h||(h=new GA);var M=h.get(r);if(M)return M;h.set(r,d),ix(r)?r.forEach(function(L){d.add(ii(L,a,u,L,r,h))}):ox(r)&&r.forEach(function(L,G){d.set(G,ii(L,a,u,G,r,h))});var C=E?g?mm:UA:g?fi:qr,N=j?void 0:C(r);return pi(N||r,function(L,G){N&&(G=L,L=r[G]),dy(d,G,ii(L,a,u,G,r,h))}),d}var Qk=4;function eD(r){return ii(r,Qk)}var tD=1,nD=4;function rD(r){return ii(r,tD|nD)}var oD=1,iD=4;function aD(r,a){return a=typeof a=="function"?a:void 0,ii(r,oD|iD,a)}var uD=4;function cD(r,a){return a=typeof a=="function"?a:void 0,ii(r,uD,a)}function sD(){return new si(this.value(),this.__chain__)}function lD(r){for(var a=-1,u=r==null?0:r.length,l=0,o=[];++a<u;){var h=r[a];h&&(o[l++]=h)}return o}function fD(){var r=arguments.length;if(!r)return[];for(var a=Array(r-1),u=arguments[0],l=r;l--;)a[l-1]=arguments[l];return Uc(En(u)?Bo(u):[u],zr(a,1))}var pD="Expected a function";function hD(r){var a=r==null?0:r.length,u=Kt;return r=a?sr(r,function(l){if(typeof l[1]!="function")throw new TypeError(pD);return[u(l[0]),l[1]]}):[],cn(function(l){for(var o=-1;++o<a;){var h=r[o];if(ui(h[0],this,l))return ui(h[1],this,l)}})}function sx(r,a,u){var l=u.length;if(r==null)return!l;for(r=Object(r);l--;){var o=u[l],h=a[o],d=r[o];if(d===void 0&&!(o in r)||!h(d))return!1}return!0}function dD(r){var a=qr(r);return function(u){return sx(u,r,a)}}var yD=1;function vD(r){return dD(ii(r,yD))}function gD(r,a){return a==null||sx(r,a,qr(a))}function bD(r,a,u,l){for(var o=-1,h=r==null?0:r.length;++o<h;){var d=r[o];a(l,d,u(d),r)}return l}function mD(r,a,u,l){return Hc(r,function(o,h,d){a(l,o,u(o),d)}),l}function Ey(r,a){return function(u,l){var o=En(u)?bD:mD,h=a?a():{};return o(u,r,Kt(l),h)}}var _D=Object.prototype,OD=_D.hasOwnProperty,wD=Ey(function(r,a,u){OD.call(r,u)?++r[u]:El(r,u,1)});const xD=wD;function ED(r,a){var u=jp(r);return a==null?u:nx(u,a)}var SD=8;function _m(r,a,u){a=u?void 0:a;var l=Va(r,SD,void 0,void 0,void 0,void 0,void 0,a);return l.placeholder=_m.placeholder,l}_m.placeholder={};var jD=16;function Om(r,a,u){a=u?void 0:a;var l=Va(r,jD,void 0,void 0,void 0,void 0,void 0,a);return l.placeholder=Om.placeholder,l}Om.placeholder={};function PD(r,a){return r==null||r!==r?a:r}var lx=Object.prototype,AD=lx.hasOwnProperty,TD=cn(function(r,a){r=Object(r);var u=-1,l=a.length,o=l>2?a[2]:void 0;for(o&&Oo(a[0],a[1],o)&&(l=1);++u<l;)for(var h=a[u],d=fi(h),b=-1,g=d.length;++b<g;){var E=d[b],j=r[E];(j===void 0||Sl(j,lx[E])&&!AD.call(r,E))&&(r[E]=h[E])}return r});const MD=TD;function fx(r,a,u,l,o,h){return ai(r)&&ai(a)&&(h.set(a,r),dw(r,a,void 0,fx,h),h.delete(a)),r}var kD=Pp(function(r,a,u,l){dw(r,a,u,l)});const px=kD;var DD=cn(function(r){return r.push(void 0,fx),ui(px,void 0,r)});const ND=DD;var RD="Expected a function";function hx(r,a,u){if(typeof r!="function")throw new TypeError(RD);return setTimeout(function(){r.apply(void 0,u)},a)}var CD=cn(function(r,a){return hx(r,1,a)});const ID=CD;var LD=cn(function(r,a,u){return hx(r,ha(a)||0,u)});const BD=LD;function wm(r,a,u){for(var l=-1,o=r==null?0:r.length;++l<o;)if(u(a,r[l]))return!0;return!1}var zD=200;function Tp(r,a,u,l){var o=-1,h=wy,d=!0,b=r.length,g=[],E=a.length;if(!b)return g;u&&(a=sr(a,ci(u))),l?(h=wm,d=!1):a.length>=zD&&(h=Qd,d=!1,a=new um(a));e:for(;++o<b;){var j=r[o],P=u==null?j:u(j);if(j=l||j!==0?j:0,d&&P===P){for(var k=E;k--;)if(a[k]===P)continue e;g.push(j)}else h(a,P,l)||g.push(j)}return g}var $D=cn(function(r,a){return gr(r)?Tp(r,zr(a,1,gr,!0)):[]});const FD=$D;function zo(r){var a=r==null?0:r.length;return a?r[a-1]:void 0}var WD=cn(function(r,a){var u=zo(a);return gr(u)&&(u=void 0),gr(r)?Tp(r,zr(a,1,gr,!0),Kt(u)):[]});const GD=WD;var UD=cn(function(r,a){var u=zo(a);return gr(u)&&(u=void 0),gr(r)?Tp(r,zr(a,1,gr,!0),void 0,u):[]});const HD=UD;var XD=my(function(r,a){return r/a},1);const YD=XD;function VD(r,a,u){var l=r==null?0:r.length;return l?(a=u||a===void 0?1:Qt(a),Li(r,a<0?0:a,l)):[]}function KD(r,a,u){var l=r==null?0:r.length;return l?(a=u||a===void 0?1:Qt(a),a=l-a,Li(r,0,a<0?0:a)):[]}function Sy(r,a,u,l){for(var o=r.length,h=l?o:-1;(l?h--:++h<o)&&a(r[h],h,r););return u?Li(r,l?0:h,l?h+1:o):Li(r,l?h+1:0,l?o:h)}function qD(r,a){return r&&r.length?Sy(r,Kt(a),!0,!0):[]}function ZD(r,a){return r&&r.length?Sy(r,Kt(a),!0):[]}function ga(r){return typeof r=="function"?r:li}function Q1(r,a){var u=En(r)?pi:Hc;return u(r,ga(a))}function JD(r,a){for(var u=r==null?0:r.length;u--&&a(r[u],u,r)!==!1;);return r}var QD=HA(!0);const dx=QD;function xm(r,a){return r&&dx(r,a,qr)}var eN=XA(xm,!0);const yx=eN;function eO(r,a){var u=En(r)?JD:yx;return u(r,ga(a))}function tN(r,a,u){r=Dn(r),a=Ii(a);var l=r.length;u=u===void 0?l:Vc(Qt(u),0,l);var o=u;return u-=a.length,u>=0&&r.slice(u,o)==a}function nN(r,a){return sr(a,function(u){return[u,r[u]]})}function rN(r){var a=-1,u=Array(r.size);return r.forEach(function(l){u[++a]=[l,l]}),u}var oN="[object Map]",iN="[object Set]";function vx(r){return function(a){var u=Lu(a);return u==oN?yw(a):u==iN?rN(a):nN(a,r(a))}}var aN=vx(qr);const tO=aN;var uN=vx(fi);const nO=uN;var cN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sN=gm(cN);const lN=sN;var gx=/[&<>"']/g,fN=RegExp(gx.source);function bx(r){return r=Dn(r),r&&fN.test(r)?r.replace(gx,lN):r}var mx=/[\\^$.*+?()[\]{}|]/g,pN=RegExp(mx.source);function hN(r){return r=Dn(r),r&&pN.test(r)?r.replace(mx,"\\$&"):r}function _x(r,a){for(var u=-1,l=r==null?0:r.length;++u<l;)if(!a(r[u],u,r))return!1;return!0}function dN(r,a){var u=!0;return Hc(r,function(l,o,h){return u=!!a(l,o,h),u}),u}function yN(r,a,u){var l=En(r)?_x:dN;return u&&Oo(r,a,u)&&(a=void 0),l(r,Kt(a))}var vN=4294967295;function Ox(r){return r?Vc(Qt(r),0,vN):0}function gN(r,a,u,l){var o=r.length;for(u=Qt(u),u<0&&(u=-u>o?0:o+u),l=l===void 0||l>o?o:Qt(l),l<0&&(l+=o),l=u>l?0:Ox(l);u<l;)r[u++]=a;return r}function bN(r,a,u,l){var o=r==null?0:r.length;return o?(u&&typeof u!="number"&&Oo(r,a,u)&&(u=0,l=o),gN(r,a,u,l)):[]}function wx(r,a){var u=[];return Hc(r,function(l,o,h){a(l,o,h)&&u.push(l)}),u}function mN(r,a){var u=En(r)?Xc:wx;return u(r,Kt(a))}function xx(r){return function(a,u,l){var o=Object(a);if(!Cu(a)){var h=Kt(u);a=qr(a),u=function(b){return h(o[b],b,o)}}var d=r(a,u,l);return d>-1?o[h?a[d]:d]:void 0}}var _N=Math.max;function Ex(r,a,u){var l=r==null?0:r.length;if(!l)return-1;var o=u==null?0:Qt(u);return o<0&&(o=_N(l+o,0)),Oy(r,Kt(a),o)}var ON=xx(Ex);const wN=ON;function Sx(r,a,u){var l;return u(r,function(o,h,d){if(a(o,h,d))return l=h,!1}),l}function xN(r,a){return Sx(r,Kt(a),Ya)}var EN=Math.max,SN=Math.min;function jx(r,a,u){var l=r==null?0:r.length;if(!l)return-1;var o=l-1;return u!==void 0&&(o=Qt(u),o=u<0?EN(l+o,0):SN(o,l-1)),Oy(r,Kt(a),o,!0)}var jN=xx(jx);const PN=jN;function AN(r,a){return Sx(r,Kt(a),xm)}function rO(r){return r&&r.length?r[0]:void 0}function TN(r,a){return zr(gy(r,a),1)}var MN=1/0;function kN(r,a){return zr(gy(r,a),MN)}function DN(r,a,u){return u=u===void 0?1:Qt(u),zr(gy(r,a),u)}var NN=1/0;function RN(r){var a=r==null?0:r.length;return a?zr(r,NN):[]}function CN(r,a){var u=r==null?0:r.length;return u?(a=a===void 0?1:Qt(a),zr(r,a)):[]}var IN=512;function LN(r){return Va(r,IN)}var BN=bm("floor");const zN=BN;var $N="Expected a function",FN=8,WN=32,GN=128,UN=256;function Px(r){return Ka(function(a){var u=a.length,l=u,o=si.prototype.thru;for(r&&a.reverse();l--;){var h=a[l];if(typeof h!="function")throw new TypeError($N);if(o&&!d&&Kd(h)=="wrapper")var d=new si([],!0)}for(l=d?l:u;++l<u;){h=a[l];var b=Kd(h),g=b=="wrapper"?fm(h):void 0;g&&Gb(g[0])&&g[1]==(GN|FN|WN|UN)&&!g[4].length&&g[9]==1?d=d[Kd(g[0])].apply(d,g[3]):d=h.length==1&&Gb(h)?d[b]():d.thru(h)}return function(){var E=arguments,j=E[0];if(d&&E.length==1&&En(j))return d.plant(j).value();for(var P=0,k=u?a[P].apply(this,E):j;++P<u;)k=a[P].call(this,k);return k}})}var HN=Px();const XN=HN;var YN=Px(!0);const VN=YN;function KN(r,a){return r==null?r:YA(r,ga(a),fi)}function qN(r,a){return r==null?r:dx(r,ga(a),fi)}function ZN(r,a){return r&&Ya(r,ga(a))}function JN(r,a){return r&&xm(r,ga(a))}function QN(r){for(var a=-1,u=r==null?0:r.length,l={};++a<u;){var o=r[a];l[o[0]]=o[1]}return l}function jy(r,a){return Xc(a,function(u){return jl(r[u])})}function eR(r){return r==null?[]:jy(r,qr(r))}function tR(r){return r==null?[]:jy(r,fi(r))}var nR=Object.prototype,rR=nR.hasOwnProperty,oR=Ey(function(r,a,u){rR.call(r,u)?r[u].push(a):El(r,u,[a])});const iR=oR;function Em(r,a){return r>a}function Py(r){return function(a,u){return typeof a=="string"&&typeof u=="string"||(a=ha(a),u=ha(u)),r(a,u)}}var aR=Py(Em);const uR=aR;var cR=Py(function(r,a){return r>=a});const sR=cR;var lR=Object.prototype,fR=lR.hasOwnProperty;function pR(r,a){return r!=null&&fR.call(r,a)}function hR(r,a){return r!=null&&VA(r,a,pR)}var dR=Math.max,yR=Math.min;function vR(r,a,u){return r>=yR(a,u)&&r<dR(a,u)}function gR(r,a,u){return a=Ua(a),u===void 0?(u=a,a=0):u=Ua(u),r=ha(r),vR(r,a,u)}var bR="[object String]";function Ay(r){return typeof r=="string"||!En(r)&&wo(r)&&Iu(r)==bR}function Sm(r,a){return sr(a,function(u){return r[u]})}function kl(r){return r==null?[]:Sm(r,qr(r))}var mR=Math.max;function _R(r,a,u,l){r=Cu(r)?r:kl(r),u=u&&!l?Qt(u):0;var o=r.length;return u<0&&(u=mR(o+u,0)),Ay(r)?u<=o&&r.indexOf(a,u)>-1:!!o&&Al(r,a,u)>-1}var OR=Math.max;function wR(r,a,u){var l=r==null?0:r.length;if(!l)return-1;var o=u==null?0:Qt(u);return o<0&&(o=OR(l+o,0)),Al(r,a,o)}function xR(r){var a=r==null?0:r.length;return a?Li(r,0,-1):[]}var ER=Math.min;function jm(r,a,u){for(var l=u?wm:wy,o=r[0].length,h=r.length,d=h,b=Array(h),g=1/0,E=[];d--;){var j=r[d];d&&a&&(j=sr(j,ci(a))),g=ER(j.length,g),b[d]=!u&&(a||o>=120&&j.length>=120)?new um(d&&j):void 0}j=r[0];var P=-1,k=b[0];e:for(;++P<o&&E.length<g;){var M=j[P],C=a?a(M):M;if(M=u||M!==0?M:0,!(k?Qd(k,C):l(E,C,u))){for(d=h;--d;){var N=b[d];if(!(N?Qd(N,C):l(r[d],C,u)))continue e}k&&k.push(C),E.push(M)}}return E}function Pm(r){return gr(r)?r:[]}var SR=cn(function(r){var a=sr(r,Pm);return a.length&&a[0]===r[0]?jm(a):[]});const jR=SR;var PR=cn(function(r){var a=zo(r),u=sr(r,Pm);return a===zo(u)?a=void 0:u.pop(),u.length&&u[0]===r[0]?jm(u,Kt(a)):[]});const AR=PR;var TR=cn(function(r){var a=zo(r),u=sr(r,Pm);return a=typeof a=="function"?a:void 0,a&&u.pop(),u.length&&u[0]===r[0]?jm(u,void 0,a):[]});const MR=TR;function kR(r,a,u,l){return Ya(r,function(o,h,d){a(l,u(o),h,d)}),l}function Ax(r,a){return function(u,l){return kR(u,r,a(l),{})}}var DR=Object.prototype,NR=DR.toString,RR=Ax(function(r,a,u){a!=null&&typeof a.toString!="function"&&(a=NR.call(a)),r[a]=u},vw(li));const CR=RR;var Tx=Object.prototype,IR=Tx.hasOwnProperty,LR=Tx.toString,BR=Ax(function(r,a,u){a!=null&&typeof a.toString!="function"&&(a=LR.call(a)),IR.call(r,a)?r[a].push(u):r[a]=[u]},Kt);const zR=BR;function Mx(r,a){return a.length<2?r:Ap(r,Li(a,0,-1))}function Mp(r,a,u){a=Pl(a,r),r=Mx(r,a);var l=r==null?r:r[xl(zo(a))];return l==null?void 0:ui(l,r,u)}var $R=cn(Mp);const FR=$R;var WR=cn(function(r,a,u){var l=-1,o=typeof a=="function",h=Cu(r)?Array(r.length):[];return Hc(r,function(d){h[++l]=o?ui(a,d,u):Mp(d,a,u)}),h});const GR=WR;var UR="[object ArrayBuffer]";function HR(r){return wo(r)&&Iu(r)==UR}var oO=da&&da.isArrayBuffer,XR=oO?ci(oO):HR;const YR=XR;var VR="[object Boolean]";function KR(r){return r===!0||r===!1||wo(r)&&Iu(r)==VR}var qR="[object Date]";function ZR(r){return wo(r)&&Iu(r)==qR}var iO=da&&da.isDate,JR=iO?ci(iO):ZR;const QR=JR;function eC(r){return wo(r)&&r.nodeType===1&&!yy(r)}var tC="[object Map]",nC="[object Set]",rC=Object.prototype,oC=rC.hasOwnProperty;function iC(r){if(r==null)return!0;if(Cu(r)&&(En(r)||typeof r=="string"||typeof r.splice=="function"||vy(r)||cm(r)||im(r)))return!r.length;var a=Lu(r);if(a==tC||a==nC)return!r.size;if(cw(r))return!gw(r).length;for(var u in r)if(oC.call(r,u))return!1;return!0}function aC(r,a){return bw(r,a)}function uC(r,a,u){u=typeof u=="function"?u:void 0;var l=u?u(r,a):void 0;return l===void 0?bw(r,a,void 0,u):!!l}var cC=Gc.isFinite;function sC(r){return typeof r=="number"&&cC(r)}function kx(r){return typeof r=="number"&&r==Qt(r)}function lC(r,a){return r===a||mw(r,a,_w(a))}function fC(r,a,u){return u=typeof u=="function"?u:void 0,mw(r,a,_w(a),u)}var pC="[object Number]";function Dx(r){return typeof r=="number"||wo(r)&&Iu(r)==pC}function hC(r){return Dx(r)&&r!=+r}var dC=KA?jl:Ow;const yC=dC;var vC="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function gC(r){if(yC(r))throw new Error(vC);return qA(r)}function bC(r){return r==null}function mC(r){return r===null}var _C="[object RegExp]";function OC(r){return wo(r)&&Iu(r)==_C}var aO=da&&da.isRegExp,wC=aO?ci(aO):OC;const Am=wC;var uO=9007199254740991;function xC(r){return kx(r)&&r>=-uO&&r<=uO}function EC(r){return r===void 0}var SC="[object WeakMap]";function jC(r){return wo(r)&&Lu(r)==SC}var PC="[object WeakSet]";function AC(r){return wo(r)&&Iu(r)==PC}var TC=1;function MC(r){return Kt(typeof r=="function"?r:ii(r,TC))}var kC=Array.prototype,DC=kC.join;function NC(r,a){return r==null?"":DC.call(r,a)}var RC=Ml(function(r,a,u){return r+(u?"-":"")+a.toLowerCase()});const CC=RC;var IC=Ey(function(r,a,u){El(r,u,a)});const LC=IC;function BC(r,a,u){for(var l=u+1;l--;)if(r[l]===a)return l;return l}var zC=Math.max,$C=Math.min;function FC(r,a,u){var l=r==null?0:r.length;if(!l)return-1;var o=l;return u!==void 0&&(o=Qt(u),o=o<0?zC(l+o,0):$C(o,l-1)),a===a?BC(r,a,o):Oy(r,kw,o,!0)}var WC=Ml(function(r,a,u){return r+(u?" ":"")+a.toLowerCase()});const GC=WC;var UC=ZA("toLowerCase");const HC=UC;function Tm(r,a){return r<a}var XC=Py(Tm);const YC=XC;var VC=Py(function(r,a){return r<=a});const KC=VC;function qC(r,a){var u={};return a=Kt(a),Ya(r,function(l,o,h){El(u,a(l,o,h),l)}),u}function ZC(r,a){var u={};return a=Kt(a),Ya(r,function(l,o,h){El(u,o,a(l,o,h))}),u}var JC=1;function QC(r){return JA(ii(r,JC))}var eI=1;function tI(r,a){return QA(r,ii(a,eI))}function Ty(r,a,u){for(var l=-1,o=r.length;++l<o;){var h=r[l],d=a(h);if(d!=null&&(b===void 0?d===d&&!Ha(d):u(d,b)))var b=d,g=h}return g}function nI(r){return r&&r.length?Ty(r,li,Em):void 0}function rI(r,a){return r&&r.length?Ty(r,Kt(a),Em):void 0}function Mm(r,a){for(var u,l=-1,o=r.length;++l<o;){var h=a(r[l]);h!==void 0&&(u=u===void 0?h:u+h)}return u}var oI=0/0;function Nx(r,a){var u=r==null?0:r.length;return u?Mm(r,a)/u:oI}function iI(r){return Nx(r,li)}function aI(r,a){return Nx(r,Kt(a))}var uI=cn(function(r,a){return function(u){return Mp(u,r,a)}});const cI=uI;var sI=cn(function(r,a){return function(u){return Mp(r,u,a)}});const lI=sI;function fI(r){return r&&r.length?Ty(r,li,Tm):void 0}function pI(r,a){return r&&r.length?Ty(r,Kt(a),Tm):void 0}function Rx(r,a,u){var l=qr(a),o=jy(a,l),h=!(ai(u)&&"chain"in u)||!!u.chain,d=jl(r);return pi(o,function(b){var g=a[b];r[b]=g,d&&(r.prototype[b]=function(){var E=this.__chain__;if(h||E){var j=r(this.__wrapped__),P=j.__actions__=Bo(this.__actions__);return P.push({func:g,args:arguments,thisArg:r}),j.__chain__=E,j}return g.apply(r,Uc([this.value()],arguments))})}),r}var hI=my(function(r,a){return r*a},1);const dI=hI;var yI="Expected a function";function kp(r){if(typeof r!="function")throw new TypeError(yI);return function(){var a=arguments;switch(a.length){case 0:return!r.call(this);case 1:return!r.call(this,a[0]);case 2:return!r.call(this,a[0],a[1]);case 3:return!r.call(this,a[0],a[1],a[2])}return!r.apply(this,a)}}function vI(r){for(var a,u=[];!(a=r.next()).done;)u.push(a.value);return u}var gI="[object Map]",bI="[object Set]",$b=Du?Du.iterator:void 0;function Cx(r){if(!r)return[];if(Cu(r))return Ay(r)?ya(r):Bo(r);if($b&&r[$b])return vI(r[$b]());var a=Lu(r),u=a==gI?yw:a==bI?sm:kl;return u(r)}function mI(){this.__values__===void 0&&(this.__values__=Cx(this.value()));var r=this.__index__>=this.__values__.length,a=r?void 0:this.__values__[this.__index__++];return{done:r,value:a}}function Ix(r,a){var u=r.length;if(u)return a+=a<0?u:0,wl(a,u)?r[a]:void 0}function _I(r,a){return r&&r.length?Ix(r,Qt(a)):void 0}function OI(r){return r=Qt(r),cn(function(a){return Ix(a,r)})}function km(r,a){return a=Pl(a,r),r=Mx(r,a),r==null||delete r[xl(zo(a))]}function wI(r){return yy(r)?void 0:r}var xI=1,EI=2,SI=4,jI=Ka(function(r,a){var u={};if(r==null)return u;var l=!1;a=sr(a,function(h){return h=Pl(h,r),l||(l=h.length>1),h}),Xa(r,mm(r),u),l&&(u=ii(u,xI|EI|SI,wI));for(var o=a.length;o--;)km(u,a[o]);return u});const PI=jI;function Dp(r,a,u,l){if(!ai(r))return r;a=Pl(a,r);for(var o=-1,h=a.length,d=h-1,b=r;b!=null&&++o<h;){var g=xl(a[o]),E=u;if(g==="__proto__"||g==="constructor"||g==="prototype")return r;if(o!=d){var j=b[g];E=l?l(j,g,b):void 0,E===void 0&&(E=ai(j)?j:wl(a[o+1])?[]:{})}dy(b,g,E),b=b[g]}return r}function Lx(r,a,u){for(var l=-1,o=a.length,h={};++l<o;){var d=a[l],b=Ap(r,d);u(b,d)&&Dp(h,Pl(d,r),b)}return h}function Bx(r,a){if(r==null)return{};var u=sr(mm(r),function(l){return[l]});return a=Kt(a),Lx(r,u,function(l,o){return a(l,o[0])})}function AI(r,a){return Bx(r,kp(Kt(a)))}function TI(r){return Lw(2,r)}function MI(r,a){var u=r.length;for(r.sort(a);u--;)r[u]=r[u].value;return r}function zx(r,a){if(r!==a){var u=r!==void 0,l=r===null,o=r===r,h=Ha(r),d=a!==void 0,b=a===null,g=a===a,E=Ha(a);if(!b&&!E&&!h&&r>a||h&&d&&g&&!b&&!E||l&&d&&g||!u&&g||!o)return 1;if(!l&&!h&&!E&&r<a||E&&u&&o&&!l&&!h||b&&u&&o||!d&&o||!g)return-1}return 0}function kI(r,a,u){for(var l=-1,o=r.criteria,h=a.criteria,d=o.length,b=u.length;++l<d;){var g=zx(o[l],h[l]);if(g){if(l>=b)return g;var E=u[l];return g*(E=="desc"?-1:1)}}return r.index-a.index}function $x(r,a,u){a.length?a=sr(a,function(h){return En(h)?function(d){return Ap(d,h.length===1?h[0]:h)}:h}):a=[li];var l=-1;a=sr(a,ci(Kt));var o=eT(r,function(h,d,b){var g=sr(a,function(E){return E(h)});return{criteria:g,index:++l,value:h}});return MI(o,function(h,d){return kI(h,d,u)})}function DI(r,a,u,l){return r==null?[]:(En(a)||(a=a==null?[]:[a]),u=l?void 0:u,En(u)||(u=u==null?[]:[u]),$x(r,a,u))}function Dm(r){return Ka(function(a){return a=sr(a,ci(Kt)),cn(function(u){var l=this;return r(a,function(o){return ui(o,l,u)})})})}var NI=Dm(sr);const RI=NI;var CI=cn;const II=CI;var LI=Math.min,BI=II(function(r,a){a=a.length==1&&En(a[0])?sr(a[0],ci(Kt)):sr(zr(a,1),ci(Kt));var u=a.length;return cn(function(l){for(var o=-1,h=LI(l.length,u);++o<h;)l[o]=a[o].call(this,l[o]);return ui(r,this,l)})});const zI=BI;var $I=Dm(_x);const FI=$I;var WI=Dm(ww);const GI=WI;var UI=9007199254740991,HI=Math.floor;function Ub(r,a){var u="";if(!r||a<1||a>UI)return u;do a%2&&(u+=r),a=HI(a/2),a&&(r+=r);while(a);return u}var XI=xw("length");const YI=XI;var Fx="\\ud800-\\udfff",VI="\\u0300-\\u036f",KI="\\ufe20-\\ufe2f",qI="\\u20d0-\\u20ff",ZI=VI+KI+qI,JI="\\ufe0e\\ufe0f",QI="["+Fx+"]",Hb="["+ZI+"]",Xb="\\ud83c[\\udffb-\\udfff]",e3="(?:"+Hb+"|"+Xb+")",Wx="[^"+Fx+"]",Gx="(?:\\ud83c[\\udde6-\\uddff]){2}",Ux="[\\ud800-\\udbff][\\udc00-\\udfff]",t3="\\u200d",Hx=e3+"?",Xx="["+JI+"]?",n3="(?:"+t3+"(?:"+[Wx,Gx,Ux].join("|")+")"+Xx+Hx+")*",r3=Xx+Hx+n3,o3="(?:"+[Wx+Hb+"?",Hb,Gx,Ux,QI].join("|")+")",cO=RegExp(Xb+"(?="+Xb+")|"+o3+r3,"g");function i3(r){for(var a=cO.lastIndex=0;cO.test(r);)++a;return a}function Dl(r){return by(r)?i3(r):YI(r)}var a3=Math.ceil;function ny(r,a){a=a===void 0?" ":Ii(a);var u=a.length;if(u<2)return u?Ub(a,r):a;var l=Ub(a,a3(r/Dl(a)));return by(a)?Yc(ya(l),0,r).join(""):l.slice(0,r)}var u3=Math.ceil,c3=Math.floor;function s3(r,a,u){r=Dn(r),a=Qt(a);var l=a?Dl(r):0;if(!a||l>=a)return r;var o=(a-l)/2;return ny(c3(o),u)+r+ny(u3(o),u)}function l3(r,a,u){r=Dn(r),a=Qt(a);var l=a?Dl(r):0;return a&&l<a?r+ny(a-l,u):r}function f3(r,a,u){r=Dn(r),a=Qt(a);var l=a?Dl(r):0;return a&&l<a?ny(a-l,u)+r:r}var p3=/^\s+/,h3=Gc.parseInt;function d3(r,a,u){return u||a==null?a=0:a&&(a=+a),h3(Dn(r).replace(p3,""),a||0)}var y3=32,Nm=cn(function(r,a){var u=Nu(a,Tl(Nm));return Va(r,y3,void 0,a,u)});Nm.placeholder={};const Yx=Nm;var v3=64,Rm=cn(function(r,a){var u=Nu(a,Tl(Rm));return Va(r,v3,void 0,a,u)});Rm.placeholder={};const g3=Rm;var b3=Ey(function(r,a,u){r[u?0:1].push(a)},function(){return[[],[]]});const m3=b3;function _3(r,a){return Lx(r,a,function(u,l){return Ew(r,l)})}var O3=Ka(function(r,a){return r==null?{}:_3(r,a)});const w3=O3;function x3(r){for(var a,u=this;u instanceof _y;){var l=Tw(u);l.__index__=0,l.__values__=void 0,a?o.__wrapped__=l:a=l;var o=l;u=u.__wrapped__}return o.__wrapped__=r,a}function E3(r){return function(a){return r==null?void 0:Ap(r,a)}}function S3(r,a,u,l){for(var o=u-1,h=r.length;++o<h;)if(l(r[o],a))return o;return-1}var j3=Array.prototype,sO=j3.splice;function Cm(r,a,u,l){var o=l?S3:Al,h=-1,d=a.length,b=r;for(r===a&&(a=Bo(a)),u&&(b=sr(r,ci(u)));++h<d;)for(var g=0,E=a[h],j=u?u(E):E;(g=o(b,j,g,l))>-1;)b!==r&&sO.call(b,g,1),sO.call(r,g,1);return r}function Vx(r,a){return r&&r.length&&a&&a.length?Cm(r,a):r}var P3=cn(Vx);const A3=P3;function T3(r,a,u){return r&&r.length&&a&&a.length?Cm(r,a,Kt(u)):r}function M3(r,a,u){return r&&r.length&&a&&a.length?Cm(r,a,void 0,u):r}var k3=Array.prototype,D3=k3.splice;function Kx(r,a){for(var u=r?a.length:0,l=u-1;u--;){var o=a[u];if(u==l||o!==h){var h=o;wl(o)?D3.call(r,o,1):km(r,o)}}return r}var N3=Ka(function(r,a){var u=r==null?0:r.length,l=pm(r,a);return Kx(r,sr(a,function(o){return wl(o,u)?+o:o}).sort(zx)),l});const R3=N3;var C3=Math.floor,I3=Math.random;function Im(r,a){return r+C3(I3()*(a-r+1))}var L3=parseFloat,B3=Math.min,z3=Math.random;function $3(r,a,u){if(u&&typeof u!="boolean"&&Oo(r,a,u)&&(a=u=void 0),u===void 0&&(typeof a=="boolean"?(u=a,a=void 0):typeof r=="boolean"&&(u=r,r=void 0)),r===void 0&&a===void 0?(r=0,a=1):(r=Ua(r),a===void 0?(a=r,r=0):a=Ua(a)),r>a){var l=r;r=a,a=l}if(u||r%1||a%1){var o=z3();return B3(r+o*(a-r+L3("1e-"+((o+"").length-1))),a)}return Im(r,a)}var F3=Math.ceil,W3=Math.max;function G3(r,a,u,l){for(var o=-1,h=W3(F3((a-r)/(u||1)),0),d=Array(h);h--;)d[l?h:++o]=r,r+=u;return d}function qx(r){return function(a,u,l){return l&&typeof l!="number"&&Oo(a,u,l)&&(u=l=void 0),a=Ua(a),u===void 0?(u=a,a=0):u=Ua(u),l=l===void 0?a<u?1:-1:Ua(l),G3(a,u,l,r)}}var U3=qx();const H3=U3;var X3=qx(!0);const Y3=X3;var V3=256,K3=Ka(function(r,a){return Va(r,V3,void 0,void 0,void 0,a)});const q3=K3;function Zx(r,a,u,l,o){return o(r,function(h,d,b){u=l?(l=!1,h):a(u,h,d,b)}),u}function Z3(r,a,u){var l=En(r)?vm:Zx,o=arguments.length<3;return l(r,Kt(a),u,o,Hc)}function J3(r,a,u,l){var o=r==null?0:r.length;for(l&&o&&(u=r[--o]);o--;)u=a(u,r[o],o,r);return u}function Q3(r,a,u){var l=En(r)?J3:Zx,o=arguments.length<3;return l(r,Kt(a),u,o,yx)}function eL(r,a){var u=En(r)?Xc:wx;return u(r,kp(Kt(a)))}function tL(r,a){var u=[];if(!(r&&r.length))return u;var l=-1,o=[],h=r.length;for(a=Kt(a);++l<h;){var d=r[l];a(d,l,r)&&(u.push(d),o.push(l))}return Kx(r,o),u}function nL(r,a,u){return(u?Oo(r,a,u):a===void 0)?a=1:a=Qt(a),Ub(Dn(r),a)}function rL(){var r=arguments,a=Dn(r[0]);return r.length<3?a:a.replace(r[1],r[2])}var oL="Expected a function";function iL(r,a){if(typeof r!="function")throw new TypeError(oL);return a=a===void 0?a:Qt(a),cn(r,a)}function aL(r,a,u){a=Pl(a,r);var l=-1,o=a.length;for(o||(o=1,r=void 0);++l<o;){var h=r==null?void 0:r[xl(a[l])];h===void 0&&(l=o,h=u),r=jl(h)?h.call(r):h}return r}var uL=Array.prototype,cL=uL.reverse;function Yb(r){return r==null?r:cL.call(r)}var sL=bm("round");const lL=sL;function Jx(r){var a=r.length;return a?r[Im(0,a-1)]:void 0}function fL(r){return Jx(kl(r))}function pL(r){var a=En(r)?Jx:fL;return a(r)}function My(r,a){var u=-1,l=r.length,o=l-1;for(a=a===void 0?l:a;++u<a;){var h=Im(u,o),d=r[h];r[h]=r[u],r[u]=d}return r.length=a,r}function hL(r,a){return My(Bo(r),Vc(a,0,r.length))}function dL(r,a){var u=kl(r);return My(u,Vc(a,0,u.length))}function yL(r,a,u){(u?Oo(r,a,u):a===void 0)?a=1:a=Qt(a);var l=En(r)?hL:dL;return l(r,a)}function vL(r,a,u){return r==null?r:Dp(r,a,u)}function gL(r,a,u,l){return l=typeof l=="function"?l:void 0,r==null?r:Dp(r,a,u,l)}function bL(r){return My(Bo(r))}function mL(r){return My(kl(r))}function _L(r){var a=En(r)?bL:mL;return a(r)}var OL="[object Map]",wL="[object Set]";function xL(r){if(r==null)return 0;if(Cu(r))return Ay(r)?Dl(r):r.length;var a=Lu(r);return a==OL||a==wL?r.size:gw(r).length}function EL(r,a,u){var l=r==null?0:r.length;return l?(u&&typeof u!="number"&&Oo(r,a,u)?(a=0,u=l):(a=a==null?0:Qt(a),u=u===void 0?l:Qt(u)),Li(r,a,u)):[]}var SL=Ml(function(r,a,u){return r+(u?"_":"")+a.toLowerCase()});const jL=SL;function PL(r,a){var u;return Hc(r,function(l,o,h){return u=a(l,o,h),!u}),!!u}function AL(r,a,u){var l=En(r)?ww:PL;return u&&Oo(r,a,u)&&(a=void 0),l(r,Kt(a))}var TL=cn(function(r,a){if(r==null)return[];var u=a.length;return u>1&&Oo(r,a[0],a[1])?a=[]:u>2&&Oo(a[0],a[1],a[2])&&(a=[a[0]]),$x(r,zr(a,1),[])});const ML=TL;var kL=4294967295,DL=kL-1,NL=Math.floor,RL=Math.min;function Lm(r,a,u,l){var o=0,h=r==null?0:r.length;if(h===0)return 0;a=u(a);for(var d=a!==a,b=a===null,g=Ha(a),E=a===void 0;o<h;){var j=NL((o+h)/2),P=u(r[j]),k=P!==void 0,M=P===null,C=P===P,N=Ha(P);if(d)var L=l||C;else E?L=C&&(l||k):b?L=C&&k&&(l||!M):g?L=C&&k&&!M&&(l||!N):M||N?L=!1:L=l?P<=a:P<a;L?o=j+1:h=j}return RL(h,DL)}var CL=4294967295,IL=CL>>>1;function ky(r,a,u){var l=0,o=r==null?l:r.length;if(typeof a=="number"&&a===a&&o<=IL){for(;l<o;){var h=l+o>>>1,d=r[h];d!==null&&!Ha(d)&&(u?d<=a:d<a)?l=h+1:o=h}return o}return Lm(r,a,li,u)}function LL(r,a){return ky(r,a)}function BL(r,a,u){return Lm(r,a,Kt(u))}function zL(r,a){var u=r==null?0:r.length;if(u){var l=ky(r,a);if(l<u&&Sl(r[l],a))return l}return-1}function $L(r,a){return ky(r,a,!0)}function FL(r,a,u){return Lm(r,a,Kt(u),!0)}function WL(r,a){var u=r==null?0:r.length;if(u){var l=ky(r,a,!0)-1;if(Sl(r[l],a))return l}return-1}function Qx(r,a){for(var u=-1,l=r.length,o=0,h=[];++u<l;){var d=r[u],b=a?a(d):d;if(!u||!Sl(b,g)){var g=b;h[o++]=d===0?0:d}}return h}function GL(r){return r&&r.length?Qx(r):[]}function UL(r,a){return r&&r.length?Qx(r,Kt(a)):[]}var HL=4294967295;function XL(r,a,u){return u&&typeof u!="number"&&Oo(r,a,u)&&(a=u=void 0),u=u===void 0?HL:u>>>0,u?(r=Dn(r),r&&(typeof a=="string"||a!=null&&!Am(a))&&(a=Ii(a),!a&&by(r))?Yc(ya(r),0,u):r.split(a,u)):[]}var YL="Expected a function",VL=Math.max;function KL(r,a){if(typeof r!="function")throw new TypeError(YL);return a=a==null?0:VL(Qt(a),0),cn(function(u){var l=u[a],o=Yc(u,0,a);return l&&Uc(o,l),ui(r,this,o)})}var qL=Ml(function(r,a,u){return r+(u?" ":"")+am(a)});const ZL=qL;function JL(r,a,u){return r=Dn(r),u=u==null?0:Vc(Qt(u),0,r.length),a=Ii(a),r.slice(u,u+a.length)==a}function QL(){return{}}function e4(){return""}function t4(){return!0}var n4=my(function(r,a){return r-a},0);const r4=n4;function o4(r){return r&&r.length?Mm(r,li):0}function i4(r,a){return r&&r.length?Mm(r,Kt(a)):0}function a4(r){var a=r==null?0:r.length;return a?Li(r,1,a):[]}function u4(r,a,u){return r&&r.length?(a=u||a===void 0?1:Qt(a),Li(r,0,a<0?0:a)):[]}function c4(r,a,u){var l=r==null?0:r.length;return l?(a=u||a===void 0?1:Qt(a),a=l-a,Li(r,a<0?0:a,l)):[]}function s4(r,a){return r&&r.length?Sy(r,Kt(a),!1,!0):[]}function l4(r,a){return r&&r.length?Sy(r,Kt(a)):[]}function f4(r,a){return a(r),r}var eE=Object.prototype,p4=eE.hasOwnProperty;function lO(r,a,u,l){return r===void 0||Sl(r,eE[u])&&!p4.call(l,u)?a:r}var h4={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function d4(r){return"\\"+h4[r]}var y4=/<%=([\s\S]+?)%>/g;const tE=y4;var v4=/<%-([\s\S]+?)%>/g;const g4=v4;var b4=/<%([\s\S]+?)%>/g;const m4=b4;var _4={escape:g4,evaluate:m4,interpolate:tE,variable:"",imports:{_:{escape:bx}}};const Vb=_4;var O4="Invalid `variable` option passed into `_.template`",w4=/\b__p \+= '';/g,x4=/\b(__p \+=) '' \+/g,E4=/(__e\(.*?\)|\b__t\)) \+\n'';/g,S4=/[()=,{}\[\]\/\s]/,j4=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Yd=/($^)/,P4=/['\n\r\u2028\u2029\\]/g,A4=Object.prototype,fO=A4.hasOwnProperty;function T4(r,a,u){var l=Vb.imports._.templateSettings||Vb;u&&Oo(r,a,u)&&(a=void 0),r=Dn(r),a=ty({},a,l,lO);var o=ty({},a.imports,l.imports,lO),h=qr(o),d=Sm(o,h),b,g,E=0,j=a.interpolate||Yd,P="__p += '",k=RegExp((a.escape||Yd).source+"|"+j.source+"|"+(j===tE?j4:Yd).source+"|"+(a.evaluate||Yd).source+"|$","g"),M=fO.call(a,"sourceURL")?"//# sourceURL="+(a.sourceURL+"").replace(/\s/g," ")+"\n":"";r.replace(k,function(L,G,U,te,ae,re){return U||(U=te),P+=r.slice(E,re).replace(P4,d4),G&&(b=!0,P+="' +\n__e("+G+") +\n'"),ae&&(g=!0,P+="';\n"+ae+";\n__p += '"),U&&(P+="' +\n((__t = ("+U+")) == null ? '' : __t) +\n'"),E=re+L.length,L}),P+="';\n";var C=fO.call(a,"variable")&&a.variable;if(!C)P="with (obj) {\n"+P+"\n}\n";else if(S4.test(C))throw new Error(O4);P=(g?P.replace(w4,""):P).replace(x4,"$1").replace(E4,"$1;"),P="function("+(C||"obj")+") {\n"+(C?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(b?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+P+"return __p\n}";var N=Iw(function(){return Function(h,M+"return "+P).apply(void 0,d)});if(N.source=P,hm(N))throw N;return N}function Np(r,a){return a(r)}var M4=9007199254740991,Fb=4294967295,k4=Math.min;function D4(r,a){if(r=Qt(r),r<1||r>M4)return[];var u=Fb,l=k4(r,Fb);a=ga(a),r-=Fb;for(var o=Sw(l,a);++u<r;)a(u);return o}function N4(){return this}function nE(r,a){var u=r;return u instanceof pn&&(u=u.value()),vm(a,function(l,o){return o.func.apply(o.thisArg,Uc([l],o.args))},u)}function Wb(){return nE(this.__wrapped__,this.__actions__)}function R4(r){return Dn(r).toLowerCase()}function C4(r){return En(r)?sr(r,xl):Ha(r)?[r]:Bo(tT(Dn(r)))}var pO=9007199254740991;function I4(r){return r?Vc(Qt(r),-pO,pO):r===0?r:0}function L4(r){return Dn(r).toUpperCase()}function B4(r,a,u){var l=En(r),o=l||vy(r)||cm(r);if(a=Kt(a),u==null){var h=r&&r.constructor;o?u=l?new h:[]:ai(r)?u=jl(h)?jp(pw(r)):{}:u={}}return(o?pi:Ya)(r,function(d,b,g){return a(u,d,b,g)}),u}function rE(r,a){for(var u=r.length;u--&&Al(a,r[u],0)>-1;);return u}function oE(r,a){for(var u=-1,l=r.length;++u<l&&Al(a,r[u],0)>-1;);return u}function z4(r,a,u){if(r=Dn(r),r&&(u||a===void 0))return hT(r);if(!r||!(a=Ii(a)))return r;var l=ya(r),o=ya(a),h=oE(l,o),d=rE(l,o)+1;return Yc(l,h,d).join("")}function $4(r,a,u){if(r=Dn(r),r&&(u||a===void 0))return r.slice(0,dT(r)+1);if(!r||!(a=Ii(a)))return r;var l=ya(r),o=rE(l,ya(a))+1;return Yc(l,0,o).join("")}var F4=/^\s+/;function W4(r,a,u){if(r=Dn(r),r&&(u||a===void 0))return r.replace(F4,"");if(!r||!(a=Ii(a)))return r;var l=ya(r),o=oE(l,ya(a));return Yc(l,o).join("")}var G4=30,U4="...",H4=/\w*$/;function X4(r,a){var u=G4,l=U4;if(ai(a)){var o="separator"in a?a.separator:o;u="length"in a?Qt(a.length):u,l="omission"in a?Ii(a.omission):l}r=Dn(r);var h=r.length;if(by(r)){var d=ya(r);h=d.length}if(u>=h)return r;var b=u-Dl(l);if(b<1)return l;var g=d?Yc(d,0,b).join(""):r.slice(0,b);if(o===void 0)return g+l;if(d&&(b+=g.length-b),Am(o)){if(r.slice(b).search(o)){var E,j=g;for(o.global||(o=RegExp(o.source,Dn(H4.exec(o))+"g")),o.lastIndex=0;E=o.exec(j);)var P=E.index;g=g.slice(0,P===void 0?b:P)}}else if(r.indexOf(Ii(o),b)!=b){var k=g.lastIndexOf(o);k>-1&&(g=g.slice(0,k))}return g+l}function Y4(r){return Rw(r,1)}var V4={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},K4=gm(V4);const q4=K4;var iE=/&(?:amp|lt|gt|quot|#39);/g,Z4=RegExp(iE.source);function J4(r){return r=Dn(r),r&&Z4.test(r)?r.replace(iE,q4):r}var Q4=1/0,e8=Cb&&1/sm(new Cb([,-0]))[1]==Q4?function(r){return new Cb(r)}:lm;const t8=e8;var n8=200;function Ru(r,a,u){var l=-1,o=wy,h=r.length,d=!0,b=[],g=b;if(u)d=!1,o=wm;else if(h>=n8){var E=a?null:t8(r);if(E)return sm(E);d=!1,o=Qd,g=new um}else g=a?[]:b;e:for(;++l<h;){var j=r[l],P=a?a(j):j;if(j=u||j!==0?j:0,d&&P===P){for(var k=g.length;k--;)if(g[k]===P)continue e;a&&g.push(P),b.push(j)}else o(g,P,u)||(g!==b&&g.push(P),b.push(j))}return b}var r8=cn(function(r){return Ru(zr(r,1,gr,!0))});const o8=r8;var i8=cn(function(r){var a=zo(r);return gr(a)&&(a=void 0),Ru(zr(r,1,gr,!0),Kt(a))});const a8=i8;var u8=cn(function(r){var a=zo(r);return a=typeof a=="function"?a:void 0,Ru(zr(r,1,gr,!0),void 0,a)});const c8=u8;function s8(r){return r&&r.length?Ru(r):[]}function l8(r,a){return r&&r.length?Ru(r,Kt(a)):[]}function f8(r,a){return a=typeof a=="function"?a:void 0,r&&r.length?Ru(r,void 0,a):[]}var p8=0;function h8(r){var a=++p8;return Dn(r)+a}function d8(r,a){return r==null?!0:km(r,a)}var y8=Math.max;function Bm(r){if(!(r&&r.length))return[];var a=0;return r=Xc(r,function(u){if(gr(u))return a=y8(u.length,a),!0}),Sw(a,function(u){return sr(r,xw(u))})}function aE(r,a){if(!(r&&r.length))return[];var u=Bm(r);return a==null?u:sr(u,function(l){return ui(a,void 0,l)})}function uE(r,a,u,l){return Dp(r,a,u(Ap(r,a)),l)}function v8(r,a,u){return r==null?r:uE(r,a,ga(u))}function g8(r,a,u,l){return l=typeof l=="function"?l:void 0,r==null?r:uE(r,a,ga(u),l)}var b8=Ml(function(r,a,u){return r+(u?" ":"")+a.toUpperCase()});const m8=b8;function _8(r){return r==null?[]:Sm(r,fi(r))}var O8=cn(function(r,a){return gr(r)?Tp(r,a):[]});const w8=O8;function x8(r,a){return Yx(ga(a),r)}var E8=Ka(function(r){var a=r.length,u=a?r[0]:0,l=this.__wrapped__,o=function(h){return pm(h,r)};return a>1||this.__actions__.length||!(l instanceof pn)||!wl(u)?this.thru(o):(l=l.slice(u,+u+(a?1:0)),l.__actions__.push({func:Np,args:[o],thisArg:void 0}),new si(l,this.__chain__).thru(function(h){return a&&!h.length&&h.push(void 0),h}))});const S8=E8;function j8(){return tx(this)}function P8(){var r=this.__wrapped__;if(r instanceof pn){var a=r;return this.__actions__.length&&(a=new pn(this)),a=a.reverse(),a.__actions__.push({func:Np,args:[Yb],thisArg:void 0}),new si(a,this.__chain__)}return this.thru(Yb)}function zm(r,a,u){var l=r.length;if(l<2)return l?Ru(r[0]):[];for(var o=-1,h=Array(l);++o<l;)for(var d=r[o],b=-1;++b<l;)b!=o&&(h[o]=Tp(h[o]||d,r[b],a,u));return Ru(zr(h,1),a,u)}var A8=cn(function(r){return zm(Xc(r,gr))});const T8=A8;var M8=cn(function(r){var a=zo(r);return gr(a)&&(a=void 0),zm(Xc(r,gr),Kt(a))});const k8=M8;var D8=cn(function(r){var a=zo(r);return a=typeof a=="function"?a:void 0,zm(Xc(r,gr),void 0,a)});const N8=D8;var R8=cn(Bm);const C8=R8;function cE(r,a,u){for(var l=-1,o=r.length,h=a.length,d={};++l<o;){var b=l<h?a[l]:void 0;u(d,r[l],b)}return d}function I8(r,a){return cE(r||[],a||[],dy)}function L8(r,a){return cE(r||[],a||[],Dp)}var B8=cn(function(r){var a=r.length,u=a>1?r[a-1]:void 0;return u=typeof u=="function"?(r.pop(),u):void 0,aE(r,u)});const z8=B8,yt={chunk:FM,compact:lD,concat:fD,difference:FD,differenceBy:GD,differenceWith:HD,drop:VD,dropRight:KD,dropRightWhile:qD,dropWhile:ZD,fill:bN,findIndex:Ex,findLastIndex:jx,first:rO,flatten:Cw,flattenDeep:RN,flattenDepth:CN,fromPairs:QN,head:rO,indexOf:wR,initial:xR,intersection:jR,intersectionBy:AR,intersectionWith:MR,join:NC,last:zo,lastIndexOf:FC,nth:_I,pull:A3,pullAll:Vx,pullAllBy:T3,pullAllWith:M3,pullAt:R3,remove:tL,reverse:Yb,slice:EL,sortedIndex:LL,sortedIndexBy:BL,sortedIndexOf:zL,sortedLastIndex:$L,sortedLastIndexBy:FL,sortedLastIndexOf:WL,sortedUniq:GL,sortedUniqBy:UL,tail:a4,take:u4,takeRight:c4,takeRightWhile:s4,takeWhile:l4,union:o8,unionBy:a8,unionWith:c8,uniq:s8,uniqBy:l8,uniqWith:f8,unzip:Bm,unzipWith:aE,without:w8,xor:T8,xorBy:k8,xorWith:N8,zip:C8,zipObject:I8,zipObjectDeep:L8,zipWith:z8},Nn={countBy:xD,each:Q1,eachRight:eO,every:yN,filter:mN,find:wN,findLast:PN,flatMap:TN,flatMapDeep:kN,flatMapDepth:DN,forEach:Q1,forEachRight:eO,groupBy:iR,includes:_R,invokeMap:GR,keyBy:LC,map:gy,orderBy:DI,partition:m3,reduce:Z3,reduceRight:Q3,reject:eL,sample:pL,sampleSize:yL,shuffle:_L,size:xL,some:AL,sortBy:ML},$8={now:yT},lr={after:xT,ary:Rw,before:Lw,bind:Bw,bindKey:X2,curry:_m,curryRight:Om,debounce:vT,defer:ID,delay:BD,flip:LN,memoize:nT,negate:kp,once:TI,overArgs:zI,partial:Yx,partialRight:g3,rearg:q3,rest:iL,spread:KL,throttle:gT,unary:Y4,wrap:x8},Nt={castArray:RM,clone:eD,cloneDeep:rD,cloneDeepWith:aD,cloneWith:cD,conformsTo:gD,eq:Sl,gt:uR,gte:sR,isArguments:im,isArray:En,isArrayBuffer:YR,isArrayLike:Cu,isArrayLikeObject:gr,isBoolean:KR,isBuffer:vy,isDate:QR,isElement:eC,isEmpty:iC,isEqual:aC,isEqualWith:uC,isError:hm,isFinite:sC,isFunction:jl,isInteger:kx,isLength:rT,isMap:ox,isMatch:lC,isMatchWith:fC,isNaN:hC,isNative:gC,isNil:bC,isNull:mC,isNumber:Dx,isObject:ai,isObjectLike:wo,isPlainObject:yy,isRegExp:Am,isSafeInteger:xC,isSet:ix,isString:Ay,isSymbol:Ha,isTypedArray:cm,isUndefined:EC,isWeakMap:jC,isWeakSet:AC,lt:YC,lte:KC,toArray:Cx,toFinite:Ua,toInteger:Qt,toLength:Ox,toNumber:ha,toPlainObject:oT,toSafeInteger:I4,toString:Dn},co={add:_T,ceil:BM,divide:YD,floor:zN,max:nI,maxBy:rI,mean:iI,meanBy:aI,min:fI,minBy:pI,multiply:dI,round:lL,subtract:r4,sum:o4,sumBy:i4},$m={clamp:WM,inRange:gR,random:$3},Ht={assign:P2,assignIn:G1,assignInWith:ty,assignWith:k2,at:R2,create:ED,defaults:MD,defaultsDeep:ND,entries:tO,entriesIn:nO,extend:G1,extendWith:ty,findKey:xN,findLastKey:AN,forIn:KN,forInRight:qN,forOwn:ZN,forOwnRight:JN,functions:eR,functionsIn:tR,get:sw,has:hR,hasIn:Ew,invert:CR,invertBy:zR,invoke:FR,keys:qr,keysIn:fi,mapKeys:qC,mapValues:ZC,merge:iT,mergeWith:px,omit:PI,omitBy:AI,pick:w3,pickBy:Bx,result:aL,set:vL,setWith:gL,toPairs:tO,toPairsIn:nO,transform:B4,unset:d8,update:v8,updateWith:g8,values:kl,valuesIn:_8},ba={at:S8,chain:tx,commit:sD,lodash:F,next:mI,plant:x3,reverse:P8,tap:f4,thru:Np,toIterator:N4,toJSON:Wb,value:Wb,valueOf:Wb,wrapperChain:j8},jn={camelCase:NM,capitalize:zw,deburr:$w,endsWith:tN,escape:bx,escapeRegExp:hN,kebabCase:CC,lowerCase:GC,lowerFirst:HC,pad:s3,padEnd:l3,padStart:f3,parseInt:d3,repeat:nL,replace:rL,snakeCase:jL,split:XL,startCase:ZL,startsWith:JL,template:T4,templateSettings:Vb,toLower:R4,toUpper:L4,trim:z4,trimEnd:$4,trimStart:W4,truncate:X4,unescape:J4,upperCase:m8,upperFirst:am,words:ex},Pn={attempt:Iw,bindAll:W2,cond:hD,conforms:vD,constant:vw,defaultTo:PD,flow:XN,flowRight:VN,identity:li,iteratee:MC,matches:QC,matchesProperty:tI,method:cI,methodOf:lI,mixin:Rx,noop:lm,nthArg:OI,over:RI,overEvery:FI,overSome:GI,property:aT,propertyOf:E3,range:H3,rangeRight:Y3,stubArray:fw,stubFalse:Ow,stubObject:QL,stubString:e4,stubTrue:t4,times:D4,toPath:C4,uniqueId:h8};function F8(){var r=new pn(this.__wrapped__);return r.__actions__=Bo(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Bo(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Bo(this.__views__),r}function W8(){if(this.__filtered__){var r=new pn(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}var G8=Math.max,U8=Math.min;function H8(r,a,u){for(var l=-1,o=u.length;++l<o;){var h=u[l],d=h.size;switch(h.type){case"drop":r+=d;break;case"dropRight":a-=d;break;case"take":a=U8(a,r+d);break;case"takeRight":r=G8(r,a-d);break}}return{start:r,end:a}}var X8=1,Y8=2,V8=Math.min;function K8(){var r=this.__wrapped__.value(),a=this.__dir__,u=En(r),l=a<0,o=u?r.length:0,h=H8(0,o,this.__views__),d=h.start,b=h.end,g=b-d,E=l?b:d-1,j=this.__iteratees__,P=j.length,k=0,M=V8(g,this.__takeCount__);if(!u||!l&&o==g&&M==g)return nE(r,this.__actions__);var C=[];e:for(;g--&&k<M;){E+=a;for(var N=-1,L=r[E];++N<P;){var G=j[N],U=G.iteratee,te=G.type,ae=U(L);if(te==Y8)L=ae;else if(!ae){if(te==X8)continue e;break e}}C[k++]=L}return C}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var q8="4.17.21",Z8=2,J8=1,Q8=3,sE=4294967295,e5=Array.prototype,t5=Object.prototype,lE=t5.hasOwnProperty,hO=Du?Du.iterator:void 0,n5=Math.max,dO=Math.min,Fm=function(r){return function(a,u,l){if(l==null){var o=ai(u),h=o&&qr(u),d=h&&h.length&&jy(u,h);(d?d.length:o)||(l=u,u=a,a=this)}return r(a,u,l)}}(Rx);F.after=lr.after;F.ary=lr.ary;F.assign=Ht.assign;F.assignIn=Ht.assignIn;F.assignInWith=Ht.assignInWith;F.assignWith=Ht.assignWith;F.at=Ht.at;F.before=lr.before;F.bind=lr.bind;F.bindAll=Pn.bindAll;F.bindKey=lr.bindKey;F.castArray=Nt.castArray;F.chain=ba.chain;F.chunk=yt.chunk;F.compact=yt.compact;F.concat=yt.concat;F.cond=Pn.cond;F.conforms=Pn.conforms;F.constant=Pn.constant;F.countBy=Nn.countBy;F.create=Ht.create;F.curry=lr.curry;F.curryRight=lr.curryRight;F.debounce=lr.debounce;F.defaults=Ht.defaults;F.defaultsDeep=Ht.defaultsDeep;F.defer=lr.defer;F.delay=lr.delay;F.difference=yt.difference;F.differenceBy=yt.differenceBy;F.differenceWith=yt.differenceWith;F.drop=yt.drop;F.dropRight=yt.dropRight;F.dropRightWhile=yt.dropRightWhile;F.dropWhile=yt.dropWhile;F.fill=yt.fill;F.filter=Nn.filter;F.flatMap=Nn.flatMap;F.flatMapDeep=Nn.flatMapDeep;F.flatMapDepth=Nn.flatMapDepth;F.flatten=yt.flatten;F.flattenDeep=yt.flattenDeep;F.flattenDepth=yt.flattenDepth;F.flip=lr.flip;F.flow=Pn.flow;F.flowRight=Pn.flowRight;F.fromPairs=yt.fromPairs;F.functions=Ht.functions;F.functionsIn=Ht.functionsIn;F.groupBy=Nn.groupBy;F.initial=yt.initial;F.intersection=yt.intersection;F.intersectionBy=yt.intersectionBy;F.intersectionWith=yt.intersectionWith;F.invert=Ht.invert;F.invertBy=Ht.invertBy;F.invokeMap=Nn.invokeMap;F.iteratee=Pn.iteratee;F.keyBy=Nn.keyBy;F.keys=qr;F.keysIn=Ht.keysIn;F.map=Nn.map;F.mapKeys=Ht.mapKeys;F.mapValues=Ht.mapValues;F.matches=Pn.matches;F.matchesProperty=Pn.matchesProperty;F.memoize=lr.memoize;F.merge=Ht.merge;F.mergeWith=Ht.mergeWith;F.method=Pn.method;F.methodOf=Pn.methodOf;F.mixin=Fm;F.negate=kp;F.nthArg=Pn.nthArg;F.omit=Ht.omit;F.omitBy=Ht.omitBy;F.once=lr.once;F.orderBy=Nn.orderBy;F.over=Pn.over;F.overArgs=lr.overArgs;F.overEvery=Pn.overEvery;F.overSome=Pn.overSome;F.partial=lr.partial;F.partialRight=lr.partialRight;F.partition=Nn.partition;F.pick=Ht.pick;F.pickBy=Ht.pickBy;F.property=Pn.property;F.propertyOf=Pn.propertyOf;F.pull=yt.pull;F.pullAll=yt.pullAll;F.pullAllBy=yt.pullAllBy;F.pullAllWith=yt.pullAllWith;F.pullAt=yt.pullAt;F.range=Pn.range;F.rangeRight=Pn.rangeRight;F.rearg=lr.rearg;F.reject=Nn.reject;F.remove=yt.remove;F.rest=lr.rest;F.reverse=yt.reverse;F.sampleSize=Nn.sampleSize;F.set=Ht.set;F.setWith=Ht.setWith;F.shuffle=Nn.shuffle;F.slice=yt.slice;F.sortBy=Nn.sortBy;F.sortedUniq=yt.sortedUniq;F.sortedUniqBy=yt.sortedUniqBy;F.split=jn.split;F.spread=lr.spread;F.tail=yt.tail;F.take=yt.take;F.takeRight=yt.takeRight;F.takeRightWhile=yt.takeRightWhile;F.takeWhile=yt.takeWhile;F.tap=ba.tap;F.throttle=lr.throttle;F.thru=Np;F.toArray=Nt.toArray;F.toPairs=Ht.toPairs;F.toPairsIn=Ht.toPairsIn;F.toPath=Pn.toPath;F.toPlainObject=Nt.toPlainObject;F.transform=Ht.transform;F.unary=lr.unary;F.union=yt.union;F.unionBy=yt.unionBy;F.unionWith=yt.unionWith;F.uniq=yt.uniq;F.uniqBy=yt.uniqBy;F.uniqWith=yt.uniqWith;F.unset=Ht.unset;F.unzip=yt.unzip;F.unzipWith=yt.unzipWith;F.update=Ht.update;F.updateWith=Ht.updateWith;F.values=Ht.values;F.valuesIn=Ht.valuesIn;F.without=yt.without;F.words=jn.words;F.wrap=lr.wrap;F.xor=yt.xor;F.xorBy=yt.xorBy;F.xorWith=yt.xorWith;F.zip=yt.zip;F.zipObject=yt.zipObject;F.zipObjectDeep=yt.zipObjectDeep;F.zipWith=yt.zipWith;F.entries=Ht.toPairs;F.entriesIn=Ht.toPairsIn;F.extend=Ht.assignIn;F.extendWith=Ht.assignInWith;Fm(F,F);F.add=co.add;F.attempt=Pn.attempt;F.camelCase=jn.camelCase;F.capitalize=jn.capitalize;F.ceil=co.ceil;F.clamp=$m.clamp;F.clone=Nt.clone;F.cloneDeep=Nt.cloneDeep;F.cloneDeepWith=Nt.cloneDeepWith;F.cloneWith=Nt.cloneWith;F.conformsTo=Nt.conformsTo;F.deburr=jn.deburr;F.defaultTo=Pn.defaultTo;F.divide=co.divide;F.endsWith=jn.endsWith;F.eq=Nt.eq;F.escape=jn.escape;F.escapeRegExp=jn.escapeRegExp;F.every=Nn.every;F.find=Nn.find;F.findIndex=yt.findIndex;F.findKey=Ht.findKey;F.findLast=Nn.findLast;F.findLastIndex=yt.findLastIndex;F.findLastKey=Ht.findLastKey;F.floor=co.floor;F.forEach=Nn.forEach;F.forEachRight=Nn.forEachRight;F.forIn=Ht.forIn;F.forInRight=Ht.forInRight;F.forOwn=Ht.forOwn;F.forOwnRight=Ht.forOwnRight;F.get=Ht.get;F.gt=Nt.gt;F.gte=Nt.gte;F.has=Ht.has;F.hasIn=Ht.hasIn;F.head=yt.head;F.identity=li;F.includes=Nn.includes;F.indexOf=yt.indexOf;F.inRange=$m.inRange;F.invoke=Ht.invoke;F.isArguments=Nt.isArguments;F.isArray=En;F.isArrayBuffer=Nt.isArrayBuffer;F.isArrayLike=Nt.isArrayLike;F.isArrayLikeObject=Nt.isArrayLikeObject;F.isBoolean=Nt.isBoolean;F.isBuffer=Nt.isBuffer;F.isDate=Nt.isDate;F.isElement=Nt.isElement;F.isEmpty=Nt.isEmpty;F.isEqual=Nt.isEqual;F.isEqualWith=Nt.isEqualWith;F.isError=Nt.isError;F.isFinite=Nt.isFinite;F.isFunction=Nt.isFunction;F.isInteger=Nt.isInteger;F.isLength=Nt.isLength;F.isMap=Nt.isMap;F.isMatch=Nt.isMatch;F.isMatchWith=Nt.isMatchWith;F.isNaN=Nt.isNaN;F.isNative=Nt.isNative;F.isNil=Nt.isNil;F.isNull=Nt.isNull;F.isNumber=Nt.isNumber;F.isObject=ai;F.isObjectLike=Nt.isObjectLike;F.isPlainObject=Nt.isPlainObject;F.isRegExp=Nt.isRegExp;F.isSafeInteger=Nt.isSafeInteger;F.isSet=Nt.isSet;F.isString=Nt.isString;F.isSymbol=Nt.isSymbol;F.isTypedArray=Nt.isTypedArray;F.isUndefined=Nt.isUndefined;F.isWeakMap=Nt.isWeakMap;F.isWeakSet=Nt.isWeakSet;F.join=yt.join;F.kebabCase=jn.kebabCase;F.last=zo;F.lastIndexOf=yt.lastIndexOf;F.lowerCase=jn.lowerCase;F.lowerFirst=jn.lowerFirst;F.lt=Nt.lt;F.lte=Nt.lte;F.max=co.max;F.maxBy=co.maxBy;F.mean=co.mean;F.meanBy=co.meanBy;F.min=co.min;F.minBy=co.minBy;F.stubArray=Pn.stubArray;F.stubFalse=Pn.stubFalse;F.stubObject=Pn.stubObject;F.stubString=Pn.stubString;F.stubTrue=Pn.stubTrue;F.multiply=co.multiply;F.nth=yt.nth;F.noop=Pn.noop;F.now=$8.now;F.pad=jn.pad;F.padEnd=jn.padEnd;F.padStart=jn.padStart;F.parseInt=jn.parseInt;F.random=$m.random;F.reduce=Nn.reduce;F.reduceRight=Nn.reduceRight;F.repeat=jn.repeat;F.replace=jn.replace;F.result=Ht.result;F.round=co.round;F.sample=Nn.sample;F.size=Nn.size;F.snakeCase=jn.snakeCase;F.some=Nn.some;F.sortedIndex=yt.sortedIndex;F.sortedIndexBy=yt.sortedIndexBy;F.sortedIndexOf=yt.sortedIndexOf;F.sortedLastIndex=yt.sortedLastIndex;F.sortedLastIndexBy=yt.sortedLastIndexBy;F.sortedLastIndexOf=yt.sortedLastIndexOf;F.startCase=jn.startCase;F.startsWith=jn.startsWith;F.subtract=co.subtract;F.sum=co.sum;F.sumBy=co.sumBy;F.template=jn.template;F.times=Pn.times;F.toFinite=Nt.toFinite;F.toInteger=Qt;F.toLength=Nt.toLength;F.toLower=jn.toLower;F.toNumber=Nt.toNumber;F.toSafeInteger=Nt.toSafeInteger;F.toString=Nt.toString;F.toUpper=jn.toUpper;F.trim=jn.trim;F.trimEnd=jn.trimEnd;F.trimStart=jn.trimStart;F.truncate=jn.truncate;F.unescape=jn.unescape;F.uniqueId=Pn.uniqueId;F.upperCase=jn.upperCase;F.upperFirst=jn.upperFirst;F.each=Nn.forEach;F.eachRight=Nn.forEachRight;F.first=yt.head;Fm(F,function(){var r={};return Ya(F,function(a,u){lE.call(F.prototype,u)||(r[u]=a)}),r}(),{chain:!1});F.VERSION=q8;(F.templateSettings=jn.templateSettings).imports._=F;pi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){F[r].placeholder=F});pi(["drop","take"],function(r,a){pn.prototype[r]=function(u){u=u===void 0?1:n5(Qt(u),0);var l=this.__filtered__&&!a?new pn(this):this.clone();return l.__filtered__?l.__takeCount__=dO(u,l.__takeCount__):l.__views__.push({size:dO(u,sE),type:r+(l.__dir__<0?"Right":"")}),l},pn.prototype[r+"Right"]=function(u){return this.reverse()[r](u).reverse()}});pi(["filter","map","takeWhile"],function(r,a){var u=a+1,l=u==J8||u==Q8;pn.prototype[r]=function(o){var h=this.clone();return h.__iteratees__.push({iteratee:Kt(o),type:u}),h.__filtered__=h.__filtered__||l,h}});pi(["head","last"],function(r,a){var u="take"+(a?"Right":"");pn.prototype[r]=function(){return this[u](1).value()[0]}});pi(["initial","tail"],function(r,a){var u="drop"+(a?"":"Right");pn.prototype[r]=function(){return this.__filtered__?new pn(this):this[u](1)}});pn.prototype.compact=function(){return this.filter(li)};pn.prototype.find=function(r){return this.filter(r).head()};pn.prototype.findLast=function(r){return this.reverse().find(r)};pn.prototype.invokeMap=cn(function(r,a){return typeof r=="function"?new pn(this):this.map(function(u){return Mp(u,r,a)})});pn.prototype.reject=function(r){return this.filter(kp(Kt(r)))};pn.prototype.slice=function(r,a){r=Qt(r);var u=this;return u.__filtered__&&(r>0||a<0)?new pn(u):(r<0?u=u.takeRight(-r):r&&(u=u.drop(r)),a!==void 0&&(a=Qt(a),u=a<0?u.dropRight(-a):u.take(a-r)),u)};pn.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()};pn.prototype.toArray=function(){return this.take(sE)};Ya(pn.prototype,function(r,a){var u=/^(?:filter|find|map|reject)|While$/.test(a),l=/^(?:head|last)$/.test(a),o=F[l?"take"+(a=="last"?"Right":""):a],h=l||/^find/.test(a);o&&(F.prototype[a]=function(){var d=this.__wrapped__,b=l?[1]:arguments,g=d instanceof pn,E=b[0],j=g||En(d),P=function(G){var U=o.apply(F,Uc([G],b));return l&&k?U[0]:U};j&&u&&typeof E=="function"&&E.length!=1&&(g=j=!1);var k=this.__chain__,M=!!this.__actions__.length,C=h&&!k,N=g&&!M;if(!h&&j){d=N?d:new pn(this);var L=r.apply(d,b);return L.__actions__.push({func:Np,args:[P],thisArg:void 0}),new si(L,k)}return C&&N?r.apply(this,b):(L=this.thru(P),C?l?L.value()[0]:L.value():L)})});pi(["pop","push","shift","sort","splice","unshift"],function(r){var a=e5[r],u=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",l=/^(?:pop|shift)$/.test(r);F.prototype[r]=function(){var o=arguments;if(l&&!this.__chain__){var h=this.value();return a.apply(En(h)?h:[],o)}return this[u](function(d){return a.apply(En(d)?d:[],o)})}});Ya(pn.prototype,function(r,a){var u=F[a];if(u){var l=u.name+"";lE.call(bl,l)||(bl[l]=[]),bl[l].push({name:a,func:u})}});bl[xy(void 0,Z8).name]=[{name:"wrapper",func:void 0}];pn.prototype.clone=F8;pn.prototype.reverse=W8;pn.prototype.value=K8;F.prototype.at=ba.at;F.prototype.chain=ba.wrapperChain;F.prototype.commit=ba.commit;F.prototype.next=ba.next;F.prototype.plant=ba.plant;F.prototype.reverse=ba.reverse;F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=ba.value;F.prototype.first=F.prototype.head;hO&&(F.prototype[hO]=ba.toIterator);var Kb={exports:{}};(function(r,a){(function(u,l){r.exports=l()})(window,function(){return function(u){var l={};function o(h){if(l[h])return l[h].exports;var d=l[h]={i:h,l:!1,exports:{}};return u[h].call(d.exports,d,d.exports,o),d.l=!0,d.exports}return o.m=u,o.c=l,o.d=function(h,d,b){o.o(h,d)||Object.defineProperty(h,d,{enumerable:!0,get:b})},o.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},o.t=function(h,d){if(1&d&&(h=o(h)),8&d||4&d&&typeof h=="object"&&h&&h.__esModule)return h;var b=Object.create(null);if(o.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:h}),2&d&&typeof h!="string")for(var g in h)o.d(b,g,(function(E){return h[E]}).bind(null,g));return b},o.n=function(h){var d=h&&h.__esModule?function(){return h.default}:function(){return h};return o.d(d,"a",d),d},o.o=function(h,d){return Object.prototype.hasOwnProperty.call(h,d)},o.p="",o(o.s=222)}([function(u,l,o){o.d(l,"a",function(){return re}),o.d(l,"b",function(){return ae}),o.d(l,"c",function(){return Je}),o.d(l,"d",function(){return mt}),o.d(l,"e",function(){return G}),o.d(l,"f",function(){return te}),o.d(l,"g",function(){return G}),o.d(l,"h",function(){return Ye}),o.d(l,"i",function(){return d}),o.d(l,"j",function(){return xt}),o.d(l,"k",function(){return q});var h,d,b,g,E,j,P,k={},M=[],C=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function N(se,ue){for(var ve in ue)se[ve]=ue[ve];return se}function L(se){var ue=se.parentNode;ue&&ue.removeChild(se)}function G(se,ue,ve){var De,Ue,ze,Et={};for(ze in ue)ze=="key"?De=ue[ze]:ze=="ref"?Ue=ue[ze]:Et[ze]=ue[ze];if(arguments.length>2&&(Et.children=arguments.length>3?h.call(arguments,2):ve),typeof se=="function"&&se.defaultProps!=null)for(ze in se.defaultProps)Et[ze]===void 0&&(Et[ze]=se.defaultProps[ze]);return U(se,Et,De,Ue,null)}function U(se,ue,ve,De,Ue){var ze={type:se,props:ue,key:ve,ref:De,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Ue==null?++b:Ue};return Ue==null&&d.vnode!=null&&d.vnode(ze),ze}function te(){return{current:null}}function ae(se){return se.children}function re(se,ue){this.props=se,this.context=ue}function J(se,ue){if(ue==null)return se.__?J(se.__,se.__.__k.indexOf(se)+1):null;for(var ve;ue<se.__k.length;ue++)if((ve=se.__k[ue])!=null&&ve.__e!=null)return ve.__e;return typeof se.type=="function"?J(se):null}function Z(se){var ue,ve;if((se=se.__)!=null&&se.__c!=null){for(se.__e=se.__c.base=null,ue=0;ue<se.__k.length;ue++)if((ve=se.__k[ue])!=null&&ve.__e!=null){se.__e=se.__c.base=ve.__e;break}return Z(se)}}function X(se){(!se.__d&&(se.__d=!0)&&g.push(se)&&!$.__r++||j!==d.debounceRendering)&&((j=d.debounceRendering)||E)($)}function $(){for(var se;$.__r=g.length;)se=g.sort(function(ue,ve){return ue.__v.__b-ve.__v.__b}),g=[],se.some(function(ue){var ve,De,Ue,ze,Et,Rt;ue.__d&&(Et=(ze=(ve=ue).__v).__e,(Rt=ve.__P)&&(De=[],(Ue=N({},ze)).__v=ze.__v+1,je(Rt,ze,Ue,ve.__n,Rt.ownerSVGElement!==void 0,ze.__h!=null?[Et]:null,De,Et==null?J(ze):Et,ze.__h),ge(De,ze),ze.__e!=Et&&Z(ze)))})}function V(se,ue,ve,De,Ue,ze,Et,Rt,At,gt){var Me,lt,fe,at,$t,hn,Ft,rn=De&&De.__k||M,mn=rn.length;for(ve.__k=[],Me=0;Me<ue.length;Me++)if((at=ve.__k[Me]=(at=ue[Me])==null||typeof at=="boolean"?null:typeof at=="string"||typeof at=="number"||typeof at=="bigint"?U(null,at,null,null,at):Array.isArray(at)?U(ae,{children:at},null,null,null):at.__b>0?U(at.type,at.props,at.key,null,at.__v):at)!=null){if(at.__=ve,at.__b=ve.__b+1,(fe=rn[Me])===null||fe&&at.key==fe.key&&at.type===fe.type)rn[Me]=void 0;else for(lt=0;lt<mn;lt++){if((fe=rn[lt])&&at.key==fe.key&&at.type===fe.type){rn[lt]=void 0;break}fe=null}je(se,at,fe=fe||k,Ue,ze,Et,Rt,At,gt),$t=at.__e,(lt=at.ref)&&fe.ref!=lt&&(Ft||(Ft=[]),fe.ref&&Ft.push(fe.ref,null,at),Ft.push(lt,at.__c||$t,at)),$t!=null?(hn==null&&(hn=$t),typeof at.type=="function"&&at.__k===fe.__k?at.__d=At=Y(at,At,se):At=ce(se,at,fe,rn,$t,At),typeof ve.type=="function"&&(ve.__d=At)):At&&fe.__e==At&&At.parentNode!=se&&(At=J(fe))}for(ve.__e=hn,Me=mn;Me--;)rn[Me]!=null&&(typeof ve.type=="function"&&rn[Me].__e!=null&&rn[Me].__e==ve.__d&&(ve.__d=J(De,Me+1)),We(rn[Me],rn[Me]));if(Ft)for(Me=0;Me<Ft.length;Me++)Te(Ft[Me],Ft[++Me],Ft[++Me])}function Y(se,ue,ve){for(var De,Ue=se.__k,ze=0;Ue&&ze<Ue.length;ze++)(De=Ue[ze])&&(De.__=se,ue=typeof De.type=="function"?Y(De,ue,ve):ce(ve,De,De,Ue,De.__e,ue));return ue}function q(se,ue){return ue=ue||[],se==null||typeof se=="boolean"||(Array.isArray(se)?se.some(function(ve){q(ve,ue)}):ue.push(se)),ue}function ce(se,ue,ve,De,Ue,ze){var Et,Rt,At;if(ue.__d!==void 0)Et=ue.__d,ue.__d=void 0;else if(ve==null||Ue!=ze||Ue.parentNode==null)e:if(ze==null||ze.parentNode!==se)se.appendChild(Ue),Et=null;else{for(Rt=ze,At=0;(Rt=Rt.nextSibling)&&At<De.length;At+=2)if(Rt==Ue)break e;se.insertBefore(Ue,ze),Et=ze}return Et!==void 0?Et:Ue.nextSibling}function Se(se,ue,ve){ue[0]==="-"?se.setProperty(ue,ve):se[ue]=ve==null?"":typeof ve!="number"||C.test(ue)?ve:ve+"px"}function _e(se,ue,ve,De,Ue){var ze;e:if(ue==="style")if(typeof ve=="string")se.style.cssText=ve;else{if(typeof De=="string"&&(se.style.cssText=De=""),De)for(ue in De)ve&&ue in ve||Se(se.style,ue,"");if(ve)for(ue in ve)De&&ve[ue]===De[ue]||Se(se.style,ue,ve[ue])}else if(ue[0]==="o"&&ue[1]==="n")ze=ue!==(ue=ue.replace(/Capture$/,"")),ue=ue.toLowerCase()in se?ue.toLowerCase().slice(2):ue.slice(2),se.l||(se.l={}),se.l[ue+ze]=ve,ve?De||se.addEventListener(ue,ze?$e:Ae,ze):se.removeEventListener(ue,ze?$e:Ae,ze);else if(ue!=="dangerouslySetInnerHTML"){if(Ue)ue=ue.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(ue!=="href"&&ue!=="list"&&ue!=="form"&&ue!=="tabIndex"&&ue!=="download"&&ue in se)try{se[ue]=ve==null?"":ve;break e}catch(Et){}typeof ve=="function"||(ve!=null&&(ve!==!1||ue[0]==="a"&&ue[1]==="r")?se.setAttribute(ue,ve):se.removeAttribute(ue))}}function Ae(se){this.l[se.type+!1](d.event?d.event(se):se)}function $e(se){this.l[se.type+!0](d.event?d.event(se):se)}function je(se,ue,ve,De,Ue,ze,Et,Rt,At){var gt,Me,lt,fe,at,$t,hn,Ft,rn,mn,kn,Lt=ue.type;if(ue.constructor!==void 0)return null;ve.__h!=null&&(At=ve.__h,Rt=ue.__e=ve.__e,ue.__h=null,ze=[Rt]),(gt=d.__b)&&gt(ue);try{e:if(typeof Lt=="function"){if(Ft=ue.props,rn=(gt=Lt.contextType)&&De[gt.__c],mn=gt?rn?rn.props.value:gt.__:De,ve.__c?hn=(Me=ue.__c=ve.__c).__=Me.__E:("prototype"in Lt&&Lt.prototype.render?ue.__c=Me=new Lt(Ft,mn):(ue.__c=Me=new re(Ft,mn),Me.constructor=Lt,Me.render=ot),rn&&rn.sub(Me),Me.props=Ft,Me.state||(Me.state={}),Me.context=mn,Me.__n=De,lt=Me.__d=!0,Me.__h=[]),Me.__s==null&&(Me.__s=Me.state),Lt.getDerivedStateFromProps!=null&&(Me.__s==Me.state&&(Me.__s=N({},Me.__s)),N(Me.__s,Lt.getDerivedStateFromProps(Ft,Me.__s))),fe=Me.props,at=Me.state,lt)Lt.getDerivedStateFromProps==null&&Me.componentWillMount!=null&&Me.componentWillMount(),Me.componentDidMount!=null&&Me.__h.push(Me.componentDidMount);else{if(Lt.getDerivedStateFromProps==null&&Ft!==fe&&Me.componentWillReceiveProps!=null&&Me.componentWillReceiveProps(Ft,mn),!Me.__e&&Me.shouldComponentUpdate!=null&&Me.shouldComponentUpdate(Ft,Me.__s,mn)===!1||ue.__v===ve.__v){Me.props=Ft,Me.state=Me.__s,ue.__v!==ve.__v&&(Me.__d=!1),Me.__v=ue,ue.__e=ve.__e,ue.__k=ve.__k,ue.__k.forEach(function(Xn){Xn&&(Xn.__=ue)}),Me.__h.length&&Et.push(Me);break e}Me.componentWillUpdate!=null&&Me.componentWillUpdate(Ft,Me.__s,mn),Me.componentDidUpdate!=null&&Me.__h.push(function(){Me.componentDidUpdate(fe,at,$t)})}Me.context=mn,Me.props=Ft,Me.state=Me.__s,(gt=d.__r)&&gt(ue),Me.__d=!1,Me.__v=ue,Me.__P=se,gt=Me.render(Me.props,Me.state,Me.context),Me.state=Me.__s,Me.getChildContext!=null&&(De=N(N({},De),Me.getChildContext())),lt||Me.getSnapshotBeforeUpdate==null||($t=Me.getSnapshotBeforeUpdate(fe,at)),kn=gt!=null&&gt.type===ae&&gt.key==null?gt.props.children:gt,V(se,Array.isArray(kn)?kn:[kn],ue,ve,De,Ue,ze,Et,Rt,At),Me.base=ue.__e,ue.__h=null,Me.__h.length&&Et.push(Me),hn&&(Me.__E=Me.__=null),Me.__e=!1}else ze==null&&ue.__v===ve.__v?(ue.__k=ve.__k,ue.__e=ve.__e):ue.__e=Pe(ve.__e,ue,ve,De,Ue,ze,Et,At);(gt=d.diffed)&&gt(ue)}catch(Xn){ue.__v=null,(At||ze!=null)&&(ue.__e=Rt,ue.__h=!!At,ze[ze.indexOf(Rt)]=null),d.__e(Xn,ue,ve)}}function ge(se,ue){d.__c&&d.__c(ue,se),se.some(function(ve){try{se=ve.__h,ve.__h=[],se.some(function(De){De.call(ve)})}catch(De){d.__e(De,ve.__v)}})}function Pe(se,ue,ve,De,Ue,ze,Et,Rt){var At,gt,Me,lt=ve.props,fe=ue.props,at=ue.type,$t=0;if(at==="svg"&&(Ue=!0),ze!=null){for(;$t<ze.length;$t++)if((At=ze[$t])&&"setAttribute"in At==!!at&&(at?At.localName===at:At.nodeType===3)){se=At,ze[$t]=null;break}}if(se==null){if(at===null)return document.createTextNode(fe);se=Ue?document.createElementNS("http://www.w3.org/2000/svg",at):document.createElement(at,fe.is&&fe),ze=null,Rt=!1}if(at===null)lt===fe||Rt&&se.data===fe||(se.data=fe);else{if(ze=ze&&h.call(se.childNodes),gt=(lt=ve.props||k).dangerouslySetInnerHTML,Me=fe.dangerouslySetInnerHTML,!Rt){if(ze!=null)for(lt={},$t=0;$t<se.attributes.length;$t++)lt[se.attributes[$t].name]=se.attributes[$t].value;(Me||gt)&&(Me&&(gt&&Me.__html==gt.__html||Me.__html===se.innerHTML)||(se.innerHTML=Me&&Me.__html||""))}if(function(hn,Ft,rn,mn,kn){var Lt;for(Lt in rn)Lt==="children"||Lt==="key"||Lt in Ft||_e(hn,Lt,null,rn[Lt],mn);for(Lt in Ft)kn&&typeof Ft[Lt]!="function"||Lt==="children"||Lt==="key"||Lt==="value"||Lt==="checked"||rn[Lt]===Ft[Lt]||_e(hn,Lt,Ft[Lt],rn[Lt],mn)}(se,fe,lt,Ue,Rt),Me)ue.__k=[];else if($t=ue.props.children,V(se,Array.isArray($t)?$t:[$t],ue,ve,De,Ue&&at!=="foreignObject",ze,Et,ze?ze[0]:ve.__k&&J(ve,0),Rt),ze!=null)for($t=ze.length;$t--;)ze[$t]!=null&&L(ze[$t]);Rt||("value"in fe&&($t=fe.value)!==void 0&&($t!==lt.value||$t!==se.value||at==="progress"&&!$t)&&_e(se,"value",$t,lt.value,!1),"checked"in fe&&($t=fe.checked)!==void 0&&$t!==se.checked&&_e(se,"checked",$t,lt.checked,!1))}return se}function Te(se,ue,ve){try{typeof se=="function"?se(ue):se.current=ue}catch(De){d.__e(De,ve)}}function We(se,ue,ve){var De,Ue;if(d.unmount&&d.unmount(se),(De=se.ref)&&(De.current&&De.current!==se.__e||Te(De,null,ue)),(De=se.__c)!=null){if(De.componentWillUnmount)try{De.componentWillUnmount()}catch(ze){d.__e(ze,ue)}De.base=De.__P=null}if(De=se.__k)for(Ue=0;Ue<De.length;Ue++)De[Ue]&&We(De[Ue],ue,typeof se.type!="function");ve||se.__e==null||L(se.__e),se.__e=se.__d=void 0}function ot(se,ue,ve){return this.constructor(se,ve)}function xt(se,ue,ve){var De,Ue,ze;d.__&&d.__(se,ue),Ue=(De=typeof ve=="function")?null:ve&&ve.__k||ue.__k,ze=[],je(ue,se=(!De&&ve||ue).__k=G(ae,null,[se]),Ue||k,k,ue.ownerSVGElement!==void 0,!De&&ve?[ve]:Ue?null:ue.firstChild?h.call(ue.childNodes):null,ze,!De&&ve?ve:Ue?Ue.__e:ue.firstChild,De),ge(ze,se)}function Ye(se,ue){xt(se,ue,Ye)}function Je(se,ue,ve){var De,Ue,ze,Et=N({},se.props);for(ze in ue)ze=="key"?De=ue[ze]:ze=="ref"?Ue=ue[ze]:Et[ze]=ue[ze];return arguments.length>2&&(Et.children=arguments.length>3?h.call(arguments,2):ve),U(se.type,Et,De||se.key,Ue||se.ref,null)}function mt(se,ue){var ve={__c:ue="__cC"+P++,__:se,Consumer:function(De,Ue){return De.children(Ue)},Provider:function(De){var Ue,ze;return this.getChildContext||(Ue=[],(ze={})[ue]=this,this.getChildContext=function(){return ze},this.shouldComponentUpdate=function(Et){this.props.value!==Et.value&&Ue.some(X)},this.sub=function(Et){Ue.push(Et);var Rt=Et.componentWillUnmount;Et.componentWillUnmount=function(){Ue.splice(Ue.indexOf(Et),1),Rt&&Rt.call(Et)}}),De.children}};return ve.Provider.__=ve.Consumer.contextType=ve}h=M.slice,d={__e:function(se,ue){for(var ve,De,Ue;ue=ue.__;)if((ve=ue.__c)&&!ve.__)try{if((De=ve.constructor)&&De.getDerivedStateFromError!=null&&(ve.setState(De.getDerivedStateFromError(se)),Ue=ve.__d),ve.componentDidCatch!=null&&(ve.componentDidCatch(se),Ue=ve.__d),Ue)return ve.__E=ve}catch(ze){se=ze}throw se}},b=0,re.prototype.setState=function(se,ue){var ve;ve=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=N({},this.state),typeof se=="function"&&(se=se(N({},ve),this.props)),se&&N(ve,se),se!=null&&this.__v&&(ue&&this.__h.push(ue),X(this))},re.prototype.forceUpdate=function(se){this.__v&&(this.__e=!0,se&&this.__h.push(se),X(this))},re.prototype.render=ae,g=[],E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$.__r=0,P=0},function(u,l,o){(function(h,d){o.d(l,"a",function(){return X}),o.d(l,"b",function(){return rc}),o.d(l,"c",function(){return po}),o.d(l,"d",function(){return St}),o.d(l,"e",function(){return Ke}),o.d(l,"f",function(){return Ve}),o.d(l,"g",function(){return Ot}),o.d(l,"h",function(){return Mo}),o.d(l,"i",function(){return kn}),o.d(l,"j",function(){return ut}),o.d(l,"k",function(){return Wo}),o.d(l,"l",function(){return Yu}),o.d(l,"m",function(){return hn}),o.d(l,"n",function(){return zi}),o.d(l,"o",function(){return Y}),o.d(l,"p",function(){return ns}),o.d(l,"q",function(){return Go}),o.d(l,"r",function(){return Ja}),o.d(l,"s",function(){return eo}),o.d(l,"t",function(){return Un}),o.d(l,"u",function(){return Za}),o.d(l,"v",function(){return ts}),o.d(l,"w",function(){return Ju}),o.d(l,"x",function(){return $i}),o.d(l,"y",function(){return Qr}),o.d(l,"z",function(){return Vn}),o.d(l,"A",function(){return Ir}),o.d(l,"B",function(){return So}),o.d(l,"C",function(){return gt}),o.d(l,"D",function(){return rs}),o.d(l,"E",function(){return dn}),o.d(l,"F",function(){return yn}),o.d(l,"G",function(){return Hu}),o.d(l,"H",function(){return Uu}),o.d(l,"I",function(){return Qu}),o.d(l,"J",function(){return ir}),o.d(l,"K",function(){return he}),o.d(l,"L",function(){return Sn}),o.d(l,"M",function(){return eu});var b=[];Object.freeze(b);var g={};function E(){return++ft.mobxGuid}function j(O){throw P(!1,O),"X"}function P(O,w){if(!O)throw new Error("[mobx] "+(w||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(g);function k(O){var w=!1;return function(){if(!w)return w=!0,O.apply(this,arguments)}}var M=function(){};function C(O){return O!==null&&typeof O=="object"}function N(O){if(O===null||typeof O!="object")return!1;var w=Object.getPrototypeOf(O);return w===Object.prototype||w===null}function L(O,w,T){Object.defineProperty(O,w,{enumerable:!1,writable:!0,configurable:!0,value:T})}function G(O,w){var T="isMobX"+O;return w.prototype[T]=!0,function(B){return C(B)&&B[T]===!0}}function U(O){return O instanceof Map}function te(O){return O instanceof Set}function ae(O){var w=new Set;for(var T in O)w.add(T);return Object.getOwnPropertySymbols(O).forEach(function(B){Object.getOwnPropertyDescriptor(O,B).enumerable&&w.add(B)}),Array.from(w)}function re(O){return O&&O.toString?O.toString():new String(O).toString()}function J(O){return O===null?null:typeof O=="object"?""+O:O}var Z=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:Object.getOwnPropertyNames,X=Symbol("mobx administration"),$=function(){function O(w){w===void 0&&(w="Atom@"+E()),this.name=w,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=lt.NOT_TRACKING}return O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.reportObserved=function(){return qa(this)},O.prototype.reportChanged=function(){kr(),function(w){w.lowestObserverState!==lt.STALE&&(w.lowestObserverState=lt.STALE,w.observers.forEach(function(T){T.dependenciesState===lt.UP_TO_DATE&&(T.isTracing!==fe.NONE&&fo(T,w),T.onBecomeStale()),T.dependenciesState=lt.STALE}))}(this),$r()},O.prototype.toString=function(){return this.name},O}(),V=G("Atom",$);function Y(O,w,T){w===void 0&&(w=M),T===void 0&&(T=M);var B,K=new $(O);return w!==M&&Qc("onBecomeObserved",K,w,B),T!==M&&dn(K,T),K}var q={identity:function(O,w){return O===w},structural:function(O,w){return Ne(O,w)},default:function(O,w){return Object.is(O,w)},shallow:function(O,w){return Ne(O,w,1)}},ce=function(O,w){return ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,B){T.__proto__=B}||function(T,B){for(var K in B)B.hasOwnProperty(K)&&(T[K]=B[K])},ce(O,w)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Se=function(){return Se=Object.assign||function(O){for(var w,T=1,B=arguments.length;T<B;T++)for(var K in w=arguments[T])Object.prototype.hasOwnProperty.call(w,K)&&(O[K]=w[K]);return O},Se.apply(this,arguments)};function _e(O){var w=typeof Symbol=="function"&&O[Symbol.iterator],T=0;return w?w.call(O):{next:function(){return O&&T>=O.length&&(O=void 0),{value:O&&O[T++],done:!O}}}}function Ae(O,w){var T=typeof Symbol=="function"&&O[Symbol.iterator];if(!T)return O;var B,K,pe=T.call(O),Ee=[];try{for(;(w===void 0||w-- >0)&&!(B=pe.next()).done;)Ee.push(B.value)}catch(Fe){K={error:Fe}}finally{try{B&&!B.done&&(T=pe.return)&&T.call(pe)}finally{if(K)throw K.error}}return Ee}function $e(){for(var O=[],w=0;w<arguments.length;w++)O=O.concat(Ae(arguments[w]));return O}var je=Symbol("mobx did run lazy initializers"),ge=Symbol("mobx pending decorators"),Pe={},Te={};function We(O,w){var T=w?Pe:Te;return T[O]||(T[O]={configurable:!0,enumerable:w,get:function(){return ot(this),this[O]},set:function(B){ot(this),this[O]=B}})}function ot(O){var w,T;if(O[je]!==!0){var B=O[ge];if(B){L(O,je,!0);var K=$e(Object.getOwnPropertySymbols(B),Object.keys(B));try{for(var pe=_e(K),Ee=pe.next();!Ee.done;Ee=pe.next()){var Fe=B[Ee.value];Fe.propertyCreator(O,Fe.prop,Fe.descriptor,Fe.decoratorTarget,Fe.decoratorArguments)}}catch(ct){w={error:ct}}finally{try{Ee&&!Ee.done&&(T=pe.return)&&T.call(pe)}finally{if(w)throw w.error}}}}}function xt(O,w){return function(){var T,B=function(K,pe,Ee,Fe){if(Fe===!0)return w(K,pe,Ee,K,T),null;if(!Object.prototype.hasOwnProperty.call(K,ge)){var ct=K[ge];L(K,ge,Se({},ct))}return K[ge][pe]={prop:pe,propertyCreator:w,descriptor:Ee,decoratorTarget:K,decoratorArguments:T},We(pe,O)};return Ye(arguments)?(T=b,B.apply(null,arguments)):(T=Array.prototype.slice.call(arguments),B)}}function Ye(O){return(O.length===2||O.length===3)&&(typeof O[1]=="string"||typeof O[1]=="symbol")||O.length===4&&O[3]===!0}function Je(O,w,T){return $i(O)?O:Array.isArray(O)?gt.array(O,{name:T}):N(O)?gt.object(O,void 0,{name:T}):U(O)?gt.map(O,{name:T}):te(O)?gt.set(O,{name:T}):O}function mt(O){return O}function se(O){P(O);var w=xt(!0,function(B,K,pe,Ee,Fe){var ct=pe?pe.initializer?pe.initializer.call(B):pe.value:void 0;Fr(B).addObservableProp(K,ct,O)}),T=(h!==void 0&&h.env,w);return T.enhancer=O,T}var ue={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ve(O){return O==null?ue:typeof O=="string"?{name:O,deep:!0,proxy:!0}:O}Object.freeze(ue);var De=se(Je),Ue=se(function(O,w,T){return O==null||Ir(O)||Qr(O)||Vn(O)||jr(O)?O:Array.isArray(O)?gt.array(O,{name:T,deep:!1}):N(O)?gt.object(O,void 0,{name:T,deep:!1}):U(O)?gt.map(O,{name:T,deep:!1}):te(O)?gt.set(O,{name:T,deep:!1}):j(!1)}),ze=se(mt),Et=se(function(O,w,T){return Ne(O,w)?w:O});function Rt(O){return O.defaultDecorator?O.defaultDecorator.enhancer:O.deep===!1?mt:Je}var At={box:function(O,w){arguments.length>2&&Me("box");var T=ve(w);return new Bn(O,Rt(T),T.name,!0,T.equals)},array:function(O,w){arguments.length>2&&Me("array");var T=ve(w);return wa(O,Rt(T),T.name)},map:function(O,w){arguments.length>2&&Me("map");var T=ve(w);return new rc(O,Rt(T),T.name)},set:function(O,w){arguments.length>2&&Me("set");var T=ve(w);return new Ao(O,Rt(T),T.name)},object:function(O,w,T){typeof arguments[1]=="string"&&Me("object");var B=ve(T);if(B.proxy===!1)return Go({},O,w,B);var K=Vu(B),pe=Go({},void 0,void 0,B),Ee=Fi(pe);return es(Ee,O,w,K),Ee},ref:ze,shallow:Ue,deep:De,struct:Et},gt=function(O,w,T){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return De.apply(null,arguments);if($i(O))return O;var B=N(O)?gt.object(O,w,T):Array.isArray(O)?gt.array(O,w):U(O)?gt.map(O,w):te(O)?gt.set(O,w):O;if(B!==O)return B;j(!1)};function Me(O){j("Expected one or two arguments to observable."+O+". Did you accidentally try to use observable."+O+" as decorator?")}Object.keys(At).forEach(function(O){return gt[O]=At[O]});var lt,fe,at=xt(!1,function(O,w,T,B,K){var pe=T.get,Ee=T.set,Fe=K[0]||{};Fr(O).addComputedProp(O,w,Se({get:pe,set:Ee,context:O},Fe))}),$t=at({equals:q.structural}),hn=function(O,w,T){if(typeof w=="string"||O!==null&&typeof O=="object"&&arguments.length===1)return at.apply(null,arguments);var B=typeof w=="object"?w:{};return B.get=O,B.set=typeof w=="function"?w:B.set,B.name=B.name||O.name||"",new Eo(B)};hn.struct=$t,function(O){O[O.NOT_TRACKING=-1]="NOT_TRACKING",O[O.UP_TO_DATE=0]="UP_TO_DATE",O[O.POSSIBLY_STALE=1]="POSSIBLY_STALE",O[O.STALE=2]="STALE"}(lt||(lt={})),function(O){O[O.NONE=0]="NONE",O[O.LOG=1]="LOG",O[O.BREAK=2]="BREAK"}(fe||(fe={}));var Ft=function(O){this.cause=O};function rn(O){return O instanceof Ft}function mn(O){switch(O.dependenciesState){case lt.UP_TO_DATE:return!1;case lt.NOT_TRACKING:case lt.STALE:return!0;case lt.POSSIBLY_STALE:for(var w=Ve(!0),T=ie(),B=O.observing,K=B.length,pe=0;pe<K;pe++){var Ee=B[pe];if(Fo(Ee)){if(ft.disableErrorBoundaries)Ee.get();else try{Ee.get()}catch(Fe){return me(T),Ke(w),!0}if(O.dependenciesState===lt.STALE)return me(T),Ke(w),!0}}return pt(O),me(T),Ke(w),!1}}function kn(){return ft.trackingDerivation!==null}function Lt(O){var w=O.observers.size>0;ft.computationDepth>0&&w&&j(!1),ft.allowStateChanges||!w&&ft.enforceActions!=="strict"||j(!1)}function Xn(O,w,T){var B=Ve(!0);pt(O),O.newObserving=new Array(O.observing.length+100),O.unboundDepsCount=0,O.runId=++ft.runId;var K,pe=ft.trackingDerivation;if(ft.trackingDerivation=O,ft.disableErrorBoundaries===!0)K=w.call(T);else try{K=w.call(T)}catch(Ee){K=new Ft(Ee)}return ft.trackingDerivation=pe,function(Ee){for(var Fe=Ee.observing,ct=Ee.observing=Ee.newObserving,qt=lt.UP_TO_DATE,tt=0,_n=Ee.unboundDepsCount,Gt=0;Gt<_n;Gt++)(ln=ct[Gt]).diffValue===0&&(ln.diffValue=1,tt!==Gt&&(ct[tt]=ln),tt++),ln.dependenciesState>qt&&(qt=ln.dependenciesState);for(ct.length=tt,Ee.newObserving=null,_n=Fe.length;_n--;)(ln=Fe[_n]).diffValue===0&&$u(ln,Ee),ln.diffValue=0;for(;tt--;){var ln;(ln=ct[tt]).diffValue===1&&(ln.diffValue=0,Il(ln,Ee))}qt!==lt.UP_TO_DATE&&(Ee.dependenciesState=qt,Ee.onBecomeStale())}(O),Ke(B),K}function Q(O){var w=O.observing;O.observing=[];for(var T=w.length;T--;)$u(w[T],O);O.dependenciesState=lt.NOT_TRACKING}function he(O){var w=ie();try{return O()}finally{me(w)}}function ie(){var O=ft.trackingDerivation;return ft.trackingDerivation=null,O}function me(O){ft.trackingDerivation=O}function Ve(O){var w=ft.allowStateReads;return ft.allowStateReads=O,w}function Ke(O){ft.allowStateReads=O}function pt(O){if(O.dependenciesState!==lt.UP_TO_DATE){O.dependenciesState=lt.UP_TO_DATE;for(var w=O.observing,T=w.length;T--;)w[T].lowestObserverState=lt.UP_TO_DATE}}var Yt=0,or=1,dr=Object.getOwnPropertyDescriptor(function(){},"name");dr&&dr.configurable;function Yn(O,w,T){var B=function(){return Zn(O,w,T||this,arguments)};return B.isMobxAction=!0,B}function Zn(O,w,T,B){var K=ut();try{return w.apply(T,B)}catch(pe){throw K.error=pe,pe}finally{Ot(K)}}function ut(O,w,T){var B=0,K=ie();kr();var pe={prevDerivation:K,prevAllowStateChanges:Bt(!0),prevAllowStateReads:Ve(!0),notifySpy:!1,startTime:B,actionId:or++,parentActionId:Yt};return Yt=pe.actionId,pe}function Ot(O){Yt!==O.actionId&&j("invalid action stack. did you forget to finish an action?"),Yt=O.parentActionId,O.error!==void 0&&(ft.suppressReactionErrors=!0),gn(O.prevAllowStateChanges),Ke(O.prevAllowStateReads),$r(),me(O.prevDerivation),O.notifySpy,ft.suppressReactionErrors=!1}function St(O,w){var T,B=Bt(O);try{T=w()}finally{gn(B)}return T}function Bt(O){var w=ft.allowStateChanges;return ft.allowStateChanges=O,w}function gn(O){ft.allowStateChanges=O}var Bn=function(O){function w(T,B,K,pe,Ee){K===void 0&&(K="ObservableValue@"+E()),Ee===void 0&&(Ee=q.default);var Fe=O.call(this,K)||this;return Fe.enhancer=B,Fe.name=K,Fe.equals=Ee,Fe.hasUnreportedChange=!1,Fe.value=B(T,void 0,K),Fe}return function(T,B){function K(){this.constructor=T}ce(T,B),T.prototype=B===null?Object.create(B):(K.prototype=B.prototype,new K)}(w,O),w.prototype.dehanceValue=function(T){return this.dehancer!==void 0?this.dehancer(T):T},w.prototype.set=function(T){this.value,(T=this.prepareNewValue(T))!==ft.UNCHANGED&&this.setNewValue(T)},w.prototype.prepareNewValue=function(T){if(Lt(this),Rr(this)){var B=on(this,{object:this,type:"update",newValue:T});if(!B)return ft.UNCHANGED;T=B.newValue}return T=this.enhancer(T,this.value,this.name),this.equals(this.value,T)?ft.UNCHANGED:T},w.prototype.setNewValue=function(T){var B=this.value;this.value=T,this.reportChanged(),Cr(this)&&fr(this,{type:"update",object:this,newValue:T,oldValue:B})},w.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},w.prototype.intercept=function(T){return Ho(this,T)},w.prototype.observe=function(T,B){return B&&T({object:this,type:"update",newValue:this.value,oldValue:void 0}),Po(this,T)},w.prototype.toJSON=function(){return this.get()},w.prototype.toString=function(){return this.name+"["+this.value+"]"},w.prototype.valueOf=function(){return J(this.get())},w.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},w}($),$o=G("ObservableValue",Bn),Eo=function(){function O(w){this.dependenciesState=lt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=lt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+E(),this.value=new Ft(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=fe.NONE,P(w.get,"missing option for computed: get"),this.derivation=w.get,this.name=w.name||"ComputedValue@"+E(),w.set&&(this.setter=Yn(this.name+"-setter",w.set)),this.equals=w.equals||(w.compareStructural||w.struct?q.structural:q.default),this.scope=w.context,this.requiresReaction=!!w.requiresReaction,this.keepAlive=!!w.keepAlive}return O.prototype.onBecomeStale=function(){(function(w){w.lowestObserverState===lt.UP_TO_DATE&&(w.lowestObserverState=lt.POSSIBLY_STALE,w.observers.forEach(function(T){T.dependenciesState===lt.UP_TO_DATE&&(T.dependenciesState=lt.POSSIBLY_STALE,T.isTracing!==fe.NONE&&fo(T,w),T.onBecomeStale())}))})(this)},O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.get=function(){this.isComputing&&j("Cycle detected in computation "+this.name+": "+this.derivation),ft.inBatch!==0||this.observers.size!==0||this.keepAlive?(qa(this),mn(this)&&this.trackAndCompute()&&function(T){T.lowestObserverState!==lt.STALE&&(T.lowestObserverState=lt.STALE,T.observers.forEach(function(B){B.dependenciesState===lt.POSSIBLY_STALE?B.dependenciesState=lt.STALE:B.dependenciesState===lt.UP_TO_DATE&&(T.lowestObserverState=lt.UP_TO_DATE)}))}(this)):mn(this)&&(this.warnAboutUntrackedRead(),kr(),this.value=this.computeValue(!1),$r());var w=this.value;if(rn(w))throw w.cause;return w},O.prototype.peek=function(){var w=this.computeValue(!1);if(rn(w))throw w.cause;return w},O.prototype.set=function(w){if(this.setter){P(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,w)}finally{this.isRunningSetter=!1}}else P(!1,!1)},O.prototype.trackAndCompute=function(){var w=this.value,T=this.dependenciesState===lt.NOT_TRACKING,B=this.computeValue(!0),K=T||rn(w)||rn(B)||!this.equals(w,B);return K&&(this.value=B),K},O.prototype.computeValue=function(w){var T;if(this.isComputing=!0,ft.computationDepth++,w)T=Xn(this,this.derivation,this.scope);else if(ft.disableErrorBoundaries===!0)T=this.derivation.call(this.scope);else try{T=this.derivation.call(this.scope)}catch(B){T=new Ft(B)}return ft.computationDepth--,this.isComputing=!1,T},O.prototype.suspend=function(){this.keepAlive||(Q(this),this.value=void 0)},O.prototype.observe=function(w,T){var B=this,K=!0,pe=void 0;return Yu(function(){var Ee=B.get();if(!K||T){var Fe=ie();w({type:"update",object:B,newValue:Ee,oldValue:pe}),me(Fe)}K=!1,pe=Ee})},O.prototype.warnAboutUntrackedRead=function(){},O.prototype.toJSON=function(){return this.get()},O.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},O.prototype.valueOf=function(){return J(this.get())},O.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},O}(),Fo=G("ComputedValue",Eo),Bi=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Cl={};function zu(){return typeof window<"u"?window:d!==void 0?d:typeof self<"u"?self:Cl}var Zr=!0,ma=!1,ft=function(){var O=zu();return O.__mobxInstanceCount>0&&!O.__mobxGlobals&&(Zr=!1),O.__mobxGlobals&&O.__mobxGlobals.version!==new Bi().version&&(Zr=!1),Zr?O.__mobxGlobals?(O.__mobxInstanceCount+=1,O.__mobxGlobals.UNCHANGED||(O.__mobxGlobals.UNCHANGED={}),O.__mobxGlobals):(O.__mobxInstanceCount=1,O.__mobxGlobals=new Bi):(setTimeout(function(){ma||j("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Bi)}();function Il(O,w){O.observers.add(w),O.lowestObserverState>w.dependenciesState&&(O.lowestObserverState=w.dependenciesState)}function $u(O,w){O.observers.delete(w),O.observers.size===0&&Fu(O)}function Fu(O){O.isPendingUnobservation===!1&&(O.isPendingUnobservation=!0,ft.pendingUnobservations.push(O))}function kr(){ft.inBatch++}function $r(){if(--ft.inBatch==0){Gu();for(var O=ft.pendingUnobservations,w=0;w<O.length;w++){var T=O[w];T.isPendingUnobservation=!1,T.observers.size===0&&(T.isBeingObserved&&(T.isBeingObserved=!1,T.onBecomeUnobserved()),T instanceof Eo&&T.suspend())}ft.pendingUnobservations=[]}}function qa(O){var w=ft.trackingDerivation;return w!==null?(w.runId!==O.lastAccessedBy&&(O.lastAccessedBy=w.runId,w.newObserving[w.unboundDepsCount++]=O,O.isBeingObserved||(O.isBeingObserved=!0,O.onBecomeObserved())),!0):(O.observers.size===0&&ft.inBatch>0&&Fu(O),!1)}function fo(O,w){if(O.isTracing===fe.BREAK){var T=[];Jr(Un(O),T,1),new Function("debugger;\n/*\nTracing '"+O.name+"'\n\nYou are entering this break point because derivation '"+O.name+"' is being traced and '"+w.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(O instanceof Eo?O.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+T.join("\n")+"\n*/\n    ")()}}function Jr(O,w,T){w.length>=1e3?w.push("(and many more)"):(w.push(""+new Array(T).join("	")+O.name),O.dependencies&&O.dependencies.forEach(function(B){return Jr(B,w,T+1)}))}var po=function(){function O(w,T,B,K){w===void 0&&(w="Reaction@"+E()),K===void 0&&(K=!1),this.name=w,this.onInvalidate=T,this.errorHandler=B,this.requiresObservable=K,this.observing=[],this.newObserving=[],this.dependenciesState=lt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+E(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=fe.NONE}return O.prototype.onBecomeStale=function(){this.schedule()},O.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ft.pendingReactions.push(this),Gu())},O.prototype.isScheduled=function(){return this._isScheduled},O.prototype.runReaction=function(){if(!this.isDisposed){if(kr(),this._isScheduled=!1,mn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(w){this.reportExceptionInDerivation(w)}}$r()}},O.prototype.track=function(w){if(!this.isDisposed){kr(),this._isRunning=!0;var T=Xn(this,w,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Q(this),rn(T)&&this.reportExceptionInDerivation(T.cause),$r()}},O.prototype.reportExceptionInDerivation=function(w){var T=this;if(this.errorHandler)this.errorHandler(w,this);else{if(ft.disableErrorBoundaries)throw w;ft.suppressReactionErrors,ft.globalReactionErrorHandlers.forEach(function(B){return B(w,T)})}},O.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(kr(),Q(this),$r()))},O.prototype.getDisposer=function(){var w=this.dispose.bind(this);return w[X]=this,w},O.prototype.toString=function(){return"Reaction["+this.name+"]"},O.prototype.trace=function(w){w===void 0&&(w=!1),function(){for(var T=[],B=0;B<arguments.length;B++)T[B]=arguments[B];var K=!1;typeof T[T.length-1]=="boolean"&&(K=T.pop());var pe=sn(T);if(!pe)return j(!1);pe.isTracing,fe.NONE,pe.isTracing=K?fe.BREAK:fe.LOG}(this,w)},O}(),Wu=function(O){return O()};function Gu(){ft.inBatch>0||ft.isRunningReactions||Wu(Kc)}function Kc(){ft.isRunningReactions=!0;for(var O=ft.pendingReactions,w=0;O.length>0;){++w==100&&O.splice(0);for(var T=O.splice(0),B=0,K=T.length;B<K;B++)T[B].runReaction()}ft.isRunningReactions=!1}var _a=G("Reaction",po);function qc(O){var w=Wu;Wu=function(T){return O(function(){return w(T)})}}function Uu(O){return function(){}}function Ll(){j(!1)}function hi(O){return function(w,T,B){if(B){if(B.value)return{value:Yn(O,B.value),enumerable:!1,configurable:!0,writable:!0};var K=B.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Yn(O,K.call(this))}}}return Zc(O).apply(this,arguments)}}function Zc(O){return function(w,T,B){Object.defineProperty(w,T,{configurable:!0,enumerable:!1,get:function(){},set:function(K){L(this,T,Wo(O,K))}})}}var Wo=function(O,w,T,B){return arguments.length===1&&typeof O=="function"?Yn(O.name||"<unnamed action>",O):arguments.length===2&&typeof w=="function"?Yn(O,w):arguments.length===1&&typeof O=="string"?hi(O):B!==!0?hi(w).apply(null,arguments):void L(O,w,Yn(O.name||w,T.value,this))};function Hu(O,w){return Zn(typeof O=="string"?O:O.name||"<unnamed action>",typeof O=="function"?O:w,this,void 0)}function Za(O){return typeof O=="function"&&O.isMobxAction===!0}function Xu(O,w,T){L(O,w,Yn(w,T.bind(O)))}function Yu(O,w){w===void 0&&(w=g);var T,B=w&&w.name||O.name||"Autorun@"+E();if(!w.scheduler&&!w.delay)T=new po(B,function(){this.track(Ee)},w.onError,w.requiresObservable);else{var K=Jc(w),pe=!1;T=new po(B,function(){pe||(pe=!0,K(function(){pe=!1,T.isDisposed||T.track(Ee)}))},w.onError,w.requiresObservable)}function Ee(){O(T)}return T.schedule(),T.getDisposer()}Wo.bound=function(O,w,T,B){return B===!0?(Xu(O,w,T.value),null):T?{configurable:!0,enumerable:!1,get:function(){return Xu(this,w,T.value||T.initializer.call(this)),this[w]},set:Ll}:{enumerable:!1,configurable:!0,set:function(K){Xu(this,w,K)},get:function(){}}};var Bl=function(O){return O()};function Jc(O){return O.scheduler?O.scheduler:O.delay?function(w){return setTimeout(w,O.delay)}:Bl}function yn(O,w,T){T===void 0&&(T=g);var B,K,pe,Ee=T.name||"Reaction@"+E(),Fe=Wo(Ee,T.onError?(B=T.onError,K=w,function(){try{return K.apply(this,arguments)}catch(Rn){B.call(this,Rn)}}):w),ct=!T.scheduler&&!T.delay,qt=Jc(T),tt=!0,_n=!1,Gt=T.compareStructural?q.structural:T.equals||q.default,ln=new po(Ee,function(){tt||ct?to():_n||(_n=!0,qt(to))},T.onError,T.requiresObservable);function to(){if(_n=!1,!ln.isDisposed){var Rn=!1;ln.track(function(){var Lr=O(ln);Rn=tt||!Gt(pe,Lr),pe=Lr}),tt&&T.fireImmediately&&Fe(pe,ln),tt||Rn!==!0||Fe(pe,ln),tt&&(tt=!1)}}return ln.schedule(),ln.getDisposer()}function dn(O,w,T){return Qc("onBecomeUnobserved",O,w,T)}function Qc(O,w,T,B){var K=typeof B=="function"?eo(w,T):eo(w),pe=typeof B=="function"?B:T,Ee=O+"Listeners";return K[Ee]?K[Ee].add(pe):K[Ee]=new Set([pe]),typeof K[O]!="function"?j(!1):function(){var Fe=K[Ee];Fe&&(Fe.delete(pe),Fe.size===0&&delete K[Ee])}}function zi(O){var w=O.enforceActions,T=O.computedRequiresReaction,B=O.computedConfigurable,K=O.disableErrorBoundaries,pe=O.reactionScheduler,Ee=O.reactionRequiresObservable,Fe=O.observableRequiresReaction;if(O.isolateGlobalState===!0&&((ft.pendingReactions.length||ft.inBatch||ft.isRunningReactions)&&j("isolateGlobalState should be called before MobX is running any reactions"),ma=!0,Zr&&(--zu().__mobxInstanceCount==0&&(zu().__mobxGlobals=void 0),ft=new Bi)),w!==void 0){var ct=void 0;switch(w){case!0:case"observed":ct=!0;break;case!1:case"never":ct=!1;break;case"strict":case"always":ct="strict";break;default:j("Invalid value for 'enforceActions': '"+w+"', expected 'never', 'always' or 'observed'")}ft.enforceActions=ct,ft.allowStateChanges=ct!==!0&&ct!=="strict"}T!==void 0&&(ft.computedRequiresReaction=!!T),Ee!==void 0&&(ft.reactionRequiresObservable=!!Ee),Fe!==void 0&&(ft.observableRequiresReaction=!!Fe,ft.allowStateReads=!ft.observableRequiresReaction),B!==void 0&&(ft.computedConfigurable=!!B),K!==void 0&&(ft.disableErrorBoundaries=!!K),pe&&qc(pe)}function Go(O,w,T,B){var K=Vu(B=ve(B));return ot(O),Fr(O,B.name,K.enhancer),w&&es(O,w,T,K),O}function Vu(O){return O.defaultDecorator||(O.deep===!1?ze:De)}function es(O,w,T,B){var K,pe;kr();try{var Ee=Z(w);try{for(var Fe=_e(Ee),ct=Fe.next();!ct.done;ct=Fe.next()){var qt=ct.value,tt=Object.getOwnPropertyDescriptor(w,qt),_n=(T&&qt in T?T[qt]:tt.get?at:B)(O,qt,tt,!0);_n&&Object.defineProperty(O,qt,_n)}}catch(Gt){K={error:Gt}}finally{try{ct&&!ct.done&&(pe=Fe.return)&&pe.call(Fe)}finally{if(K)throw K.error}}}finally{$r()}}function Un(O,w){return Ku(eo(O,w))}function Ku(O){var w,T,B={name:O.name};return O.observing&&O.observing.length>0&&(B.dependencies=(w=O.observing,T=[],w.forEach(function(K){T.indexOf(K)===-1&&T.push(K)}),T).map(Ku)),B}var Oa=0;function qu(){this.message="FLOW_CANCELLED"}function Ja(O){arguments.length!==1&&j("Flow expects 1 argument and cannot be used as decorator");var w=O.name||"<unnamed flow>";return function(){var T,B=this,K=arguments,pe=++Oa,Ee=Wo(w+" - runid: "+pe+" - init",O).apply(B,K),Fe=void 0,ct=new Promise(function(qt,tt){var _n=0;function Gt(Rn){var Lr;Fe=void 0;try{Lr=Wo(w+" - runid: "+pe+" - yield "+_n++,Ee.next).call(Ee,Rn)}catch(Yo){return tt(Yo)}to(Lr)}function ln(Rn){var Lr;Fe=void 0;try{Lr=Wo(w+" - runid: "+pe+" - yield "+_n++,Ee.throw).call(Ee,Rn)}catch(Yo){return tt(Yo)}to(Lr)}function to(Rn){if(!Rn||typeof Rn.then!="function")return Rn.done?qt(Rn.value):(Fe=Promise.resolve(Rn.value)).then(Gt,ln);Rn.then(to,tt)}T=tt,Gt(void 0)});return ct.cancel=Wo(w+" - runid: "+pe+" - cancel",function(){try{Fe&&yr(Fe);var qt=Ee.return(void 0),tt=Promise.resolve(qt.value);tt.then(M,M),yr(tt),T(new qu)}catch(_n){T(_n)}}),ct}}function yr(O){typeof O.cancel=="function"&&O.cancel()}function Zu(O,w){if(O==null)return!1;if(w!==void 0){if(Ir(O)===!1||!O[X].values.has(w))return!1;var T=eo(O,w);return Fo(T)}return Fo(O)}function ts(O){return arguments.length>1?j(!1):Zu(O)}function Ju(O,w){return typeof w!="string"?j(!1):Zu(O,w)}function Qa(O,w){return O!=null&&(w!==void 0?!!Ir(O)&&O[X].values.has(w):Ir(O)||!!O[X]||V(O)||_a(O)||Fo(O))}function $i(O){return arguments.length!==1&&j(!1),Qa(O)}function So(O){return Ir(O)?O[X].getKeys():Vn(O)||jr(O)?Array.from(O.keys()):Qr(O)?O.map(function(w,T){return T}):j(!1)}function Sn(O){return Ir(O)?So(O).map(function(w){return O[w]}):Vn(O)?So(O).map(function(w){return O.get(w)}):jr(O)?Array.from(O.values()):Qr(O)?O.slice():j(!1)}function ns(O){return Ir(O)?So(O).map(function(w){return[w,O[w]]}):Vn(O)?So(O).map(function(w){return[w,O.get(w)]}):jr(O)?Array.from(O.entries()):Qr(O)?O.map(function(w,T){return[T,w]}):j(!1)}function Dr(O,w,T){if(arguments.length!==2||jr(O))if(Ir(O)){var B=O[X],K=B.values.get(w);K?B.write(w,T):B.addObservableProp(w,T,B.defaultEnhancer)}else if(Vn(O))O.set(w,T);else if(jr(O))O.add(w);else{if(!Qr(O))return j(!1);typeof w!="number"&&(w=parseInt(w,10)),P(w>=0,"Not a valid index: '"+w+"'"),kr(),w>=O.length&&(O.length=w+1),O[w]=T,$r()}else{kr();var pe=w;try{for(var Ee in pe)Dr(O,Ee,pe[Ee])}finally{$r()}}}function rs(O,w,T,B){return typeof T=="function"?function(K,pe,Ee,Fe){return Mo(K,pe).observe(Ee,Fe)}(O,w,T,B):function(K,pe,Ee){return Mo(K).observe(pe,Ee)}(O,w,T)}qu.prototype=Object.create(Error.prototype);var os={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Sr(O,w,T,B){return B.detectCycles&&O.set(w,T),T}function Nr(O,w,T){if(!w.recurseEverything&&!$i(O)||typeof O!="object")return O;if(O===null)return null;if(O instanceof Date)return O;if($o(O))return Nr(O.get(),w,T);if($i(O)&&So(O),w.detectCycles===!0&&O!==null&&T.has(O))return T.get(O);if(Qr(O)||Array.isArray(O)){var B=Sr(T,O,[],w),K=O.map(function(Gt){return Nr(Gt,w,T)});B.length=K.length;for(var pe=0,Ee=K.length;pe<Ee;pe++)B[pe]=K[pe];return B}if(jr(O)||Object.getPrototypeOf(O)===Set.prototype){if(w.exportMapsAsObjects===!1){var Fe=Sr(T,O,new Set,w);return O.forEach(function(Gt){Fe.add(Nr(Gt,w,T))}),Fe}var ct=Sr(T,O,[],w);return O.forEach(function(Gt){ct.push(Nr(Gt,w,T))}),ct}if(Vn(O)||Object.getPrototypeOf(O)===Map.prototype){if(w.exportMapsAsObjects===!1){var qt=Sr(T,O,new Map,w);return O.forEach(function(Gt,ln){qt.set(ln,Nr(Gt,w,T))}),qt}var tt=Sr(T,O,{},w);return O.forEach(function(Gt,ln){tt[ln]=Nr(Gt,w,T)}),tt}var _n=Sr(T,O,{},w);return ae(O).forEach(function(Gt){_n[Gt]=Nr(O[Gt],w,T)}),_n}function Qu(O,w){var T;return typeof w=="boolean"&&(w={detectCycles:w}),w||(w=os),w.detectCycles=w.detectCycles===void 0?w.recurseEverything===!0:w.detectCycles===!0,w.detectCycles&&(T=new Map),Nr(O,w,T)}function sn(O){switch(O.length){case 0:return ft.trackingDerivation;case 1:return eo(O[0]);case 2:return eo(O[0],O[1])}}function ir(O,w){w===void 0&&(w=void 0),kr();try{return O.apply(w)}finally{$r()}}function eu(O,w,T){return arguments.length===1||w&&typeof w=="object"?ec(O,w):is(O,w,T||{})}function is(O,w,T){var B;typeof T.timeout=="number"&&(B=setTimeout(function(){if(!pe[X].isDisposed){pe();var Ee=new Error("WHEN_TIMEOUT");if(!T.onError)throw Ee;T.onError(Ee)}},T.timeout)),T.name=T.name||"When@"+E();var K=Yn(T.name+"-effect",w),pe=Yu(function(Ee){O()&&(Ee.dispose(),B&&clearTimeout(B),K())},T);return pe}function ec(O,w){var T,B=new Promise(function(K,pe){var Ee=is(O,K,Se(Se({},w),{onError:pe}));T=function(){Ee(),pe("WHEN_CANCELLED")}});return B.cancel=T,B}function tu(O){return O[X]}function jo(O){return typeof O=="string"||typeof O=="number"||typeof O=="symbol"}var Uo={has:function(O,w){if(w===X||w==="constructor"||w===je)return!0;var T=tu(O);return jo(w)?T.has(w):w in O},get:function(O,w){if(w===X||w==="constructor"||w===je)return O[w];var T=tu(O),B=T.values.get(w);if(B instanceof $){var K=B.get();return K===void 0&&T.has(w),K}return jo(w)&&T.has(w),O[w]},set:function(O,w,T){return!!jo(w)&&(Dr(O,w,T),!0)},deleteProperty:function(O,w){return!!jo(w)&&(tu(O).remove(w),!0)},ownKeys:function(O){return tu(O).keysAtom.reportObserved(),Reflect.ownKeys(O)},preventExtensions:function(O){return j("Dynamic observable objects cannot be frozen"),!1}};function Fi(O){var w=new Proxy(O,Uo);return O[X].proxy=w,w}function Rr(O){return O.interceptors!==void 0&&O.interceptors.length>0}function Ho(O,w){var T=O.interceptors||(O.interceptors=[]);return T.push(w),k(function(){var B=T.indexOf(w);B!==-1&&T.splice(B,1)})}function on(O,w){var T=ie();try{for(var B=$e(O.interceptors||[]),K=0,pe=B.length;K<pe&&(P(!(w=B[K](w))||w.type,"Intercept handlers should return nothing or a change object"),w);K++);return w}finally{me(T)}}function Cr(O){return O.changeListeners!==void 0&&O.changeListeners.length>0}function Po(O,w){var T=O.changeListeners||(O.changeListeners=[]);return T.push(w),k(function(){var B=T.indexOf(w);B!==-1&&T.splice(B,1)})}function fr(O,w){var T=ie(),B=O.changeListeners;if(B){for(var K=0,pe=(B=B.slice()).length;K<pe;K++)B[K](w);me(T)}}var nu={get:function(O,w){return w===X?O[X]:w==="length"?O[X].getArrayLength():typeof w=="number"?zn.get.call(O,w):typeof w!="string"||isNaN(w)?zn.hasOwnProperty(w)?zn[w]:O[w]:zn.get.call(O,parseInt(w))},set:function(O,w,T){return w==="length"&&O[X].setArrayLength(T),typeof w=="number"&&zn.set.call(O,w,T),typeof w=="symbol"||isNaN(w)?O[w]=T:zn.set.call(O,parseInt(w),T),!0},preventExtensions:function(O){return j("Observable arrays cannot be frozen"),!1}};function wa(O,w,T,B){T===void 0&&(T="ObservableArray@"+E()),B===void 0&&(B=!1);var K,pe,Ee,Fe=new tc(T,w,B);K=Fe.values,pe=X,Ee=Fe,Object.defineProperty(K,pe,{enumerable:!1,writable:!1,configurable:!0,value:Ee});var ct=new Proxy(Fe.values,nu);if(Fe.proxy=ct,O&&O.length){var qt=Bt(!0);Fe.spliceWithArray(0,0,O),gn(qt)}return ct}var tc=function(){function O(w,T,B){this.owned=B,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new $(w||"ObservableArray@"+E()),this.enhancer=function(K,pe){return T(K,pe,w+"[..]")}}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.dehanceValues=function(w){return this.dehancer!==void 0&&w.length>0?w.map(this.dehancer):w},O.prototype.intercept=function(w){return Ho(this,w)},O.prototype.observe=function(w,T){return T===void 0&&(T=!1),T&&w({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Po(this,w)},O.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},O.prototype.setArrayLength=function(w){if(typeof w!="number"||w<0)throw new Error("[mobx.array] Out of range: "+w);var T=this.values.length;if(w!==T)if(w>T){for(var B=new Array(w-T),K=0;K<w-T;K++)B[K]=void 0;this.spliceWithArray(T,0,B)}else this.spliceWithArray(w,T-w)},O.prototype.updateArrayLength=function(w,T){if(w!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=T},O.prototype.spliceWithArray=function(w,T,B){var K=this;Lt(this.atom);var pe=this.values.length;if(w===void 0?w=0:w>pe?w=pe:w<0&&(w=Math.max(0,pe+w)),T=arguments.length===1?pe-w:T==null?0:Math.max(0,Math.min(T,pe-w)),B===void 0&&(B=b),Rr(this)){var Ee=on(this,{object:this.proxy,type:"splice",index:w,removedCount:T,added:B});if(!Ee)return b;T=Ee.removedCount,B=Ee.added}B=B.length===0?B:B.map(function(ct){return K.enhancer(ct,void 0)});var Fe=this.spliceItemsIntoValues(w,T,B);return T===0&&B.length===0||this.notifyArraySplice(w,B,Fe),this.dehanceValues(Fe)},O.prototype.spliceItemsIntoValues=function(w,T,B){var K;if(B.length<1e4)return(K=this.values).splice.apply(K,$e([w,T],B));var pe=this.values.slice(w,w+T);return this.values=this.values.slice(0,w).concat(B,this.values.slice(w+T)),pe},O.prototype.notifyArrayChildUpdate=function(w,T,B){var K=!this.owned&&!1,pe=Cr(this),Ee=pe||K?{object:this.proxy,type:"update",index:w,newValue:T,oldValue:B}:null;this.atom.reportChanged(),pe&&fr(this,Ee)},O.prototype.notifyArraySplice=function(w,T,B){var K=!this.owned&&!1,pe=Cr(this),Ee=pe||K?{object:this.proxy,type:"splice",index:w,removed:B,added:T,removedCount:B.length,addedCount:T.length}:null;this.atom.reportChanged(),pe&&fr(this,Ee)},O}(),zn={intercept:function(O){return this[X].intercept(O)},observe:function(O,w){return w===void 0&&(w=!1),this[X].observe(O,w)},clear:function(){return this.splice(0)},replace:function(O){var w=this[X];return w.spliceWithArray(0,w.values.length,O)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(O,w){for(var T=[],B=2;B<arguments.length;B++)T[B-2]=arguments[B];var K=this[X];switch(arguments.length){case 0:return[];case 1:return K.spliceWithArray(O);case 2:return K.spliceWithArray(O,w)}return K.spliceWithArray(O,w,T)},spliceWithArray:function(O,w,T){return this[X].spliceWithArray(O,w,T)},push:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var T=this[X];return T.spliceWithArray(T.values.length,0,O),T.values.length},pop:function(){return this.splice(Math.max(this[X].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var T=this[X];return T.spliceWithArray(0,0,O),T.values.length},reverse:function(){var O=this.slice();return O.reverse.apply(O,arguments)},sort:function(O){var w=this.slice();return w.sort.apply(w,arguments)},remove:function(O){var w=this[X],T=w.dehanceValues(w.values).indexOf(O);return T>-1&&(this.splice(T,1),!0)},get:function(O){var w=this[X];if(w&&O<w.values.length)return w.atom.reportObserved(),w.dehanceValue(w.values[O])},set:function(O,w){var T=this[X],B=T.values;if(O<B.length){Lt(T.atom);var K=B[O];if(Rr(T)){var pe=on(T,{type:"update",object:T.proxy,index:O,newValue:w});if(!pe)return;w=pe.newValue}(w=T.enhancer(w,K))!==K&&(B[O]=w,T.notifyArrayChildUpdate(O,w,K))}else{if(O!==B.length)throw new Error("[mobx.array] Index out of bounds, "+O+" is larger than "+B.length);T.spliceWithArray(O,0,[w])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(O){typeof Array.prototype[O]=="function"&&(zn[O]=function(){var w=this[X];w.atom.reportObserved();var T=w.dehanceValues(w.values);return T[O].apply(T,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(O){typeof Array.prototype[O]=="function"&&(zn[O]=function(w,T){var B=this,K=this[X];return K.atom.reportObserved(),K.dehanceValues(K.values)[O](function(pe,Ee){return w.call(T,pe,Ee,B)},T)})}),["reduce","reduceRight"].forEach(function(O){zn[O]=function(){var w=this,T=this[X];T.atom.reportObserved();var B=arguments[0];return arguments[0]=function(K,pe,Ee){return pe=T.dehanceValue(pe),B(K,pe,Ee,w)},T.values[O].apply(T.values,arguments)}});var ru,Xo=G("ObservableArrayAdministration",tc);function Qr(O){return C(O)&&Xo(O[X])}var nc,zl={},rc=function(){function O(w,T,B){if(T===void 0&&(T=Je),B===void 0&&(B="ObservableMap@"+E()),this.enhancer=T,this.name=B,this[ru]=zl,this._keysAtom=Y(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(w)}return O.prototype._has=function(w){return this._data.has(w)},O.prototype.has=function(w){var T=this;if(!ft.trackingDerivation)return this._has(w);var B=this._hasMap.get(w);if(!B){var K=B=new Bn(this._has(w),mt,this.name+"."+re(w)+"?",!1);this._hasMap.set(w,K),dn(K,function(){return T._hasMap.delete(w)})}return B.get()},O.prototype.set=function(w,T){var B=this._has(w);if(Rr(this)){var K=on(this,{type:B?"update":"add",object:this,newValue:T,name:w});if(!K)return this;T=K.newValue}return B?this._updateValue(w,T):this._addValue(w,T),this},O.prototype.delete=function(w){var T=this;if(Lt(this._keysAtom),Rr(this)&&!(K=on(this,{type:"delete",object:this,name:w})))return!1;if(this._has(w)){var B=Cr(this),K=B?{type:"delete",object:this,oldValue:this._data.get(w).value,name:w}:null;return ir(function(){T._keysAtom.reportChanged(),T._updateHasMapEntry(w,!1),T._data.get(w).setNewValue(void 0),T._data.delete(w)}),B&&fr(this,K),!0}return!1},O.prototype._updateHasMapEntry=function(w,T){var B=this._hasMap.get(w);B&&B.setNewValue(T)},O.prototype._updateValue=function(w,T){var B=this._data.get(w);if((T=B.prepareNewValue(T))!==ft.UNCHANGED){var K=Cr(this),pe=K?{type:"update",object:this,oldValue:B.value,name:w,newValue:T}:null;B.setNewValue(T),K&&fr(this,pe)}},O.prototype._addValue=function(w,T){var B=this;Lt(this._keysAtom),ir(function(){var Ee=new Bn(T,B.enhancer,B.name+"."+re(w),!1);B._data.set(w,Ee),T=Ee.value,B._updateHasMapEntry(w,!0),B._keysAtom.reportChanged()});var K=Cr(this),pe=K?{type:"add",object:this,name:w,newValue:T}:null;K&&fr(this,pe)},O.prototype.get=function(w){return this.has(w)?this.dehanceValue(this._data.get(w).get()):this.dehanceValue(void 0)},O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},O.prototype.values=function(){var w=this,T=this.keys();return en({next:function(){var B=T.next(),K=B.done,pe=B.value;return{done:K,value:K?void 0:w.get(pe)}}})},O.prototype.entries=function(){var w=this,T=this.keys();return en({next:function(){var B=T.next(),K=B.done,pe=B.value;return{done:K,value:K?void 0:[pe,w.get(pe)]}}})},O.prototype[ru=X,Symbol.iterator]=function(){return this.entries()},O.prototype.forEach=function(w,T){var B,K;try{for(var pe=_e(this),Ee=pe.next();!Ee.done;Ee=pe.next()){var Fe=Ae(Ee.value,2),ct=Fe[0],qt=Fe[1];w.call(T,qt,ct,this)}}catch(tt){B={error:tt}}finally{try{Ee&&!Ee.done&&(K=pe.return)&&K.call(pe)}finally{if(B)throw B.error}}},O.prototype.merge=function(w){var T=this;return Vn(w)&&(w=w.toJS()),ir(function(){var B=Bt(!0);try{N(w)?ae(w).forEach(function(K){return T.set(K,w[K])}):Array.isArray(w)?w.forEach(function(K){var pe=Ae(K,2),Ee=pe[0],Fe=pe[1];return T.set(Ee,Fe)}):U(w)?(w.constructor!==Map&&j("Cannot initialize from classes that inherit from Map: "+w.constructor.name),w.forEach(function(K,pe){return T.set(pe,K)})):w!=null&&j("Cannot initialize map from "+w)}finally{gn(B)}}),this},O.prototype.clear=function(){var w=this;ir(function(){he(function(){var T,B;try{for(var K=_e(w.keys()),pe=K.next();!pe.done;pe=K.next()){var Ee=pe.value;w.delete(Ee)}}catch(Fe){T={error:Fe}}finally{try{pe&&!pe.done&&(B=K.return)&&B.call(K)}finally{if(T)throw T.error}}})})},O.prototype.replace=function(w){var T=this;return ir(function(){var B,K,pe,Ee,Fe=function(Pr){if(U(Pr)||Vn(Pr))return Pr;if(Array.isArray(Pr))return new Map(Pr);if(N(Pr)){var Ea=new Map;for(var Wi in Pr)Ea.set(Wi,Pr[Wi]);return Ea}return j("Cannot convert to map from '"+Pr+"'")}(w),ct=new Map,qt=!1;try{for(var tt=_e(T._data.keys()),_n=tt.next();!_n.done;_n=tt.next()){var Gt=_n.value;if(!Fe.has(Gt))if(T.delete(Gt))qt=!0;else{var ln=T._data.get(Gt);ct.set(Gt,ln)}}}catch(Pr){B={error:Pr}}finally{try{_n&&!_n.done&&(K=tt.return)&&K.call(tt)}finally{if(B)throw B.error}}try{for(var to=_e(Fe.entries()),Rn=to.next();!Rn.done;Rn=to.next()){var Lr=Ae(Rn.value,2),Yo=(Gt=Lr[0],ln=Lr[1],T._data.has(Gt));if(T.set(Gt,ln),T._data.has(Gt)){var Vo=T._data.get(Gt);ct.set(Gt,Vo),Yo||(qt=!0)}}}catch(Pr){pe={error:Pr}}finally{try{Rn&&!Rn.done&&(Ee=to.return)&&Ee.call(to)}finally{if(pe)throw pe.error}}if(!qt)if(T._data.size!==ct.size)T._keysAtom.reportChanged();else for(var xa=T._data.keys(),ic=ct.keys(),vi=xa.next(),iu=ic.next();!vi.done;){if(vi.value!==iu.value){T._keysAtom.reportChanged();break}vi=xa.next(),iu=ic.next()}T._data=ct}),this},Object.defineProperty(O.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.toPOJO=function(){var w,T,B={};try{for(var K=_e(this),pe=K.next();!pe.done;pe=K.next()){var Ee=Ae(pe.value,2),Fe=Ee[0],ct=Ee[1];B[typeof Fe=="symbol"?Fe:re(Fe)]=ct}}catch(qt){w={error:qt}}finally{try{pe&&!pe.done&&(T=K.return)&&T.call(K)}finally{if(w)throw w.error}}return B},O.prototype.toJS=function(){return new Map(this)},O.prototype.toJSON=function(){return this.toPOJO()},O.prototype.toString=function(){var w=this;return this.name+"[{ "+Array.from(this.keys()).map(function(T){return re(T)+": "+w.get(T)}).join(", ")+" }]"},O.prototype.observe=function(w,T){return Po(this,w)},O.prototype.intercept=function(w){return Ho(this,w)},O}(),Vn=G("ObservableMap",rc),di={},Ao=function(){function O(w,T,B){if(T===void 0&&(T=Je),B===void 0&&(B="ObservableSet@"+E()),this.name=B,this[nc]=di,this._data=new Set,this._atom=Y(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(K,pe){return T(K,pe,B)},w&&this.replace(w)}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.clear=function(){var w=this;ir(function(){he(function(){var T,B;try{for(var K=_e(w._data.values()),pe=K.next();!pe.done;pe=K.next()){var Ee=pe.value;w.delete(Ee)}}catch(Fe){T={error:Fe}}finally{try{pe&&!pe.done&&(B=K.return)&&B.call(K)}finally{if(T)throw T.error}}})})},O.prototype.forEach=function(w,T){var B,K;try{for(var pe=_e(this),Ee=pe.next();!Ee.done;Ee=pe.next()){var Fe=Ee.value;w.call(T,Fe,Fe,this)}}catch(ct){B={error:ct}}finally{try{Ee&&!Ee.done&&(K=pe.return)&&K.call(pe)}finally{if(B)throw B.error}}},Object.defineProperty(O.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.add=function(w){var T=this;if(Lt(this._atom),Rr(this)&&!(K=on(this,{type:"add",object:this,newValue:w})))return this;if(!this.has(w)){ir(function(){T._data.add(T.enhancer(w,void 0)),T._atom.reportChanged()});var B=Cr(this),K=B?{type:"add",object:this,newValue:w}:null;B&&fr(this,K)}return this},O.prototype.delete=function(w){var T=this;if(Rr(this)&&!(K=on(this,{type:"delete",object:this,oldValue:w})))return!1;if(this.has(w)){var B=Cr(this),K=B?{type:"delete",object:this,oldValue:w}:null;return ir(function(){T._atom.reportChanged(),T._data.delete(w)}),B&&fr(this,K),!0}return!1},O.prototype.has=function(w){return this._atom.reportObserved(),this._data.has(this.dehanceValue(w))},O.prototype.entries=function(){var w=0,T=Array.from(this.keys()),B=Array.from(this.values());return en({next:function(){var K=w;return w+=1,K<B.length?{value:[T[K],B[K]],done:!1}:{done:!0}}})},O.prototype.keys=function(){return this.values()},O.prototype.values=function(){this._atom.reportObserved();var w=this,T=0,B=Array.from(this._data.values());return en({next:function(){return T<B.length?{value:w.dehanceValue(B[T++]),done:!1}:{done:!0}}})},O.prototype.replace=function(w){var T=this;return jr(w)&&(w=w.toJS()),ir(function(){var B=Bt(!0);try{Array.isArray(w)||te(w)?(T.clear(),w.forEach(function(K){return T.add(K)})):w!=null&&j("Cannot initialize set from "+w)}finally{gn(B)}}),this},O.prototype.observe=function(w,T){return Po(this,w)},O.prototype.intercept=function(w){return Ho(this,w)},O.prototype.toJS=function(){return new Set(this)},O.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},O.prototype[nc=X,Symbol.iterator]=function(){return this.values()},O}(),jr=G("ObservableSet",Ao),oc=function(){function O(w,T,B,K){T===void 0&&(T=new Map),this.target=w,this.values=T,this.name=B,this.defaultEnhancer=K,this.keysAtom=new $(B+".keys")}return O.prototype.read=function(w){return this.values.get(w).get()},O.prototype.write=function(w,T){var B=this.target,K=this.values.get(w);if(K instanceof Eo)K.set(T);else{if(Rr(this)){if(!(Ee=on(this,{type:"update",object:this.proxy||B,name:w,newValue:T})))return;T=Ee.newValue}if((T=K.prepareNewValue(T))!==ft.UNCHANGED){var pe=Cr(this),Ee=pe?{type:"update",object:this.proxy||B,oldValue:K.value,name:w,newValue:T}:null;K.setNewValue(T),pe&&fr(this,Ee)}}},O.prototype.has=function(w){var T=this.pendingKeys||(this.pendingKeys=new Map),B=T.get(w);if(B)return B.get();var K=!!this.values.get(w);return B=new Bn(K,mt,this.name+"."+re(w)+"?",!1),T.set(w,B),B.get()},O.prototype.addObservableProp=function(w,T,B){B===void 0&&(B=this.defaultEnhancer);var K=this.target;if(Rr(this)){var pe=on(this,{object:this.proxy||K,name:w,type:"add",newValue:T});if(!pe)return;T=pe.newValue}var Ee=new Bn(T,B,this.name+"."+re(w),!1);this.values.set(w,Ee),T=Ee.value,Object.defineProperty(K,w,function(Fe){return yi[Fe]||(yi[Fe]={configurable:!0,enumerable:!0,get:function(){return this[X].read(Fe)},set:function(ct){this[X].write(Fe,ct)}})}(w)),this.notifyPropertyAddition(w,T)},O.prototype.addComputedProp=function(w,T,B){var K,pe,Ee,Fe=this.target;B.name=B.name||this.name+"."+re(T),this.values.set(T,new Eo(B)),(w===Fe||(K=w,pe=T,!(Ee=Object.getOwnPropertyDescriptor(K,pe))||Ee.configurable!==!1&&Ee.writable!==!1))&&Object.defineProperty(w,T,function(ct){return ou[ct]||(ou[ct]={configurable:ft.computedConfigurable,enumerable:!1,get:function(){return To(this).read(ct)},set:function(qt){To(this).write(ct,qt)}})}(T))},O.prototype.remove=function(w){if(this.values.has(w)){var T=this.target;if(Rr(this)&&!(ct=on(this,{object:this.proxy||T,name:w,type:"remove"})))return;try{kr();var B=Cr(this),K=!1,pe=this.values.get(w),Ee=pe&&pe.get();if(pe&&pe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(w),this.pendingKeys){var Fe=this.pendingKeys.get(w);Fe&&Fe.set(!1)}delete this.target[w];var ct=B?{type:"remove",object:this.proxy||T,oldValue:Ee,name:w}:null;B&&fr(this,ct)}finally{$r()}}},O.prototype.illegalAccess=function(w,T){},O.prototype.observe=function(w,T){return Po(this,w)},O.prototype.intercept=function(w){return Ho(this,w)},O.prototype.notifyPropertyAddition=function(w,T){var B=Cr(this),K=B?{type:"add",object:this.proxy||this.target,name:w,newValue:T}:null;if(B&&fr(this,K),this.pendingKeys){var pe=this.pendingKeys.get(w);pe&&pe.set(!0)}this.keysAtom.reportChanged()},O.prototype.getKeys=function(){var w,T;this.keysAtom.reportObserved();var B=[];try{for(var K=_e(this.values),pe=K.next();!pe.done;pe=K.next()){var Ee=Ae(pe.value,2),Fe=Ee[0];Ee[1]instanceof Bn&&B.push(Fe)}}catch(ct){w={error:ct}}finally{try{pe&&!pe.done&&(T=K.return)&&T.call(K)}finally{if(w)throw w.error}}return B},O}();function Fr(O,w,T){if(w===void 0&&(w=""),T===void 0&&(T=Je),Object.prototype.hasOwnProperty.call(O,X))return O[X];N(O)||(w=(O.constructor.name||"ObservableObject")+"@"+E()),w||(w="ObservableObject@"+E());var B=new oc(O,new Map,re(w),T);return L(O,X,B),B}var yi=Object.create(null),ou=Object.create(null);function To(O){var w=O[X];return w||(ot(O),O[X])}var Wr=G("ObservableObjectAdministration",oc);function Ir(O){return!!C(O)&&(ot(O),Wr(O[X]))}function eo(O,w){if(typeof O=="object"&&O!==null){if(Qr(O))return w!==void 0&&j(!1),O[X].atom;if(jr(O))return O[X];if(Vn(O)){var T=O;return w===void 0?T._keysAtom:((B=T._data.get(w)||T._hasMap.get(w))||j(!1),B)}var B;if(ot(O),w&&!O[X]&&O[w],Ir(O))return w?((B=O[X].values.get(w))||j(!1),B):j(!1);if(V(O)||Fo(O)||_a(O))return O}else if(typeof O=="function"&&_a(O[X]))return O[X];return j(!1)}function Mo(O,w){return O||j("Expecting some object"),w!==void 0?Mo(eo(O,w)):V(O)||Fo(O)||_a(O)||Vn(O)||jr(O)?O:(ot(O),O[X]?O[X]:void j(!1))}var we=Object.prototype.toString;function Ne(O,w,T){return T===void 0&&(T=-1),Ie(O,w,T)}function Ie(O,w,T,B,K){if(O===w)return O!==0||1/O==1/w;if(O==null||w==null)return!1;if(O!=O)return w!=w;var pe=typeof O;if(pe!=="function"&&pe!=="object"&&typeof w!="object")return!1;var Ee=we.call(O);if(Ee!==we.call(w))return!1;switch(Ee){case"[object RegExp]":case"[object String]":return""+O==""+w;case"[object Number]":return+O!=+O?+w!=+w:+O==0?1/+O==1/w:+O==+w;case"[object Date]":case"[object Boolean]":return+O==+w;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(O)===Symbol.valueOf.call(w);case"[object Map]":case"[object Set]":T>=0&&T++}O=et(O),w=et(w);var Fe=Ee==="[object Array]";if(!Fe){if(typeof O!="object"||typeof w!="object")return!1;var ct=O.constructor,qt=w.constructor;if(ct!==qt&&!(typeof ct=="function"&&ct instanceof ct&&typeof qt=="function"&&qt instanceof qt)&&"constructor"in O&&"constructor"in w)return!1}if(T===0)return!1;T<0&&(T=-1),K=K||[];for(var tt=(B=B||[]).length;tt--;)if(B[tt]===O)return K[tt]===w;if(B.push(O),K.push(w),Fe){if((tt=O.length)!==w.length)return!1;for(;tt--;)if(!Ie(O[tt],w[tt],T-1,B,K))return!1}else{var _n=Object.keys(O),Gt=void 0;if(tt=_n.length,Object.keys(w).length!==tt)return!1;for(;tt--;)if(!Wt(w,Gt=_n[tt])||!Ie(O[Gt],w[Gt],T-1,B,K))return!1}return B.pop(),K.pop(),!0}function et(O){return Qr(O)?O.slice():U(O)||Vn(O)||te(O)||jr(O)?Array.from(O.entries()):O}function Wt(O,w){return Object.prototype.hasOwnProperty.call(O,w)}function en(O){return O[Symbol.iterator]=An,O}function An(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Uu,extras:{getDebugName:function(O,w){return(w!==void 0?eo(O,w):Ir(O)||Vn(O)||jr(O)?Mo(O):eo(O)).name}},$mobx:X})}).call(this,o(163),o(68))},function(u,l,o){var h=o(113),d=o(42),b=o(179);h||d(Object.prototype,"toString",b,{unsafe:!0})},function(u,l,o){var h=o(41),d=o(100),b=o(80),g=o(58),E=o(116),j="Array Iterator",P=g.set,k=g.getterFor(j);u.exports=E(Array,"Array",function(M,C){P(this,{type:j,target:h(M),index:0,kind:C})},function(){var M=k(this),C=M.target,N=M.kind,L=M.index++;return!C||L>=C.length?(M.target=void 0,{value:void 0,done:!0}):N=="keys"?{value:L,done:!1}:N=="values"?{value:C[L],done:!1}:{value:[L,C[L]],done:!1}},"values"),b.Arguments=b.Array,d("keys"),d("values"),d("entries")},function(u,l,o){var h=o(16),d=o(7),b=o(46),g=o(76),E=o(34),j=o(15),P=o(71),k=o(36),M=o(108),C=o(18),N=o(35),L=o(96),G=o(30),U=o(33),te=o(54),ae=o(87),re=o(32),J=o(40),Z=o(41),X=o(86),$=o(39),V=o(69),Y=o(60),q=o(77),ce=o(74),Se=o(139),_e=o(112),Ae=o(50),$e=o(38),je=o(84),ge=o(98),Pe=o(42),Te=o(89),We=o(93),ot=o(72),xt=o(90),Ye=o(28),Je=o(140),mt=o(141),se=o(78),ue=o(58),ve=o(79).forEach,De=We("hidden"),Ue="Symbol",ze=Ye("toPrimitive"),Et=ue.set,Rt=ue.getterFor(Ue),At=Object.prototype,gt=d.Symbol,Me=gt&&gt.prototype,lt=d.TypeError,fe=d.QObject,at=b("JSON","stringify"),$t=Ae.f,hn=$e.f,Ft=Se.f,rn=je.f,mn=j([].push),kn=Te("symbols"),Lt=Te("op-symbols"),Xn=Te("string-to-symbol-registry"),Q=Te("symbol-to-string-registry"),he=Te("wks"),ie=!fe||!fe.prototype||!fe.prototype.findChild,me=k&&C(function(){return Y(hn({},"a",{get:function(){return hn(this,"a",{value:7}).a}})).a!=7})?function(ut,Ot,St){var Bt=$t(At,Ot);Bt&&delete At[Ot],hn(ut,Ot,St),Bt&&ut!==At&&hn(At,Ot,Bt)}:hn,Ve=function(ut,Ot){var St=kn[ut]=Y(Me);return Et(St,{type:Ue,tag:ut,description:Ot}),k||(St.description=Ot),St},Ke=function(ut,Ot,St){ut===At&&Ke(Lt,Ot,St),re(ut);var Bt=X(Ot);return re(St),N(kn,Bt)?(St.enumerable?(N(ut,De)&&ut[De][Bt]&&(ut[De][Bt]=!1),St=Y(St,{enumerable:V(0,!1)})):(N(ut,De)||hn(ut,De,V(1,{})),ut[De][Bt]=!0),me(ut,Bt,St)):hn(ut,Bt,St)},pt=function(ut,Ot){re(ut);var St=Z(Ot),Bt=q(St).concat(Yn(St));return ve(Bt,function(gn){k&&!E(Yt,St,gn)||Ke(ut,gn,St[gn])}),ut},Yt=function(ut){var Ot=X(ut),St=E(rn,this,Ot);return!(this===At&&N(kn,Ot)&&!N(Lt,Ot))&&(!(St||!N(this,Ot)||!N(kn,Ot)||N(this,De)&&this[De][Ot])||St)},or=function(ut,Ot){var St=Z(ut),Bt=X(Ot);if(St!==At||!N(kn,Bt)||N(Lt,Bt)){var gn=$t(St,Bt);return!gn||!N(kn,Bt)||N(St,De)&&St[De][Bt]||(gn.enumerable=!0),gn}},dr=function(ut){var Ot=Ft(Z(ut)),St=[];return ve(Ot,function(Bt){N(kn,Bt)||N(ot,Bt)||mn(St,Bt)}),St},Yn=function(ut){var Ot=ut===At,St=Ft(Ot?Lt:Z(ut)),Bt=[];return ve(St,function(gn){!N(kn,gn)||Ot&&!N(At,gn)||mn(Bt,kn[gn])}),Bt};if(M||(gt=function(){if(te(Me,this))throw lt("Symbol is not a constructor");var ut=arguments.length&&arguments[0]!==void 0?$(arguments[0]):void 0,Ot=xt(ut),St=function(Bt){this===At&&E(St,Lt,Bt),N(this,De)&&N(this[De],Ot)&&(this[De][Ot]=!1),me(this,Ot,V(1,Bt))};return k&&ie&&me(At,Ot,{configurable:!0,set:St}),Ve(Ot,ut)},Pe(Me=gt.prototype,"toString",function(){return Rt(this).tag}),Pe(gt,"withoutSetter",function(ut){return Ve(xt(ut),ut)}),je.f=Yt,$e.f=Ke,Ae.f=or,ce.f=Se.f=dr,_e.f=Yn,Je.f=function(ut){return Ve(Ye(ut),ut)},k&&(hn(Me,"description",{configurable:!0,get:function(){return Rt(this).description}}),P||Pe(At,"propertyIsEnumerable",Yt,{unsafe:!0}))),h({global:!0,wrap:!0,forced:!M,sham:!M},{Symbol:gt}),ve(q(he),function(ut){mt(ut)}),h({target:Ue,stat:!0,forced:!M},{for:function(ut){var Ot=$(ut);if(N(Xn,Ot))return Xn[Ot];var St=gt(Ot);return Xn[Ot]=St,Q[St]=Ot,St},keyFor:function(ut){if(!ae(ut))throw lt(ut+" is not a symbol");if(N(Q,ut))return Q[ut]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),h({target:"Object",stat:!0,forced:!M,sham:!k},{create:function(ut,Ot){return Ot===void 0?Y(ut):pt(Y(ut),Ot)},defineProperty:Ke,defineProperties:pt,getOwnPropertyDescriptor:or}),h({target:"Object",stat:!0,forced:!M},{getOwnPropertyNames:dr,getOwnPropertySymbols:Yn}),h({target:"Object",stat:!0,forced:C(function(){_e.f(1)})},{getOwnPropertySymbols:function(ut){return _e.f(J(ut))}}),at&&h({target:"JSON",stat:!0,forced:!M||C(function(){var ut=gt();return at([ut])!="[null]"||at({a:ut})!="{}"||at(Object(ut))!="{}"})},{stringify:function(ut,Ot,St){var Bt=ge(arguments),gn=Ot;if((U(Ot)||ut!==void 0)&&!ae(ut))return L(Ot)||(Ot=function(Bn,$o){if(G(gn)&&($o=E(gn,this,Bn,$o)),!ae($o))return $o}),Bt[1]=Ot,g(at,null,Bt)}}),!Me[ze]){var Zn=Me.valueOf;Pe(Me,ze,function(ut){return E(Zn,this)})}se(gt,Ue),ot[De]=!0},function(u,l,o){var h=o(7),d=o(152),b=o(153),g=o(3),E=o(57),j=o(28),P=j("iterator"),k=j("toStringTag"),M=g.values,C=function(L,G){if(L){if(L[P]!==M)try{E(L,P,M)}catch(te){L[P]=M}if(L[k]||E(L,k,G),d[G]){for(var U in g)if(L[U]!==g[U])try{E(L,U,g[U])}catch(te){L[U]=g[U]}}}};for(var N in d)C(h[N]&&h[N].prototype,N);C(b,"DOMTokenList")},function(u,l,o){var h=o(151).charAt,d=o(39),b=o(58),g=o(116),E="String Iterator",j=b.set,P=b.getterFor(E);g(String,"String",function(k){j(this,{type:E,string:d(k),index:0})},function(){var k,M=P(this),C=M.string,N=M.index;return N>=C.length?{value:void 0,done:!0}:(k=h(C,N),M.index+=k.length,{value:k,done:!1})})},function(u,l,o){(function(h){var d=function(b){return b&&b.Math==Math&&b};u.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof h=="object"&&h)||function(){return this}()||Function("return this")()}).call(this,o(68))},function(u,l,o){var h=o(16),d=o(36),b=o(7),g=o(15),E=o(35),j=o(30),P=o(54),k=o(39),M=o(38).f,C=o(134),N=b.Symbol,L=N&&N.prototype;if(d&&j(N)&&(!("description"in L)||N().description!==void 0)){var G={},U=function(){var $=arguments.length<1||arguments[0]===void 0?void 0:k(arguments[0]),V=P(L,this)?new N($):$===void 0?N():N($);return $===""&&(G[V]=!0),V};C(U,N),U.prototype=L,L.constructor=U;var te=String(N("test"))=="Symbol(test)",ae=g(L.toString),re=g(L.valueOf),J=/^Symbol\((.*)\)[^)]+$/,Z=g("".replace),X=g("".slice);M(L,"description",{configurable:!0,get:function(){var $=re(this),V=ae($);if(E(G,$))return"";var Y=te?X(V,7,-1):Z(V,J,"$1");return Y===""?void 0:Y}}),h({global:!0,forced:!0},{Symbol:U})}},function(u,l,o){o(141)("iterator")},function(u,l,o){o.d(l,"a",function(){return g.a}),o.d(l,"c",function(){return g.e}),o.d(l,"h",function(){return J}),o.d(l,"i",function(){return te}),o.d(l,"j",function(){return G}),o.d(l,"b",function(){return Ae}),o.d(l,"e",function(){return Pe}),o.d(l,"f",function(){return $e}),o.d(l,"g",function(){return kn});var h,d,b,g=o(0),E=0,j=[],P=g.i.__b,k=g.i.__r,M=g.i.diffed,C=g.i.__c,N=g.i.unmount;function L(Q,he){g.i.__h&&g.i.__h(d,Q,E||he),E=0;var ie=d.__H||(d.__H={__:[],__h:[]});return Q>=ie.__.length&&ie.__.push({}),ie.__[Q]}function G(Q){return E=1,U(ce,Q)}function U(Q,he,ie){var me=L(h++,2);return me.t=Q,me.__c||(me.__=[ie?ie(he):ce(void 0,he),function(Ve){var Ke=me.t(me.__[0],Ve);me.__[0]!==Ke&&(me.__=[Ke,me.__[1]],me.__c.setState({}))}],me.__c=d),me.__}function te(Q,he){var ie=L(h++,3);!g.i.__s&&q(ie.__H,he)&&(ie.__=Q,ie.__H=he,d.__H.__h.push(ie))}function ae(Q,he){var ie=L(h++,4);!g.i.__s&&q(ie.__H,he)&&(ie.__=Q,ie.__H=he,d.__h.push(ie))}function re(Q,he){var ie=L(h++,7);return q(ie.__H,he)&&(ie.__=Q(),ie.__H=he,ie.__h=Q),ie.__}function J(Q,he){return E=8,re(function(){return Q},he)}function Z(){var Q;for(j.sort(function(he,ie){return he.__v.__b-ie.__v.__b});Q=j.pop();)if(Q.__P)try{Q.__H.__h.forEach(V),Q.__H.__h.forEach(Y),Q.__H.__h=[]}catch(he){Q.__H.__h=[],g.i.__e(he,Q.__v)}}g.i.__b=function(Q){d=null,P&&P(Q)},g.i.__r=function(Q){k&&k(Q),h=0;var he=(d=Q.__c).__H;he&&(he.__h.forEach(V),he.__h.forEach(Y),he.__h=[])},g.i.diffed=function(Q){M&&M(Q);var he=Q.__c;he&&he.__H&&he.__H.__h.length&&(j.push(he)!==1&&b===g.i.requestAnimationFrame||((b=g.i.requestAnimationFrame)||$)(Z)),d=null},g.i.__c=function(Q,he){he.some(function(ie){try{ie.__h.forEach(V),ie.__h=ie.__h.filter(function(me){return!me.__||Y(me)})}catch(me){he.some(function(Ve){Ve.__h&&(Ve.__h=[])}),he=[],g.i.__e(me,ie.__v)}}),C&&C(Q,he)},g.i.unmount=function(Q){N&&N(Q);var he,ie=Q.__c;ie&&ie.__H&&(ie.__H.__.forEach(function(me){try{V(me)}catch(Ve){he=Ve}}),he&&g.i.__e(he,ie.__v))};var X=typeof requestAnimationFrame=="function";function $(Q){var he,ie=function(){clearTimeout(me),X&&cancelAnimationFrame(he),setTimeout(Q)},me=setTimeout(ie,100);X&&(he=requestAnimationFrame(ie))}function V(Q){var he=d,ie=Q.__c;typeof ie=="function"&&(Q.__c=void 0,ie()),d=he}function Y(Q){var he=d;Q.__c=Q.__(),d=he}function q(Q,he){return!Q||Q.length!==he.length||he.some(function(ie,me){return ie!==Q[me]})}function ce(Q,he){return typeof he=="function"?he(Q):he}function Se(Q,he){for(var ie in he)Q[ie]=he[ie];return Q}function _e(Q,he){for(var ie in Q)if(ie!=="__source"&&!(ie in he))return!0;for(var me in he)if(me!=="__source"&&Q[me]!==he[me])return!0;return!1}function Ae(Q){this.props=Q}function $e(Q,he){function ie(Ve){var Ke=this.props.ref,pt=Ke==Ve.ref;return!pt&&Ke&&(Ke.call?Ke(null):Ke.current=null),he?!he(this.props,Ve)||!pt:_e(this.props,Ve)}function me(Ve){return this.shouldComponentUpdate=ie,Object(g.e)(Q,Ve)}return me.displayName="Memo("+(Q.displayName||Q.name)+")",me.prototype.isReactComponent=!0,me.__f=!0,me}(Ae.prototype=new g.a).isPureReactComponent=!0,Ae.prototype.shouldComponentUpdate=function(Q,he){return _e(this.props,Q)||_e(this.state,he)};var je=g.i.__b;g.i.__b=function(Q){Q.type&&Q.type.__f&&Q.ref&&(Q.props.ref=Q.ref,Q.ref=null),je&&je(Q)};var ge=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Pe(Q){function he(ie,me){var Ve=Se({},ie);return delete Ve.ref,Q(Ve,!(me=ie.ref||me)||typeof me=="object"&&!("current"in me)?null:me)}return he.$$typeof=ge,he.render=he,he.prototype.isReactComponent=he.__f=!0,he.displayName="ForwardRef("+(Q.displayName||Q.name)+")",he}var Te=function(Q,he){return Q==null?null:Object(g.k)(Object(g.k)(Q).map(he))},We={map:Te,forEach:Te,count:function(Q){return Q?Object(g.k)(Q).length:0},only:function(Q){var he=Object(g.k)(Q);if(he.length!==1)throw"Children.only";return he[0]},toArray:g.k},ot=g.i.__e;g.i.__e=function(Q,he,ie){if(Q.then){for(var me,Ve=he;Ve=Ve.__;)if((me=Ve.__c)&&me.__c)return he.__e==null&&(he.__e=ie.__e,he.__k=ie.__k),me.__c(Q,he)}ot(Q,he,ie)};var xt=g.i.unmount;function Ye(Q,he,ie){return Q&&(Q.__c&&Q.__c.__H&&(Q.__c.__H.__.forEach(function(me){typeof me.__c=="function"&&me.__c()}),Q.__c.__H=null),(Q=Se({},Q)).__c!=null&&(Q.__c.__P===ie&&(Q.__c.__P=he),Q.__c=null),Q.__k=Q.__k&&Q.__k.map(function(me){return Ye(me,he,ie)})),Q}function Je(Q,he,ie){return Q&&(Q.__v=null,Q.__k=Q.__k&&Q.__k.map(function(me){return Je(me,he,ie)}),Q.__c&&Q.__c.__P===he&&(Q.__e&&ie.insertBefore(Q.__e,Q.__d),Q.__c.__e=!0,Q.__c.__P=ie)),Q}function mt(){this.__u=0,this.t=null,this.__b=null}function se(Q){var he=Q.__.__c;return he&&he.__e&&he.__e(Q)}function ue(){this.u=null,this.o=null}g.i.unmount=function(Q){var he=Q.__c;he&&he.__R&&he.__R(),he&&Q.__h===!0&&(Q.type=null),xt&&xt(Q)},(mt.prototype=new g.a).__c=function(Q,he){var ie=he.__c,me=this;me.t==null&&(me.t=[]),me.t.push(ie);var Ve=se(me.__v),Ke=!1,pt=function(){Ke||(Ke=!0,ie.__R=null,Ve?Ve(Yt):Yt())};ie.__R=pt;var Yt=function(){if(!--me.__u){if(me.state.__e){var dr=me.state.__e;me.__v.__k[0]=Je(dr,dr.__c.__P,dr.__c.__O)}var Yn;for(me.setState({__e:me.__b=null});Yn=me.t.pop();)Yn.forceUpdate()}},or=he.__h===!0;me.__u++||or||me.setState({__e:me.__b=me.__v.__k[0]}),Q.then(pt,pt)},mt.prototype.componentWillUnmount=function(){this.t=[]},mt.prototype.render=function(Q,he){if(this.__b){if(this.__v.__k){var ie=document.createElement("div"),me=this.__v.__k[0].__c;this.__v.__k[0]=Ye(this.__b,ie,me.__O=me.__P)}this.__b=null}var Ve=he.__e&&Object(g.e)(g.b,null,Q.fallback);return Ve&&(Ve.__h=null),[Object(g.e)(g.b,null,he.__e?null:Q.children),Ve]};var ve=function(Q,he,ie){if(++ie[1]===ie[0]&&Q.o.delete(he),Q.props.revealOrder&&(Q.props.revealOrder[0]!=="t"||!Q.o.size))for(ie=Q.u;ie;){for(;ie.length>3;)ie.pop()();if(ie[1]<ie[0])break;Q.u=ie=ie[2]}};function De(Q){return this.getChildContext=function(){return Q.context},Q.children}function Ue(Q){var he=this,ie=Q.i;he.componentWillUnmount=function(){Object(g.j)(null,he.l),he.l=null,he.i=null},he.i&&he.i!==ie&&he.componentWillUnmount(),Q.__v?(he.l||(he.i=ie,he.l={nodeType:1,parentNode:ie,childNodes:[],appendChild:function(me){this.childNodes.push(me),he.i.appendChild(me)},insertBefore:function(me,Ve){this.childNodes.push(me),he.i.appendChild(me)},removeChild:function(me){this.childNodes.splice(this.childNodes.indexOf(me)>>>1,1),he.i.removeChild(me)}}),Object(g.j)(Object(g.e)(De,{context:he.context},Q.__v),he.l)):he.l&&he.componentWillUnmount()}(ue.prototype=new g.a).__e=function(Q){var he=this,ie=se(he.__v),me=he.o.get(Q);return me[0]++,function(Ve){var Ke=function(){he.props.revealOrder?(me.push(Ve),ve(he,Q,me)):Ve()};ie?ie(Ke):Ke()}},ue.prototype.render=function(Q){this.u=null,this.o=new Map;var he=Object(g.k)(Q.children);Q.revealOrder&&Q.revealOrder[0]==="b"&&he.reverse();for(var ie=he.length;ie--;)this.o.set(he[ie],this.u=[1,0,this.u]);return Q.children},ue.prototype.componentDidUpdate=ue.prototype.componentDidMount=function(){var Q=this;this.o.forEach(function(he,ie){ve(Q,ie,he)})};var ze=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Et=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Rt=typeof document<"u",At=function(Q){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(Q)};g.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(Q){Object.defineProperty(g.a.prototype,Q,{configurable:!0,get:function(){return this["UNSAFE_"+Q]},set:function(he){Object.defineProperty(this,Q,{configurable:!0,writable:!0,value:he})}})});var gt=g.i.event;function Me(){}function lt(){return this.cancelBubble}function fe(){return this.defaultPrevented}g.i.event=function(Q){return gt&&(Q=gt(Q)),Q.persist=Me,Q.isPropagationStopped=lt,Q.isDefaultPrevented=fe,Q.nativeEvent=Q};var at,$t={configurable:!0,get:function(){return this.class}},hn=g.i.vnode;g.i.vnode=function(Q){var he=Q.type,ie=Q.props,me=ie;if(typeof he=="string"){var Ve=he.indexOf("-")===-1;for(var Ke in me={},ie){var pt=ie[Ke];Rt&&Ke==="children"&&he==="noscript"||Ke==="value"&&"defaultValue"in ie&&pt==null||(Ke==="defaultValue"&&"value"in ie&&ie.value==null?Ke="value":Ke==="download"&&pt===!0?pt="":/ondoubleclick/i.test(Ke)?Ke="ondblclick":/^onchange(textarea|input)/i.test(Ke+he)&&!At(ie.type)?Ke="oninput":/^onfocus$/i.test(Ke)?Ke="onfocusin":/^onblur$/i.test(Ke)?Ke="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ke)?Ke=Ke.toLowerCase():Ve&&Et.test(Ke)?Ke=Ke.replace(/[A-Z0-9]/,"-$&").toLowerCase():pt===null&&(pt=void 0),me[Ke]=pt)}he=="select"&&me.multiple&&Array.isArray(me.value)&&(me.value=Object(g.k)(ie.children).forEach(function(Yt){Yt.props.selected=me.value.indexOf(Yt.props.value)!=-1})),he=="select"&&me.defaultValue!=null&&(me.value=Object(g.k)(ie.children).forEach(function(Yt){Yt.props.selected=me.multiple?me.defaultValue.indexOf(Yt.props.value)!=-1:me.defaultValue==Yt.props.value})),Q.props=me,ie.class!=ie.className&&($t.enumerable="className"in ie,ie.className!=null&&(me.class=ie.className),Object.defineProperty(me,"className",$t))}Q.$$typeof=ze,hn&&hn(Q)};var Ft=g.i.__r;g.i.__r=function(Q){Ft&&Ft(Q),at=Q.__c};var rn={ReactCurrentDispatcher:{current:{readContext:function(Q){return at.__n[Q.__c].props.value}}}};function mn(Q){return!!Q&&Q.$$typeof===ze}var kn=function(Q,he){return Q(he)},Lt=g.b,Xn={useState:G,useReducer:U,useEffect:te,useLayoutEffect:ae,useRef:function(Q){return E=5,re(function(){return{current:Q}},[])},useImperativeHandle:function(Q,he,ie){E=6,ae(function(){typeof Q=="function"?Q(he()):Q&&(Q.current=he())},ie==null?ie:ie.concat(Q))},useMemo:re,useCallback:J,useContext:function(Q){var he=d.context[Q.__c],ie=L(h++,9);return ie.c=Q,he?(ie.__==null&&(ie.__=!0,he.sub(d)),he.props.value):Q.__},useDebugValue:function(Q,he){g.i.useDebugValue&&g.i.useDebugValue(he?he(Q):Q)},version:"17.0.2",Children:We,render:function(Q,he,ie){return he.__k==null&&(he.textContent=""),Object(g.j)(Q,he),typeof ie=="function"&&ie(),Q?Q.__c:null},hydrate:function(Q,he,ie){return Object(g.h)(Q,he),typeof ie=="function"&&ie(),Q?Q.__c:null},unmountComponentAtNode:function(Q){return!!Q.__k&&(Object(g.j)(null,Q),!0)},createPortal:function(Q,he){return Object(g.e)(Ue,{__v:Q,i:he})},createElement:g.e,createContext:g.d,createFactory:function(Q){return g.e.bind(null,Q)},cloneElement:function(Q){return mn(Q)?g.c.apply(null,arguments):Q},createRef:g.f,Fragment:g.b,isValidElement:mn,findDOMNode:function(Q){return Q&&(Q.base||Q.nodeType===1&&Q)||null},Component:g.a,PureComponent:Ae,memo:$e,forwardRef:Pe,flushSync:function(Q,he){return Q(he)},unstable_batchedUpdates:kn,StrictMode:Lt,Suspense:mt,SuspenseList:ue,lazy:function(Q){var he,ie,me;function Ve(Ke){if(he||(he=Q()).then(function(pt){ie=pt.default||pt},function(pt){me=pt}),me)throw me;if(!ie)throw he;return Object(g.e)(ie,Ke)}return Ve.displayName="Lazy",Ve.__f=!0,Ve},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:rn};l.d=Xn},function(u,l,o){var h=o(7),d=o(152),b=o(153),g=o(187),E=o(57),j=function(k){if(k&&k.forEach!==g)try{E(k,"forEach",g)}catch(M){k.forEach=g}};for(var P in d)d[P]&&j(h[P]&&h[P].prototype);j(b)},function(u,l,o){o(16)({target:"Object",stat:!0},{setPrototypeOf:o(102)})},function(u,l,o){var h=o(16),d=o(18),b=o(40),g=o(101),E=o(143);h({target:"Object",stat:!0,forced:d(function(){g(1)}),sham:!E},{getPrototypeOf:function(j){return g(b(j))}})},function(u,l,o){var h=o(16),d=o(46),b=o(76),g=o(203),E=o(165),j=o(32),P=o(33),k=o(60),M=o(18),C=d("Reflect","construct"),N=Object.prototype,L=[].push,G=M(function(){function ae(){}return!(C(function(){},[],ae)instanceof ae)}),U=!M(function(){C(function(){})}),te=G||U;h({target:"Reflect",stat:!0,forced:te,sham:te},{construct:function(ae,re){E(ae),j(re);var J=arguments.length<3?ae:E(arguments[2]);if(U&&!G)return C(ae,re,J);if(ae==J){switch(re.length){case 0:return new ae;case 1:return new ae(re[0]);case 2:return new ae(re[0],re[1]);case 3:return new ae(re[0],re[1],re[2]);case 4:return new ae(re[0],re[1],re[2],re[3])}var Z=[null];return b(L,Z,re),new(b(g,ae,Z))}var X=J.prototype,$=k(P(X)?X:N),V=b(ae,$,re);return P(V)?V:$}})},function(u,l){var o=Function.prototype,h=o.bind,d=o.call,b=h&&h.bind(d);u.exports=h?function(g){return g&&b(d,g)}:function(g){return g&&function(){return d.apply(g,arguments)}}},function(u,l,o){var h=o(7),d=o(50).f,b=o(57),g=o(42),E=o(110),j=o(134),P=o(95);u.exports=function(k,M){var C,N,L,G,U,te=k.target,ae=k.global,re=k.stat;if(C=ae?h:re?h[te]||E(te,{}):(h[te]||{}).prototype)for(N in M){if(G=M[N],L=k.noTargetGet?(U=d(C,N))&&U.value:C[N],!P(ae?N:te+(re?".":"#")+N,k.forced)&&L!==void 0){if(typeof G==typeof L)continue;j(G,L)}(k.sham||L&&L.sham)&&b(G,"sham",!0),g(C,N,G,k)}}},function(u,l,o){var h=o(16),d=o(7),b=o(96),g=o(99),E=o(33),j=o(75),P=o(45),k=o(41),M=o(63),C=o(28),N=o(81),L=o(98),G=N("slice"),U=C("species"),te=d.Array,ae=Math.max;h({target:"Array",proto:!0,forced:!G},{slice:function(re,J){var Z,X,$,V=k(this),Y=P(V),q=j(re,Y),ce=j(J===void 0?Y:J,Y);if(b(V)&&(Z=V.constructor,(g(Z)&&(Z===te||b(Z.prototype))||E(Z)&&(Z=Z[U])===null)&&(Z=void 0),Z===te||Z===void 0))return L(V,q,ce);for(X=new(Z===void 0?te:Z)(ae(ce-q,0)),$=0;q<ce;q++,$++)q in V&&M(X,$,V[q]);return X.length=$,X}})},function(u,l){u.exports=function(o){try{return!!o()}catch(h){return!0}}},function(u,l,o){var h=o(16),d=o(103);h({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},function(u,l,o){var h=o(16),d=o(40),b=o(77);h({target:"Object",stat:!0,forced:o(18)(function(){b(1)})},{keys:function(g){return b(d(g))}})},function(u,l,o){var h=o(36),d=o(73).EXISTS,b=o(15),g=o(38).f,E=Function.prototype,j=b(E.toString),P=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,k=b(P.exec);h&&!d&&g(E,"name",{configurable:!0,get:function(){try{return k(P,j(this))[1]}catch(M){return""}}})},function(u,l,o){var h=o(16),d=o(18),b=o(41),g=o(50).f,E=o(36),j=d(function(){g(1)});h({target:"Object",stat:!0,forced:!E||j,sham:!E},{getOwnPropertyDescriptor:function(P,k){return g(b(P),k)}})},function(u,l,o){var h=o(16),d=o(188);h({target:"Array",stat:!0,forced:!o(120)(function(b){Array.from(b)})},{from:d})},function(u,l,o){var h=o(16),d=o(79).filter;h({target:"Array",proto:!0,forced:!o(81)("filter")},{filter:function(b){return d(this,b,arguments.length>1?arguments[1]:void 0)}})},function(u,l,o){var h=o(16),d=o(36),b=o(135),g=o(41),E=o(50),j=o(63);h({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(P){for(var k,M,C=g(P),N=E.f,L=b(C),G={},U=0;L.length>U;)(M=N(C,k=L[U++]))!==void 0&&j(G,k,M);return G}})},,function(u,l,o){var h=o(16),d=o(7),b=o(18),g=o(96),E=o(33),j=o(40),P=o(45),k=o(63),M=o(115),C=o(81),N=o(28),L=o(70),G=N("isConcatSpreadable"),U=9007199254740991,te="Maximum allowed index exceeded",ae=d.TypeError,re=L>=51||!b(function(){var X=[];return X[G]=!1,X.concat()[0]!==X}),J=C("concat"),Z=function(X){if(!E(X))return!1;var $=X[G];return $!==void 0?!!$:g(X)};h({target:"Array",proto:!0,forced:!re||!J},{concat:function(X){var $,V,Y,q,ce,Se=j(this),_e=M(Se,0),Ae=0;for($=-1,Y=arguments.length;$<Y;$++)if(Z(ce=$===-1?Se:arguments[$])){if(Ae+(q=P(ce))>U)throw ae(te);for(V=0;V<q;V++,Ae++)V in ce&&k(_e,Ae,ce[V])}else{if(Ae>=U)throw ae(te);k(_e,Ae++,ce)}return _e.length=Ae,_e}})},function(u,l,o){var h=o(7),d=o(89),b=o(35),g=o(90),E=o(108),j=o(132),P=d("wks"),k=h.Symbol,M=k&&k.for,C=j?k:k&&k.withoutSetter||g;u.exports=function(N){if(!b(P,N)||!E&&typeof P[N]!="string"){var L="Symbol."+N;E&&b(k,N)?P[N]=k[N]:P[N]=j&&M?M(L):C(L)}return P[N]}},function(u,l,o){var h=o(16),d=o(202);h({target:"Object",stat:!0,forced:Object.assign!==d},{assign:d})},function(u,l){u.exports=function(o){return typeof o=="function"}},function(u,l,o){var h=o(106),d=typeof self=="object"&&self&&self.Object===Object&&self,b=h.a||d||Function("return this")();l.a=b},function(u,l,o){var h=o(7),d=o(33),b=h.String,g=h.TypeError;u.exports=function(E){if(d(E))return E;throw g(b(E)+" is not an object")}},function(u,l,o){var h=o(30);u.exports=function(d){return typeof d=="object"?d!==null:h(d)}},function(u,l){var o=Function.prototype.call;u.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(u,l,o){var h=o(15),d=o(40),b=h({}.hasOwnProperty);u.exports=Object.hasOwn||function(g,E){return b(d(g),E)}},function(u,l,o){var h=o(18);u.exports=!h(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(u,l,o){var h=o(16),d=o(79).map;h({target:"Array",proto:!0,forced:!o(81)("map")},{map:function(b){return d(this,b,arguments.length>1?arguments[1]:void 0)}})},function(u,l,o){var h=o(7),d=o(36),b=o(133),g=o(32),E=o(86),j=h.TypeError,P=Object.defineProperty;l.f=d?P:function(k,M,C){if(g(k),M=E(M),g(C),b)try{return P(k,M,C)}catch(N){}if("get"in C||"set"in C)throw j("Accessors not supported");return"value"in C&&(k[M]=C.value),k}},function(u,l,o){var h=o(7),d=o(97),b=h.String;u.exports=function(g){if(d(g)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return b(g)}},function(u,l,o){var h=o(7),d=o(44),b=h.Object;u.exports=function(g){return b(d(g))}},function(u,l,o){var h=o(85),d=o(44);u.exports=function(b){return h(d(b))}},function(u,l,o){var h=o(7),d=o(30),b=o(35),g=o(57),E=o(110),j=o(92),P=o(58),k=o(73).CONFIGURABLE,M=P.get,C=P.enforce,N=String(String).split("String");(u.exports=function(L,G,U,te){var ae,re=!!te&&!!te.unsafe,J=!!te&&!!te.enumerable,Z=!!te&&!!te.noTargetGet,X=te&&te.name!==void 0?te.name:G;d(U)&&(String(X).slice(0,7)==="Symbol("&&(X="["+String(X).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!b(U,"name")||k&&U.name!==X)&&g(U,"name",X),(ae=C(U)).source||(ae.source=N.join(typeof X=="string"?X:""))),L!==h?(re?!Z&&L[G]&&(J=!0):delete L[G],J?L[G]=U:g(L,G,U)):J?L[G]=U:E(G,U)})(Function.prototype,"toString",function(){return d(this)&&M(this).source||j(this)})},function(u,l,o){(function(h){o.d(l,"d",function(){return g}),o.d(l,"c",function(){return E}),o.d(l,"b",function(){return j}),o.d(l,"a",function(){return k});var d=o(10),b=function(M,C){var N=typeof Symbol=="function"&&M[Symbol.iterator];if(!N)return M;var L,G,U=N.call(M),te=[];try{for(;(C===void 0||C-- >0)&&!(L=U.next()).done;)te.push(L.value)}catch(ae){G={error:ae}}finally{try{L&&!L.done&&(N=U.return)&&N.call(U)}finally{if(G)throw G.error}}return te};function g(){var M=b(Object(d.j)(0),2)[1];return Object(d.h)(function(){M(function(C){return C+1})},[])}function E(M){if(!M||typeof M!="object")return!1;var C=Object.getPrototypeOf(M);return!C||C===Object.prototype}function j(M){return typeof Symbol=="function"?Symbol.for(M):"__$mobx-react "+M+"__"}var P={};function k(){return typeof window<"u"?window:h!==void 0?h:typeof self<"u"?self:P}}).call(this,o(68))},function(u,l,o){var h=o(7).TypeError;u.exports=function(d){if(d==null)throw h("Can't call method on "+d);return d}},function(u,l,o){var h=o(94);u.exports=function(d){return h(d.length)}},function(u,l,o){var h=o(7),d=o(30),b=function(g){return d(g)?g:void 0};u.exports=function(g,E){return arguments.length<2?b(h[g]):h[g]&&h[g][E]}},function(u,l,o){var h=o(16),d=o(34),b=o(33),g=o(32),E=o(204),j=o(50),P=o(101);h({target:"Reflect",stat:!0},{get:function k(M,C){var N,L,G=arguments.length<3?M:arguments[2];return g(M)===G?M[C]:(N=j.f(M,C))?E(N)?N.value:N.get===void 0?void 0:d(N.get,G):b(L=P(M))?k(L,C,G):void 0}})},function(u,l,o){(function(h){var d=o(31),b=o(171),g=a&&!a.nodeType&&a,E=g&&typeof h=="object"&&h&&!h.nodeType&&h,j=E&&E.exports===g?d.a.Buffer:void 0,P=(j?j.isBuffer:void 0)||b.a;l.a=P}).call(this,o(122)(u))},function(u,l,o){(function(h){var d=o(106),b=a&&!a.nodeType&&a,g=b&&typeof h=="object"&&h&&!h.nodeType&&h,E=g&&g.exports===b&&d.a.process,j=function(){try{var P=g&&g.require&&g.require("util").types;return P||E&&E.binding&&E.binding("util")}catch(k){}}();l.a=j}).call(this,o(122)(u))},function(u,l,o){var h=o(36),d=o(34),b=o(84),g=o(69),E=o(41),j=o(86),P=o(35),k=o(133),M=Object.getOwnPropertyDescriptor;l.f=h?M:function(C,N){if(C=E(C),N=j(N),k)try{return M(C,N)}catch(L){}if(P(C,N))return g(!d(b.f,C,N),C[N])}},function(u,l,o){var h=o(15),d=h({}.toString),b=h("".slice);u.exports=function(g){return b(d(g),8,-1)}},function(u,l,o){o(182)("Map",function(h){return function(){return h(this,arguments.length?arguments[0]:void 0)}},o(186))},function(u,l,o){var h=o(16),d=o(220).entries;h({target:"Object",stat:!0},{entries:function(b){return d(b)}})},function(u,l,o){var h=o(15);u.exports=h({}.isPrototypeOf)},function(u,l,o){var h=o(46);u.exports=h("navigator","userAgent")||""},function(u,l,o){var h=o(7),d=o(30),b=o(88),g=h.TypeError;u.exports=function(E){if(d(E))return E;throw g(b(E)+" is not a function")}},function(u,l,o){var h=o(36),d=o(38),b=o(69);u.exports=h?function(g,E,j){return d.f(g,E,b(1,j))}:function(g,E,j){return g[E]=j,g}},function(u,l,o){var h,d,b,g=o(175),E=o(7),j=o(15),P=o(33),k=o(57),M=o(35),C=o(109),N=o(93),L=o(72),G="Object already initialized",U=E.TypeError,te=E.WeakMap;if(g||C.state){var ae=C.state||(C.state=new te),re=j(ae.get),J=j(ae.has),Z=j(ae.set);h=function($,V){if(J(ae,$))throw new U(G);return V.facade=$,Z(ae,$,V),V},d=function($){return re(ae,$)||{}},b=function($){return J(ae,$)}}else{var X=N("state");L[X]=!0,h=function($,V){if(M($,X))throw new U(G);return V.facade=$,k($,X,V),V},d=function($){return M($,X)?$[X]:{}},b=function($){return M($,X)}}u.exports={set:h,get:d,has:b,enforce:function($){return b($)?d($):h($,{})},getterFor:function($){return function(V){var Y;if(!P(V)||(Y=d(V)).type!==$)throw U("Incompatible receiver, "+$+" required");return Y}}}},function(u,l){var o=Math.ceil,h=Math.floor;u.exports=function(d){var b=+d;return b!=b||b===0?0:(b>0?h:o)(b)}},function(u,l,o){var h,d=o(32),b=o(176),g=o(111),E=o(72),j=o(138),P=o(91),k=o(93),M=k("IE_PROTO"),C=function(){},N=function(U){return"<script>"+U+"<\/script>"},L=function(U){U.write(N("")),U.close();var te=U.parentWindow.Object;return U=null,te},G=function(){try{h=new ActiveXObject("htmlfile")}catch(re){}var U,te;G=typeof document<"u"?document.domain&&h?L(h):((te=P("iframe")).style.display="none",j.appendChild(te),te.src="javascript:",(U=te.contentWindow.document).open(),U.write(N("document.F=Object")),U.close(),U.F):L(h);for(var ae=g.length;ae--;)delete G.prototype[g[ae]];return G()};E[M]=!0,u.exports=Object.create||function(U,te){var ae;return U!==null?(C.prototype=d(U),ae=new C,C.prototype=null,ae[M]=U):ae=G(),te===void 0?ae:b(ae,te)}},function(u,l,o){var h=o(36),d=o(7),b=o(15),g=o(95),E=o(42),j=o(35),P=o(148),k=o(54),M=o(87),C=o(131),N=o(18),L=o(74).f,G=o(50).f,U=o(38).f,te=o(160),ae=o(161).trim,re="Number",J=d.Number,Z=J.prototype,X=d.TypeError,$=b("".slice),V=b("".charCodeAt),Y=function($e){var je=C($e,"number");return typeof je=="bigint"?je:q(je)},q=function($e){var je,ge,Pe,Te,We,ot,xt,Ye,Je=C($e,"number");if(M(Je))throw X("Cannot convert a Symbol value to a number");if(typeof Je=="string"&&Je.length>2){if(Je=ae(Je),(je=V(Je,0))===43||je===45){if((ge=V(Je,2))===88||ge===120)return NaN}else if(je===48){switch(V(Je,1)){case 66:case 98:Pe=2,Te=49;break;case 79:case 111:Pe=8,Te=55;break;default:return+Je}for(ot=(We=$(Je,2)).length,xt=0;xt<ot;xt++)if((Ye=V(We,xt))<48||Ye>Te)return NaN;return parseInt(We,Pe)}}return+Je};if(g(re,!J(" 0o1")||!J("0b1")||J("+0x1"))){for(var ce,Se=function($e){var je=arguments.length<1?0:J(Y($e)),ge=this;return k(Z,ge)&&N(function(){te(ge)})?P(Object(je),ge,Se):je},_e=h?L(J):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Ae=0;_e.length>Ae;Ae++)j(J,ce=_e[Ae])&&!j(Se,ce)&&U(Se,ce,G(J,ce));Se.prototype=Z,Z.constructor=Se,E(d,re,Se)}},function(u,l,o){var h=o(56);u.exports=function(d,b){var g=d[b];return g==null?void 0:h(g)}},function(u,l,o){var h=o(86),d=o(38),b=o(69);u.exports=function(g,E,j){var P=h(E);P in g?d.f(g,P,b(0,j)):g[P]=j}},function(u,l,o){var h=o(15),d=o(56),b=h(h.bind);u.exports=function(g,E){return d(g),E===void 0?g:b?b(g,E):function(){return g.apply(E,arguments)}}},function(u,l,o){var h=o(16),d=o(15),b=o(85),g=o(41),E=o(121),j=d([].join),P=b!=Object,k=E("join",",");h({target:"Array",proto:!0,forced:P||!k},{join:function(M){return j(g(this),M===void 0?",":M)}})},function(u,l,o){var h=o(15),d=o(73).PROPER,b=o(42),g=o(32),E=o(54),j=o(39),P=o(18),k=o(154),M="toString",C=RegExp.prototype,N=C.toString,L=h(k),G=P(function(){return N.call({source:"a",flags:"b"})!="/a/b"}),U=d&&N.name!=M;(G||U)&&b(RegExp.prototype,M,function(){var te=g(this),ae=j(te.source),re=te.flags;return"/"+ae+"/"+j(re===void 0&&E(C,te)&&!("flags"in C)?L(te):re)},{unsafe:!0})},function(u,l,o){var h=o(16),d=o(217),b=o(100);h({target:"Array",proto:!0},{fill:d}),b("fill")},function(u,l){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(h){typeof window=="object"&&(o=window)}u.exports=o},function(u,l){u.exports=function(o,h){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:h}}},function(u,l,o){var h,d,b=o(7),g=o(55),E=b.process,j=b.Deno,P=E&&E.versions||j&&j.version,k=P&&P.v8;k&&(d=(h=k.split("."))[0]>0&&h[0]<4?1:+(h[0]+h[1])),!d&&g&&(!(h=g.match(/Edge\/(\d+)/))||h[1]>=74)&&(h=g.match(/Chrome\/(\d+)/))&&(d=+h[1]),u.exports=d},function(u,l){u.exports=!1},function(u,l){u.exports={}},function(u,l,o){var h=o(36),d=o(35),b=Function.prototype,g=h&&Object.getOwnPropertyDescriptor,E=d(b,"name"),j=E&&(function(){}).name==="something",P=E&&(!h||h&&g(b,"name").configurable);u.exports={EXISTS:E,PROPER:j,CONFIGURABLE:P}},function(u,l,o){var h=o(136),d=o(111).concat("length","prototype");l.f=Object.getOwnPropertyNames||function(b){return h(b,d)}},function(u,l,o){var h=o(59),d=Math.max,b=Math.min;u.exports=function(g,E){var j=h(g);return j<0?d(j+E,0):b(j,E)}},function(u,l){var o=Function.prototype,h=o.apply,d=o.bind,b=o.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(d?b.bind(h):function(){return b.apply(h,arguments)})},function(u,l,o){var h=o(136),d=o(111);u.exports=Object.keys||function(b){return h(b,d)}},function(u,l,o){var h=o(38).f,d=o(35),b=o(28)("toStringTag");u.exports=function(g,E,j){g&&!d(g=j?g:g.prototype,b)&&h(g,b,{configurable:!0,value:E})}},function(u,l,o){var h=o(64),d=o(15),b=o(85),g=o(40),E=o(45),j=o(115),P=d([].push),k=function(M){var C=M==1,N=M==2,L=M==3,G=M==4,U=M==6,te=M==7,ae=M==5||U;return function(re,J,Z,X){for(var $,V,Y=g(re),q=b(Y),ce=h(J,Z),Se=E(q),_e=0,Ae=X||j,$e=C?Ae(re,Se):N||te?Ae(re,0):void 0;Se>_e;_e++)if((ae||_e in q)&&(V=ce($=q[_e],_e,Y),M))if(C)$e[_e]=V;else if(V)switch(M){case 3:return!0;case 5:return $;case 6:return _e;case 2:P($e,$)}else switch(M){case 4:return!1;case 7:P($e,$)}return U?-1:L||G?G:$e}};u.exports={forEach:k(0),map:k(1),filter:k(2),some:k(3),every:k(4),find:k(5),findIndex:k(6),filterReject:k(7)}},function(u,l){u.exports={}},function(u,l,o){var h=o(18),d=o(28),b=o(70),g=d("species");u.exports=function(E){return b>=51||!h(function(){var j=[];return(j.constructor={})[g]=function(){return{foo:1}},j[E](Boolean).foo!==1})}},function(u,l,o){var h=o(76),d=o(34),b=o(15),g=o(123),E=o(159),j=o(32),P=o(44),k=o(164),M=o(124),C=o(94),N=o(39),L=o(62),G=o(114),U=o(125),te=o(103),ae=o(155),re=o(18),J=ae.UNSUPPORTED_Y,Z=4294967295,X=Math.min,$=[].push,V=b(/./.exec),Y=b($),q=b("".slice),ce=!re(function(){var Se=/(?:)/,_e=Se.exec;Se.exec=function(){return _e.apply(this,arguments)};var Ae="ab".split(Se);return Ae.length!==2||Ae[0]!=="a"||Ae[1]!=="b"});g("split",function(Se,_e,Ae){var $e;return $e="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(je,ge){var Pe=N(P(this)),Te=ge===void 0?Z:ge>>>0;if(Te===0)return[];if(je===void 0)return[Pe];if(!E(je))return d(_e,Pe,je,Te);for(var We,ot,xt,Ye=[],Je=(je.ignoreCase?"i":"")+(je.multiline?"m":"")+(je.unicode?"u":"")+(je.sticky?"y":""),mt=0,se=new RegExp(je.source,Je+"g");(We=d(te,se,Pe))&&!((ot=se.lastIndex)>mt&&(Y(Ye,q(Pe,mt,We.index)),We.length>1&&We.index<Pe.length&&h($,Ye,G(We,1)),xt=We[0].length,mt=ot,Ye.length>=Te));)se.lastIndex===We.index&&se.lastIndex++;return mt===Pe.length?!xt&&V(se,"")||Y(Ye,""):Y(Ye,q(Pe,mt)),Ye.length>Te?G(Ye,0,Te):Ye}:"0".split(void 0,0).length?function(je,ge){return je===void 0&&ge===0?[]:d(_e,this,je,ge)}:_e,[function(je,ge){var Pe=P(this),Te=je==null?void 0:L(je,Se);return Te?d(Te,je,Pe,ge):d($e,N(Pe),je,ge)},function(je,ge){var Pe=j(this),Te=N(je),We=Ae($e,Pe,Te,ge,$e!==_e);if(We.done)return We.value;var ot=k(Pe,RegExp),xt=Pe.unicode,Ye=(Pe.ignoreCase?"i":"")+(Pe.multiline?"m":"")+(Pe.unicode?"u":"")+(J?"g":"y"),Je=new ot(J?"^(?:"+Pe.source+")":Pe,Ye),mt=ge===void 0?Z:ge>>>0;if(mt===0)return[];if(Te.length===0)return U(Je,Te)===null?[Te]:[];for(var se=0,ue=0,ve=[];ue<Te.length;){Je.lastIndex=J?0:ue;var De,Ue=U(Je,J?q(Te,ue):Te);if(Ue===null||(De=X(C(Je.lastIndex+(J?ue:0)),Te.length))===se)ue=M(Te,ue,xt);else{if(Y(ve,q(Te,se,ue)),ve.length===mt)return ve;for(var ze=1;ze<=Ue.length-1;ze++)if(Y(ve,Ue[ze]),ve.length===mt)return ve;ue=se=De}}return Y(ve,q(Te,se)),ve}]},!ce,J)},function(u,l,o){o(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(u,l,o){var h={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,b=d&&!h.call({1:2},1);l.f=b?function(g){var E=d(this,g);return!!E&&E.enumerable}:h},function(u,l,o){var h=o(7),d=o(15),b=o(18),g=o(51),E=h.Object,j=d("".split);u.exports=b(function(){return!E("z").propertyIsEnumerable(0)})?function(P){return g(P)=="String"?j(P,""):E(P)}:E},function(u,l,o){var h=o(131),d=o(87);u.exports=function(b){var g=h(b,"string");return d(g)?g:g+""}},function(u,l,o){var h=o(7),d=o(46),b=o(30),g=o(54),E=o(132),j=h.Object;u.exports=E?function(P){return typeof P=="symbol"}:function(P){var k=d("Symbol");return b(k)&&g(k.prototype,j(P))}},function(u,l,o){var h=o(7).String;u.exports=function(d){try{return h(d)}catch(b){return"Object"}}},function(u,l,o){var h=o(71),d=o(109);(u.exports=function(b,g){return d[b]||(d[b]=g!==void 0?g:{})})("versions",[]).push({version:"3.19.3",mode:h?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(u,l,o){var h=o(15),d=0,b=Math.random(),g=h(1 .toString);u.exports=function(E){return"Symbol("+(E===void 0?"":E)+")_"+g(++d+b,36)}},function(u,l,o){var h=o(7),d=o(33),b=h.document,g=d(b)&&d(b.createElement);u.exports=function(E){return g?b.createElement(E):{}}},function(u,l,o){var h=o(15),d=o(30),b=o(109),g=h(Function.toString);d(b.inspectSource)||(b.inspectSource=function(E){return g(E)}),u.exports=b.inspectSource},function(u,l,o){var h=o(89),d=o(90),b=h("keys");u.exports=function(g){return b[g]||(b[g]=d(g))}},function(u,l,o){var h=o(59),d=Math.min;u.exports=function(b){return b>0?d(h(b),9007199254740991):0}},function(u,l,o){var h=o(18),d=o(30),b=/#|\.prototype\./,g=function(M,C){var N=j[E(M)];return N==k||N!=P&&(d(C)?h(C):!!C)},E=g.normalize=function(M){return String(M).replace(b,".").toLowerCase()},j=g.data={},P=g.NATIVE="N",k=g.POLYFILL="P";u.exports=g},function(u,l,o){var h=o(51);u.exports=Array.isArray||function(d){return h(d)=="Array"}},function(u,l,o){var h=o(7),d=o(113),b=o(30),g=o(51),E=o(28)("toStringTag"),j=h.Object,P=g(function(){return arguments}())=="Arguments";u.exports=d?g:function(k){var M,C,N;return k===void 0?"Undefined":k===null?"Null":typeof(C=function(L,G){try{return L[G]}catch(U){}}(M=j(k),E))=="string"?C:P?g(M):(N=g(M))=="Object"&&b(M.callee)?"Arguments":N}},function(u,l,o){var h=o(15);u.exports=h([].slice)},function(u,l,o){var h=o(15),d=o(18),b=o(30),g=o(97),E=o(46),j=o(92),P=function(){},k=[],M=E("Reflect","construct"),C=/^\s*(?:class|function)\b/,N=h(C.exec),L=!C.exec(P),G=function(U){if(!b(U))return!1;try{return M(P,k,U),!0}catch(te){return!1}};u.exports=!M||d(function(){var U;return G(G.call)||!G(Object)||!G(function(){U=!0})||U})?function(U){if(!b(U))return!1;switch(g(U)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return L||!!N(C,j(U))}:G},function(u,l,o){var h=o(28),d=o(60),b=o(38),g=h("unscopables"),E=Array.prototype;E[g]==null&&b.f(E,g,{configurable:!0,value:d(null)}),u.exports=function(j){E[g][j]=!0}},function(u,l,o){var h=o(7),d=o(35),b=o(30),g=o(40),E=o(93),j=o(143),P=E("IE_PROTO"),k=h.Object,M=k.prototype;u.exports=j?k.getPrototypeOf:function(C){var N=g(C);if(d(N,P))return N[P];var L=N.constructor;return b(L)&&N instanceof L?L.prototype:N instanceof k?M:null}},function(u,l,o){var h=o(15),d=o(32),b=o(181);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g,E=!1,j={};try{(g=h(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(j,[]),E=j instanceof Array}catch(P){}return function(P,k){return d(P),b(k),E?g(P,k):P.__proto__=k,P}}():void 0)},function(u,l,o){var h,d,b=o(34),g=o(15),E=o(39),j=o(154),P=o(155),k=o(89),M=o(60),C=o(58).get,N=o(190),L=o(191),G=k("native-string-replace",String.prototype.replace),U=RegExp.prototype.exec,te=U,ae=g("".charAt),re=g("".indexOf),J=g("".replace),Z=g("".slice),X=(d=/b*/g,b(U,h=/a/,"a"),b(U,d,"a"),h.lastIndex!==0||d.lastIndex!==0),$=P.BROKEN_CARET,V=/()??/.exec("")[1]!==void 0;(X||V||$||N||L)&&(te=function(Y){var q,ce,Se,_e,Ae,$e,je,ge=this,Pe=C(ge),Te=E(Y),We=Pe.raw;if(We)return We.lastIndex=ge.lastIndex,q=b(te,We,Te),ge.lastIndex=We.lastIndex,q;var ot=Pe.groups,xt=$&&ge.sticky,Ye=b(j,ge),Je=ge.source,mt=0,se=Te;if(xt&&(Ye=J(Ye,"y",""),re(Ye,"g")===-1&&(Ye+="g"),se=Z(Te,ge.lastIndex),ge.lastIndex>0&&(!ge.multiline||ge.multiline&&ae(Te,ge.lastIndex-1)!=="\n")&&(Je="(?: "+Je+")",se=" "+se,mt++),ce=new RegExp("^(?:"+Je+")",Ye)),V&&(ce=new RegExp("^"+Je+"$(?!\\s)",Ye)),X&&(Se=ge.lastIndex),_e=b(U,xt?ce:ge,se),xt?_e?(_e.input=Z(_e.input,mt),_e[0]=Z(_e[0],mt),_e.index=ge.lastIndex,ge.lastIndex+=_e[0].length):ge.lastIndex=0:X&&_e&&(ge.lastIndex=ge.global?_e.index+_e[0].length:Se),V&&_e&&_e.length>1&&b(G,_e[0],ce,function(){for(Ae=1;Ae<arguments.length-2;Ae++)arguments[Ae]===void 0&&(_e[Ae]=void 0)}),_e&&ot)for(_e.groups=$e=M(null),Ae=0;Ae<ot.length;Ae++)$e[(je=ot[Ae])[0]]=_e[je[1]];return _e}),u.exports=te},function(u,l,o){var h=o(16),d=o(7),b=o(75),g=o(59),E=o(45),j=o(40),P=o(115),k=o(63),M=o(81)("splice"),C=d.TypeError,N=Math.max,L=Math.min,G=9007199254740991,U="Maximum allowed length exceeded";h({target:"Array",proto:!0,forced:!M},{splice:function(te,ae){var re,J,Z,X,$,V,Y=j(this),q=E(Y),ce=b(te,q),Se=arguments.length;if(Se===0?re=J=0:Se===1?(re=0,J=q-ce):(re=Se-2,J=L(N(g(ae),0),q-ce)),q+re-J>G)throw C(U);for(Z=P(Y,J),X=0;X<J;X++)($=ce+X)in Y&&k(Z,X,Y[$]);if(Z.length=J,re<J){for(X=ce;X<q-J;X++)V=X+re,($=X+J)in Y?Y[V]=Y[$]:delete Y[V];for(X=q;X>q-J+re;X--)delete Y[X-1]}else if(re>J)for(X=q-J;X>ce;X--)V=X+re-1,($=X+J-1)in Y?Y[V]=Y[$]:delete Y[V];for(X=0;X<re;X++)Y[X+ce]=arguments[X+2];return Y.length=q-J+re,Z}})},function(u,l,o){var h=o(16),d=o(205);h({target:"String",proto:!0,forced:o(206)("anchor")},{anchor:function(b){return d(this,"a","name",b)}})},function(u,l,o){(function(h){var d=typeof h=="object"&&h&&h.Object===Object&&h;l.a=d}).call(this,o(68))},function(u,l,o){(function(h){var d=o(31),b=a&&!a.nodeType&&a,g=b&&typeof h=="object"&&h&&!h.nodeType&&h,E=g&&g.exports===b?d.a.Buffer:void 0,j=E?E.allocUnsafe:void 0;l.a=function(P,k){if(k)return P.slice();var M=P.length,C=j?j(M):new P.constructor(M);return P.copy(C),C}}).call(this,o(122)(u))},function(u,l,o){var h=o(70),d=o(18);u.exports=!!Object.getOwnPropertySymbols&&!d(function(){var b=Symbol();return!String(b)||!(Object(b)instanceof Symbol)||!Symbol.sham&&h&&h<41})},function(u,l,o){var h=o(7),d=o(110),b="__core-js_shared__",g=h[b]||d(b,{});u.exports=g},function(u,l,o){var h=o(7),d=Object.defineProperty;u.exports=function(b,g){try{d(h,b,{value:g,configurable:!0,writable:!0})}catch(E){h[b]=g}return g}},function(u,l){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(u,l){l.f=Object.getOwnPropertySymbols},function(u,l,o){var h={};h[o(28)("toStringTag")]="z",u.exports=String(h)==="[object z]"},function(u,l,o){var h=o(7),d=o(75),b=o(45),g=o(63),E=h.Array,j=Math.max;u.exports=function(P,k,M){for(var C=b(P),N=d(k,C),L=d(M===void 0?C:M,C),G=E(j(L-N,0)),U=0;N<L;N++,U++)g(G,U,P[N]);return G.length=U,G}},function(u,l,o){var h=o(178);u.exports=function(d,b){return new(h(d))(b===0?0:b)}},function(u,l,o){var h=o(16),d=o(34),b=o(71),g=o(73),E=o(30),j=o(180),P=o(101),k=o(102),M=o(78),C=o(57),N=o(42),L=o(28),G=o(80),U=o(142),te=g.PROPER,ae=g.CONFIGURABLE,re=U.IteratorPrototype,J=U.BUGGY_SAFARI_ITERATORS,Z=L("iterator"),X="keys",$="values",V="entries",Y=function(){return this};u.exports=function(q,ce,Se,_e,Ae,$e,je){j(Se,ce,_e);var ge,Pe,Te,We=function(ue){if(ue===Ae&&mt)return mt;if(!J&&ue in Ye)return Ye[ue];switch(ue){case X:case $:case V:return function(){return new Se(this,ue)}}return function(){return new Se(this)}},ot=ce+" Iterator",xt=!1,Ye=q.prototype,Je=Ye[Z]||Ye["@@iterator"]||Ae&&Ye[Ae],mt=!J&&Je||We(Ae),se=ce=="Array"&&Ye.entries||Je;if(se&&(ge=P(se.call(new q)))!==Object.prototype&&ge.next&&(b||P(ge)===re||(k?k(ge,re):E(ge[Z])||N(ge,Z,Y)),M(ge,ot,!0,!0),b&&(G[ot]=Y)),te&&Ae==$&&Je&&Je.name!==$&&(!b&&ae?C(Ye,"name",$):(xt=!0,mt=function(){return d(Je,this)})),Ae)if(Pe={values:We($),keys:$e?mt:We(X),entries:We(V)},je)for(Te in Pe)(J||xt||!(Te in Ye))&&N(Ye,Te,Pe[Te]);else h({target:ce,proto:!0,forced:J||xt},Pe);return b&&!je||Ye[Z]===mt||N(Ye,Z,mt,{name:Ae}),G[ce]=mt,Pe}},function(u,l,o){var h=o(7),d=o(64),b=o(34),g=o(32),E=o(88),j=o(145),P=o(45),k=o(54),M=o(146),C=o(118),N=o(147),L=h.TypeError,G=function(te,ae){this.stopped=te,this.result=ae},U=G.prototype;u.exports=function(te,ae,re){var J,Z,X,$,V,Y,q,ce=re&&re.that,Se=!(!re||!re.AS_ENTRIES),_e=!(!re||!re.IS_ITERATOR),Ae=!(!re||!re.INTERRUPTED),$e=d(ae,ce),je=function(Pe){return J&&N(J,"normal",Pe),new G(!0,Pe)},ge=function(Pe){return Se?(g(Pe),Ae?$e(Pe[0],Pe[1],je):$e(Pe[0],Pe[1])):Ae?$e(Pe,je):$e(Pe)};if(_e)J=te;else{if(!(Z=C(te)))throw L(E(te)+" is not iterable");if(j(Z)){for(X=0,$=P(te);$>X;X++)if((V=ge(te[X]))&&k(U,V))return V;return new G(!1)}J=M(te,Z)}for(Y=J.next;!(q=b(Y,J)).done;){try{V=ge(q.value)}catch(Pe){N(J,"throw",Pe)}if(typeof V=="object"&&V&&k(U,V))return V}return new G(!1)}},function(u,l,o){var h=o(97),d=o(62),b=o(80),g=o(28)("iterator");u.exports=function(E){if(E!=null)return d(E,g)||d(E,"@@iterator")||b[h(E)]}},function(u,l,o){var h=o(7),d=o(54),b=h.TypeError;u.exports=function(g,E){if(d(E,g))return g;throw b("Incorrect invocation")}},function(u,l,o){var h=o(28)("iterator"),d=!1;try{var b=0,g={next:function(){return{done:!!b++}},return:function(){d=!0}};g[h]=function(){return this},Array.from(g,function(){throw 2})}catch(E){}u.exports=function(E,j){if(!j&&!d)return!1;var P=!1;try{var k={};k[h]=function(){return{next:function(){return{done:P=!0}}}},E(k)}catch(M){}return P}},function(u,l,o){var h=o(18);u.exports=function(d,b){var g=[][d];return!!g&&h(function(){g.call(null,b||function(){throw 1},1)})}},function(u,l){u.exports=function(o){if(!o.webpackPolyfill){var h=Object.create(o);h.children||(h.children=[]),Object.defineProperty(h,"loaded",{enumerable:!0,get:function(){return h.l}}),Object.defineProperty(h,"id",{enumerable:!0,get:function(){return h.i}}),Object.defineProperty(h,"exports",{enumerable:!0}),h.webpackPolyfill=1}return h}},function(u,l,o){o(19);var h=o(15),d=o(42),b=o(103),g=o(18),E=o(28),j=o(57),P=E("species"),k=RegExp.prototype;u.exports=function(M,C,N,L){var G=E(M),U=!g(function(){var J={};return J[G]=function(){return 7},""[M](J)!=7}),te=U&&!g(function(){var J=!1,Z=/a/;return M==="split"&&((Z={}).constructor={},Z.constructor[P]=function(){return Z},Z.flags="",Z[G]=/./[G]),Z.exec=function(){return J=!0,null},Z[G](""),!J});if(!U||!te||N){var ae=h(/./[G]),re=C(G,""[M],function(J,Z,X,$,V){var Y=h(J),q=Z.exec;return q===b||q===k.exec?U&&!V?{done:!0,value:ae(Z,X,$)}:{done:!0,value:Y(X,Z,$)}:{done:!1}});d(String.prototype,M,re[0]),d(k,G,re[1])}L&&j(k[G],"sham",!0)}},function(u,l,o){var h=o(151).charAt;u.exports=function(d,b,g){return b+(g?h(d,b).length:1)}},function(u,l,o){var h=o(7),d=o(34),b=o(32),g=o(30),E=o(51),j=o(103),P=h.TypeError;u.exports=function(k,M){var C=k.exec;if(g(C)){var N=d(C,k,M);return N!==null&&b(N),N}if(E(k)==="RegExp")return d(j,k,M);throw P("RegExp#exec called on incompatible receiver")}},function(u,l,o){var h=o(76),d=o(34),b=o(15),g=o(123),E=o(18),j=o(32),P=o(30),k=o(59),M=o(94),C=o(39),N=o(44),L=o(124),G=o(62),U=o(201),te=o(125),ae=o(28)("replace"),re=Math.max,J=Math.min,Z=b([].concat),X=b([].push),$=b("".indexOf),V=b("".slice),Y="a".replace(/./,"$0")==="$0",q=!!/./[ae]&&/./[ae]("a","$0")==="";g("replace",function(ce,Se,_e){var Ae=q?"$":"$0";return[function($e,je){var ge=N(this),Pe=$e==null?void 0:G($e,ae);return Pe?d(Pe,$e,ge,je):d(Se,C(ge),$e,je)},function($e,je){var ge=j(this),Pe=C($e);if(typeof je=="string"&&$(je,Ae)===-1&&$(je,"$<")===-1){var Te=_e(Se,ge,Pe,je);if(Te.done)return Te.value}var We=P(je);We||(je=C(je));var ot=ge.global;if(ot){var xt=ge.unicode;ge.lastIndex=0}for(var Ye=[];;){var Je=te(ge,Pe);if(Je===null||(X(Ye,Je),!ot))break;C(Je[0])===""&&(ge.lastIndex=L(Pe,M(ge.lastIndex),xt))}for(var mt,se="",ue=0,ve=0;ve<Ye.length;ve++){for(var De=C((Je=Ye[ve])[0]),Ue=re(J(k(Je.index),Pe.length),0),ze=[],Et=1;Et<Je.length;Et++)X(ze,(mt=Je[Et])===void 0?mt:String(mt));var Rt=Je.groups;if(We){var At=Z([De],ze,Ue,Pe);Rt!==void 0&&X(At,Rt);var gt=C(h(je,void 0,At))}else gt=U(De,Pe,Ue,ze,Rt,je);Ue>=ue&&(se+=V(Pe,ue,Ue)+gt,ue=Ue+De.length)}return se+V(Pe,ue)}]},!!E(function(){var ce=/./;return ce.exec=function(){var Se=[];return Se.groups={a:"7"},Se},"".replace(ce,"$<a>")!=="7"})||!Y||q)},function(u,l,o){var h=o(16),d=Math.hypot,b=Math.abs,g=Math.sqrt;h({target:"Math",stat:!0,forced:!!d&&d(1/0,NaN)!==1/0},{hypot:function(E,j){for(var P,k,M=0,C=0,N=arguments.length,L=0;C<N;)L<(P=b(arguments[C++]))?(M=M*(k=L/P)*k+1,L=P):M+=P>0?(k=P/L)*k:P;return L===1/0?1/0:L*g(M)}})},function(u,l,o){var h=o(51),d=o(7);u.exports=h(d.process)=="process"},function(u,l,o){o(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(u,l,o){(function(h,d){var b;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var g,E="Expected a function",j="__lodash_hash_undefined__",P="__lodash_placeholder__",k=16,M=32,C=64,N=128,L=256,G=1/0,U=9007199254740991,te=NaN,ae=4294967295,re=[["ary",N],["bind",1],["bindKey",2],["curry",8],["curryRight",k],["flip",512],["partial",M],["partialRight",C],["rearg",L]],J="[object Arguments]",Z="[object Array]",X="[object Boolean]",$="[object Date]",V="[object Error]",Y="[object Function]",q="[object GeneratorFunction]",ce="[object Map]",Se="[object Number]",_e="[object Object]",Ae="[object Promise]",$e="[object RegExp]",je="[object Set]",ge="[object String]",Pe="[object Symbol]",Te="[object WeakMap]",We="[object ArrayBuffer]",ot="[object DataView]",xt="[object Float32Array]",Ye="[object Float64Array]",Je="[object Int8Array]",mt="[object Int16Array]",se="[object Int32Array]",ue="[object Uint8Array]",ve="[object Uint8ClampedArray]",De="[object Uint16Array]",Ue="[object Uint32Array]",ze=/\b__p \+= '';/g,Et=/\b(__p \+=) '' \+/g,Rt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,At=/&(?:amp|lt|gt|quot|#39);/g,gt=/[&<>"']/g,Me=RegExp(At.source),lt=RegExp(gt.source),fe=/<%-([\s\S]+?)%>/g,at=/<%([\s\S]+?)%>/g,$t=/<%=([\s\S]+?)%>/g,hn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ft=/^\w*$/,rn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mn=/[\\^$.*+?()[\]{}|]/g,kn=RegExp(mn.source),Lt=/^\s+/,Xn=/\s/,Q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,he=/\{\n\/\* \[wrapped with (.+)\] \*/,ie=/,? & /,me=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ve=/[()=,{}\[\]\/\s]/,Ke=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Yt=/\w*$/,or=/^[-+]0x[0-9a-f]+$/i,dr=/^0b[01]+$/i,Yn=/^\[object .+?Constructor\]$/,Zn=/^0o[0-7]+$/i,ut=/^(?:0|[1-9]\d*)$/,Ot=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,St=/($^)/,Bt=/['\n\r\u2028\u2029\\]/g,gn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Bn="\\u2700-\\u27bf",$o="a-z\\xdf-\\xf6\\xf8-\\xff",Eo="A-Z\\xc0-\\xd6\\xd8-\\xde",Fo="\\ufe0e\\ufe0f",Bi="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Cl="['’]",zu="[\\ud800-\\udfff]",Zr="["+Bi+"]",ma="["+gn+"]",ft="\\d+",Il="[\\u2700-\\u27bf]",$u="["+$o+"]",Fu="[^\\ud800-\\udfff"+Bi+ft+Bn+$o+Eo+"]",kr="\\ud83c[\\udffb-\\udfff]",$r="[^\\ud800-\\udfff]",qa="(?:\\ud83c[\\udde6-\\uddff]){2}",fo="[\\ud800-\\udbff][\\udc00-\\udfff]",Jr="["+Eo+"]",po="(?:"+$u+"|"+Fu+")",Wu="(?:"+Jr+"|"+Fu+")",Gu="(?:['’](?:d|ll|m|re|s|t|ve))?",Kc="(?:['’](?:D|LL|M|RE|S|T|VE))?",_a="(?:"+ma+"|"+kr+")?",qc="[\\ufe0e\\ufe0f]?",Uu=qc+_a+("(?:\\u200d(?:"+[$r,qa,fo].join("|")+")"+qc+_a+")*"),Ll="(?:"+[Il,qa,fo].join("|")+")"+Uu,hi="(?:"+[$r+ma+"?",ma,qa,fo,zu].join("|")+")",Zc=RegExp(Cl,"g"),Wo=RegExp(ma,"g"),Hu=RegExp(kr+"(?="+kr+")|"+hi+Uu,"g"),Za=RegExp([Jr+"?"+$u+"+"+Gu+"(?="+[Zr,Jr,"$"].join("|")+")",Wu+"+"+Kc+"(?="+[Zr,Jr+po,"$"].join("|")+")",Jr+"?"+po+"+"+Gu,Jr+"+"+Kc,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ft,Ll].join("|"),"g"),Xu=RegExp("[\\u200d\\ud800-\\udfff"+gn+Fo+"]"),Yu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Jc=-1,yn={};yn[xt]=yn[Ye]=yn[Je]=yn[mt]=yn[se]=yn[ue]=yn[ve]=yn[De]=yn[Ue]=!0,yn[J]=yn[Z]=yn[We]=yn[X]=yn[ot]=yn[$]=yn[V]=yn[Y]=yn[ce]=yn[Se]=yn[_e]=yn[$e]=yn[je]=yn[ge]=yn[Te]=!1;var dn={};dn[J]=dn[Z]=dn[We]=dn[ot]=dn[X]=dn[$]=dn[xt]=dn[Ye]=dn[Je]=dn[mt]=dn[se]=dn[ce]=dn[Se]=dn[_e]=dn[$e]=dn[je]=dn[ge]=dn[Pe]=dn[ue]=dn[ve]=dn[De]=dn[Ue]=!0,dn[V]=dn[Y]=dn[Te]=!1;var Qc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zi=parseFloat,Go=parseInt,Vu=typeof h=="object"&&h&&h.Object===Object&&h,es=typeof self=="object"&&self&&self.Object===Object&&self,Un=Vu||es||Function("return this")(),Ku=l&&!l.nodeType&&l,Oa=Ku&&typeof d=="object"&&d&&!d.nodeType&&d,qu=Oa&&Oa.exports===Ku,Ja=qu&&Vu.process,yr=function(){try{var we=Oa&&Oa.require&&Oa.require("util").types;return we||Ja&&Ja.binding&&Ja.binding("util")}catch(Ne){}}(),Zu=yr&&yr.isArrayBuffer,ts=yr&&yr.isDate,Ju=yr&&yr.isMap,Qa=yr&&yr.isRegExp,$i=yr&&yr.isSet,So=yr&&yr.isTypedArray;function Sn(we,Ne,Ie){switch(Ie.length){case 0:return we.call(Ne);case 1:return we.call(Ne,Ie[0]);case 2:return we.call(Ne,Ie[0],Ie[1]);case 3:return we.call(Ne,Ie[0],Ie[1],Ie[2])}return we.apply(Ne,Ie)}function ns(we,Ne,Ie,et){for(var Wt=-1,en=we==null?0:we.length;++Wt<en;){var An=we[Wt];Ne(et,An,Ie(An),we)}return et}function Dr(we,Ne){for(var Ie=-1,et=we==null?0:we.length;++Ie<et&&Ne(we[Ie],Ie,we)!==!1;);return we}function rs(we,Ne){for(var Ie=we==null?0:we.length;Ie--&&Ne(we[Ie],Ie,we)!==!1;);return we}function os(we,Ne){for(var Ie=-1,et=we==null?0:we.length;++Ie<et;)if(!Ne(we[Ie],Ie,we))return!1;return!0}function Sr(we,Ne){for(var Ie=-1,et=we==null?0:we.length,Wt=0,en=[];++Ie<et;){var An=we[Ie];Ne(An,Ie,we)&&(en[Wt++]=An)}return en}function Nr(we,Ne){return!!(we!=null&&we.length)&&Fi(we,Ne,0)>-1}function Qu(we,Ne,Ie){for(var et=-1,Wt=we==null?0:we.length;++et<Wt;)if(Ie(Ne,we[et]))return!0;return!1}function sn(we,Ne){for(var Ie=-1,et=we==null?0:we.length,Wt=Array(et);++Ie<et;)Wt[Ie]=Ne(we[Ie],Ie,we);return Wt}function ir(we,Ne){for(var Ie=-1,et=Ne.length,Wt=we.length;++Ie<et;)we[Wt+Ie]=Ne[Ie];return we}function eu(we,Ne,Ie,et){var Wt=-1,en=we==null?0:we.length;for(et&&en&&(Ie=we[++Wt]);++Wt<en;)Ie=Ne(Ie,we[Wt],Wt,we);return Ie}function is(we,Ne,Ie,et){var Wt=we==null?0:we.length;for(et&&Wt&&(Ie=we[--Wt]);Wt--;)Ie=Ne(Ie,we[Wt],Wt,we);return Ie}function ec(we,Ne){for(var Ie=-1,et=we==null?0:we.length;++Ie<et;)if(Ne(we[Ie],Ie,we))return!0;return!1}var tu=Cr("length");function jo(we,Ne,Ie){var et;return Ie(we,function(Wt,en,An){if(Ne(Wt,en,An))return et=en,!1}),et}function Uo(we,Ne,Ie,et){for(var Wt=we.length,en=Ie+(et?1:-1);et?en--:++en<Wt;)if(Ne(we[en],en,we))return en;return-1}function Fi(we,Ne,Ie){return Ne==Ne?function(et,Wt,en){for(var An=en-1,O=et.length;++An<O;)if(et[An]===Wt)return An;return-1}(we,Ne,Ie):Uo(we,Ho,Ie)}function Rr(we,Ne,Ie,et){for(var Wt=Ie-1,en=we.length;++Wt<en;)if(et(we[Wt],Ne))return Wt;return-1}function Ho(we){return we!=we}function on(we,Ne){var Ie=we==null?0:we.length;return Ie?nu(we,Ne)/Ie:te}function Cr(we){return function(Ne){return Ne==null?g:Ne[we]}}function Po(we){return function(Ne){return we==null?g:we[Ne]}}function fr(we,Ne,Ie,et,Wt){return Wt(we,function(en,An,O){Ie=et?(et=!1,en):Ne(Ie,en,An,O)}),Ie}function nu(we,Ne){for(var Ie,et=-1,Wt=we.length;++et<Wt;){var en=Ne(we[et]);en!==g&&(Ie=Ie===g?en:Ie+en)}return Ie}function wa(we,Ne){for(var Ie=-1,et=Array(we);++Ie<we;)et[Ie]=Ne(Ie);return et}function tc(we){return we&&we.slice(0,Ir(we)+1).replace(Lt,"")}function zn(we){return function(Ne){return we(Ne)}}function ru(we,Ne){return sn(Ne,function(Ie){return we[Ie]})}function Xo(we,Ne){return we.has(Ne)}function Qr(we,Ne){for(var Ie=-1,et=we.length;++Ie<et&&Fi(Ne,we[Ie],0)>-1;);return Ie}function nc(we,Ne){for(var Ie=we.length;Ie--&&Fi(Ne,we[Ie],0)>-1;);return Ie}function zl(we,Ne){for(var Ie=we.length,et=0;Ie--;)we[Ie]===Ne&&++et;return et}var rc=Po({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Vn=Po({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function di(we){return"\\"+Qc[we]}function Ao(we){return Xu.test(we)}function jr(we){var Ne=-1,Ie=Array(we.size);return we.forEach(function(et,Wt){Ie[++Ne]=[Wt,et]}),Ie}function oc(we,Ne){return function(Ie){return we(Ne(Ie))}}function Fr(we,Ne){for(var Ie=-1,et=we.length,Wt=0,en=[];++Ie<et;){var An=we[Ie];An!==Ne&&An!==P||(we[Ie]=P,en[Wt++]=Ie)}return en}function yi(we){var Ne=-1,Ie=Array(we.size);return we.forEach(function(et){Ie[++Ne]=et}),Ie}function ou(we){var Ne=-1,Ie=Array(we.size);return we.forEach(function(et){Ie[++Ne]=[et,et]}),Ie}function To(we){return Ao(we)?function(Ne){for(var Ie=Hu.lastIndex=0;Hu.test(Ne);)++Ie;return Ie}(we):tu(we)}function Wr(we){return Ao(we)?function(Ne){return Ne.match(Hu)||[]}(we):function(Ne){return Ne.split("")}(we)}function Ir(we){for(var Ne=we.length;Ne--&&Xn.test(we.charAt(Ne)););return Ne}var eo=Po({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Mo=function we(Ne){var Ie,et=(Ne=Ne==null?Un:Mo.defaults(Un.Object(),Ne,Mo.pick(Un,Bl))).Array,Wt=Ne.Date,en=Ne.Error,An=Ne.Function,O=Ne.Math,w=Ne.Object,T=Ne.RegExp,B=Ne.String,K=Ne.TypeError,pe=et.prototype,Ee=An.prototype,Fe=w.prototype,ct=Ne["__core-js_shared__"],qt=Ee.toString,tt=Fe.hasOwnProperty,_n=0,Gt=(Ie=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||""))?"Symbol(src)_1."+Ie:"",ln=Fe.toString,to=qt.call(w),Rn=Un._,Lr=T("^"+qt.call(tt).replace(mn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yo=qu?Ne.Buffer:g,Vo=Ne.Symbol,xa=Ne.Uint8Array,ic=Yo?Yo.allocUnsafe:g,vi=oc(w.getPrototypeOf,w),iu=w.create,Pr=Fe.propertyIsEnumerable,Ea=pe.splice,Wi=Vo?Vo.isConcatSpreadable:g,gi=Vo?Vo.iterator:g,bi=Vo?Vo.toStringTag:g,au=function(){try{var f=Ta(w,"defineProperty");return f({},"",{}),f}catch(y){}}(),Ry=Ne.clearTimeout!==Un.clearTimeout&&Ne.clearTimeout,Cy=Wt&&Wt.now!==Un.Date.now&&Wt.now,Rp=Ne.setTimeout!==Un.setTimeout&&Ne.setTimeout,as=O.ceil,uu=O.floor,$l=w.getOwnPropertySymbols,Iy=Yo?Yo.isBuffer:g,Cp=Ne.isFinite,Fl=pe.join,Ip=oc(w.keys,w),pr=O.max,Ar=O.min,us=Wt.now,cs=Ne.parseInt,ss=O.random,Ly=pe.reverse,cu=Ta(Ne,"DataView"),Ko=Ta(Ne,"Map"),Wl=Ta(Ne,"Promise"),Sa=Ta(Ne,"Set"),su=Ta(Ne,"WeakMap"),ac=Ta(w,"create"),ls=su&&new su,lu={},By=Ji(cu),Lp=Ji(Ko),zy=Ji(Wl),$y=Ji(Sa),Bp=Ji(su),fs=Vo?Vo.prototype:g,br=fs?fs.valueOf:g,zp=fs?fs.toString:g;function z(f){if(Fn(f)&&!Ut(f)&&!(f instanceof un)){if(f instanceof ho)return f;if(tt.call(f,"__wrapped__"))return xf(f)}return new ho(f)}var fu=function(){function f(){}return function(y){if(!wn(y))return{};if(iu)return iu(y);f.prototype=y;var _=new f;return f.prototype=g,_}}();function uc(){}function ho(f,y){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=g}function un(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ae,this.__views__=[]}function ja(f){var y=-1,_=f==null?0:f.length;for(this.clear();++y<_;){var A=f[y];this.set(A[0],A[1])}}function On(f){var y=-1,_=f==null?0:f.length;for(this.clear();++y<_;){var A=f[y];this.set(A[0],A[1])}}function qo(f){var y=-1,_=f==null?0:f.length;for(this.clear();++y<_;){var A=f[y];this.set(A[0],A[1])}}function Gi(f){var y=-1,_=f==null?0:f.length;for(this.__data__=new qo;++y<_;)this.add(f[y])}function yo(f){var y=this.__data__=new On(f);this.size=y.size}function Gl(f,y){var _=Ut(f),A=!_&&Qi(f),R=!_&&!A&&mo(f),W=!_&&!A&&!R&&Ma(f),oe=_||A||R||W,le=oe?wa(f.length,B):[],Oe=le.length;for(var Le in f)!y&&!tt.call(f,Le)||oe&&(Le=="length"||R&&(Le=="offset"||Le=="parent")||W&&(Le=="buffer"||Le=="byteLength"||Le=="byteOffset")||Ln(Le,Oe))||le.push(Le);return le}function Ul(f){var y=f.length;return y?f[Jl(0,y-1)]:g}function $p(f,y){return yc(Ur(f),Ui(y,0,f.length))}function Fp(f){return yc(Ur(f))}function ps(f,y,_){(_!==g&&!oo(f[y],_)||_===g&&!(y in f))&&Zo(f,y,_)}function pu(f,y,_){var A=f[y];tt.call(f,y)&&oo(A,_)&&(_!==g||y in f)||Zo(f,y,_)}function cc(f,y){for(var _=f.length;_--;)if(oo(f[_][0],y))return _;return-1}function Wp(f,y,_,A){return Cn(f,function(R,W,oe){y(A,R,_(R),oe)}),A}function Hl(f,y){return f&&Jo(y,hr(y),f)}function Zo(f,y,_){y=="__proto__"&&au?au(f,y,{configurable:!0,enumerable:!0,value:_,writable:!0}):f[y]=_}function hs(f,y){for(var _=-1,A=y.length,R=et(A),W=f==null;++_<A;)R[_]=W?g:ta(f,y[_]);return R}function Ui(f,y,_){return f==f&&(_!==g&&(f=f<=_?f:_),y!==g&&(f=f>=y?f:y)),f}function no(f,y,_,A,R,W){var oe,le=1&y,Oe=2&y,Le=4&y;if(_&&(oe=R?_(f,A,R,W):_(f)),oe!==g)return oe;if(!wn(f))return f;var Re=Ut(f);if(Re){if(oe=function(Be){var He=Be.length,zt=new Be.constructor(He);return He&&typeof Be[0]=="string"&&tt.call(Be,"index")&&(zt.index=Be.index,zt.input=Be.input),zt}(f),!le)return Ur(f,oe)}else{var Ge=Tr(f),st=Ge==Y||Ge==q;if(mo(f))return af(f,le);if(Ge==_e||Ge==J||st&&!R){if(oe=Oe||st?{}:yh(f),!le)return Oe?function(Be,He){return Jo(Be,yf(Be),He)}(f,function(Be,He){return Be&&Jo(He,wr(He),Be)}(oe,f)):function(Be,He){return Jo(Be,pc(Be),He)}(f,Hl(oe,f))}else{if(!dn[Ge])return R?f:{};oe=function(Be,He,zt){var nt=Be.constructor;switch(He){case We:return uf(Be);case X:case $:return new nt(+Be);case ot:return function(Mt,nn){var bt=nn?uf(Mt.buffer):Mt.buffer;return new Mt.constructor(bt,Mt.byteOffset,Mt.byteLength)}(Be,zt);case xt:case Ye:case Je:case mt:case se:case ue:case ve:case De:case Ue:return Mn(Be,zt);case ce:return new nt;case Se:case ge:return new nt(Be);case $e:return function(Mt){var nn=new Mt.constructor(Mt.source,Yt.exec(Mt));return nn.lastIndex=Mt.lastIndex,nn}(Be);case je:return new nt;case Pe:return Dt=Be,br?w(br.call(Dt)):{}}var Dt}(f,Ge,le)}}W||(W=new yo);var vt=W.get(f);if(vt)return vt;W.set(f,oe),Cf(f)?f.forEach(function(Be){oe.add(no(Be,y,_,Be,f,W))}):Or(f)&&f.forEach(function(Be,He){oe.set(He,no(Be,y,_,He,f,W))});var jt=Re?g:(Le?Oe?pf:ff:Oe?wr:hr)(f);return Dr(jt||f,function(Be,He){jt&&(Be=f[He=Be]),pu(oe,He,no(Be,y,_,He,f,W))}),oe}function Xl(f,y,_){var A=_.length;if(f==null)return!A;for(f=w(f);A--;){var R=_[A],W=y[R],oe=f[R];if(oe===g&&!(R in f)||!W(oe))return!1}return!0}function Yl(f,y,_){if(typeof f!="function")throw new K(E);return mu(function(){f.apply(g,_)},y)}function mi(f,y,_,A){var R=-1,W=Nr,oe=!0,le=f.length,Oe=[],Le=y.length;if(!le)return Oe;_&&(y=sn(y,zn(_))),A?(W=Qu,oe=!1):y.length>=200&&(W=Xo,oe=!1,y=new Gi(y));e:for(;++R<le;){var Re=f[R],Ge=_==null?Re:_(Re);if(Re=A||Re!==0?Re:0,oe&&Ge==Ge){for(var st=Le;st--;)if(y[st]===Ge)continue e;Oe.push(Re)}else W(y,Ge,A)||Oe.push(Re)}return Oe}z.templateSettings={escape:fe,evaluate:at,interpolate:$t,variable:"",imports:{_:z}},z.prototype=uc.prototype,z.prototype.constructor=z,ho.prototype=fu(uc.prototype),ho.prototype.constructor=ho,un.prototype=fu(uc.prototype),un.prototype.constructor=un,ja.prototype.clear=function(){this.__data__=ac?ac(null):{},this.size=0},ja.prototype.delete=function(f){var y=this.has(f)&&delete this.__data__[f];return this.size-=y?1:0,y},ja.prototype.get=function(f){var y=this.__data__;if(ac){var _=y[f];return _===j?g:_}return tt.call(y,f)?y[f]:g},ja.prototype.has=function(f){var y=this.__data__;return ac?y[f]!==g:tt.call(y,f)},ja.prototype.set=function(f,y){var _=this.__data__;return this.size+=this.has(f)?0:1,_[f]=ac&&y===g?j:y,this},On.prototype.clear=function(){this.__data__=[],this.size=0},On.prototype.delete=function(f){var y=this.__data__,_=cc(y,f);return!(_<0)&&(_==y.length-1?y.pop():Ea.call(y,_,1),--this.size,!0)},On.prototype.get=function(f){var y=this.__data__,_=cc(y,f);return _<0?g:y[_][1]},On.prototype.has=function(f){return cc(this.__data__,f)>-1},On.prototype.set=function(f,y){var _=this.__data__,A=cc(_,f);return A<0?(++this.size,_.push([f,y])):_[A][1]=y,this},qo.prototype.clear=function(){this.size=0,this.__data__={hash:new ja,map:new(Ko||On),string:new ja}},qo.prototype.delete=function(f){var y=Ms(this,f).delete(f);return this.size-=y?1:0,y},qo.prototype.get=function(f){return Ms(this,f).get(f)},qo.prototype.has=function(f){return Ms(this,f).has(f)},qo.prototype.set=function(f,y){var _=Ms(this,f),A=_.size;return _.set(f,y),this.size+=_.size==A?0:1,this},Gi.prototype.add=Gi.prototype.push=function(f){return this.__data__.set(f,j),this},Gi.prototype.has=function(f){return this.__data__.has(f)},yo.prototype.clear=function(){this.__data__=new On,this.size=0},yo.prototype.delete=function(f){var y=this.__data__,_=y.delete(f);return this.size=y.size,_},yo.prototype.get=function(f){return this.__data__.get(f)},yo.prototype.has=function(f){return this.__data__.has(f)},yo.prototype.set=function(f,y){var _=this.__data__;if(_ instanceof On){var A=_.__data__;if(!Ko||A.length<199)return A.push([f,y]),this.size=++_.size,this;_=this.__data__=new qo(A)}return _.set(f,y),this.size=_.size,this};var Cn=ih(ht),Gp=ih(Tn,!0);function Up(f,y){var _=!0;return Cn(f,function(A,R,W){return _=!!y(A,R,W)}),_}function Kn(f,y,_){for(var A=-1,R=f.length;++A<R;){var W=f[A],oe=y(W);if(oe!=null&&(le===g?oe==oe&&!Vr(oe):_(oe,le)))var le=oe,Oe=W}return Oe}function vn(f,y){var _=[];return Cn(f,function(A,R,W){y(A,R,W)&&_.push(A)}),_}function vr(f,y,_,A,R){var W=-1,oe=f.length;for(_||(_=Xy),R||(R=[]);++W<oe;){var le=f[W];y>0&&_(le)?y>1?vr(le,y-1,_,A,R):ir(R,le):A||(R[R.length]=le)}return R}var Zt=ah(),Jn=ah(!0);function ht(f,y){return f&&Zt(f,y,hr)}function Tn(f,y){return f&&Jn(f,y,hr)}function ds(f,y){return Sr(y,function(_){return ji(f[_])})}function _i(f,y){for(var _=0,A=(y=Xi(y,f)).length;f!=null&&_<A;)f=f[ko(y[_++])];return _&&_==A?f:g}function Vl(f,y,_){var A=y(f);return Ut(f)?A:ir(A,_(f))}function $n(f){return f==null?f===g?"[object Undefined]":"[object Null]":bi&&bi in w(f)?function(y){var _=tt.call(y,bi),A=y[bi];try{y[bi]=g;var R=!0}catch(oe){}var W=ln.call(y);return R&&(_?y[bi]=A:delete y[bi]),W}(f):function(y){return ln.call(y)}(f)}function Hn(f,y){return f>y}function Hp(f,y){return f!=null&&tt.call(f,y)}function Xp(f,y){return f!=null&&y in w(f)}function ys(f,y,_){for(var A=_?Qu:Nr,R=f[0].length,W=f.length,oe=W,le=et(W),Oe=1/0,Le=[];oe--;){var Re=f[oe];oe&&y&&(Re=sn(Re,zn(y))),Oe=Ar(Re.length,Oe),le[oe]=!_&&(y||R>=120&&Re.length>=120)?new Gi(oe&&Re):g}Re=f[0];var Ge=-1,st=le[0];e:for(;++Ge<R&&Le.length<Oe;){var vt=Re[Ge],jt=y?y(vt):vt;if(vt=_||vt!==0?vt:0,!(st?Xo(st,jt):A(Le,jt,_))){for(oe=W;--oe;){var Be=le[oe];if(!(Be?Xo(Be,jt):A(f[oe],jt,_)))continue e}st&&st.push(jt),Le.push(vt)}}return Le}function hu(f,y,_){var A=(f=bf(f,y=Xi(y,f)))==null?f:f[ko(Hr(y))];return A==null?g:Sn(A,f,_)}function Kl(f){return Fn(f)&&$n(f)==J}function du(f,y,_,A,R){return f===y||(f==null||y==null||!Fn(f)&&!Fn(y)?f!=f&&y!=y:function(W,oe,le,Oe,Le,Re){var Ge=Ut(W),st=Ut(oe),vt=Ge?Z:Tr(W),jt=st?Z:Tr(oe),Be=(vt=vt==J?_e:vt)==_e,He=(jt=jt==J?_e:jt)==_e,zt=vt==jt;if(zt&&mo(W)){if(!mo(oe))return!1;Ge=!0,Be=!1}if(zt&&!Be)return Re||(Re=new yo),Ge||Ma(W)?hh(W,oe,le,Oe,Le,Re):function(bt,Pt,Wn,be,No,ar,ti){switch(Wn){case ot:if(bt.byteLength!=Pt.byteLength||bt.byteOffset!=Pt.byteOffset)return!1;bt=bt.buffer,Pt=Pt.buffer;case We:return!(bt.byteLength!=Pt.byteLength||!ar(new xa(bt),new xa(Pt)));case X:case $:case Se:return oo(+bt,+Pt);case V:return bt.name==Pt.name&&bt.message==Pt.message;case $e:case ge:return bt==Pt+"";case ce:var Mi=jr;case je:var xu=1&be;if(Mi||(Mi=yi),bt.size!=Pt.size&&!xu)return!1;var kc=ti.get(bt);if(kc)return kc==Pt;be|=2,ti.set(bt,Pt);var Ra=hh(Mi(bt),Mi(Pt),be,No,ar,ti);return ti.delete(bt),Ra;case Pe:if(br)return br.call(bt)==br.call(Pt)}return!1}(W,oe,vt,le,Oe,Le,Re);if(!(1&le)){var nt=Be&&tt.call(W,"__wrapped__"),Dt=He&&tt.call(oe,"__wrapped__");if(nt||Dt){var Mt=nt?W.value():W,nn=Dt?oe.value():oe;return Re||(Re=new yo),Le(Mt,nn,le,Oe,Re)}}return zt?(Re||(Re=new yo),function(bt,Pt,Wn,be,No,ar){var ti=1&Wn,Mi=ff(bt),xu=Mi.length,kc=ff(Pt).length;if(xu!=kc&&!ti)return!1;for(var Ra=xu;Ra--;){var ra=Mi[Ra];if(!(ti?ra in Pt:tt.call(Pt,ra)))return!1}var tp=ar.get(bt),np=ar.get(Pt);if(tp&&np)return tp==Pt&&np==bt;var Dc=!0;ar.set(bt,Pt),ar.set(Pt,bt);for(var Vs=ti;++Ra<xu;){var oa=bt[ra=Mi[Ra]],Nc=Pt[ra];if(be)var rp=ti?be(Nc,oa,ra,Pt,bt,ar):be(oa,Nc,ra,bt,Pt,ar);if(!(rp===g?oa===Nc||No(oa,Nc,Wn,be,ar):rp)){Dc=!1;break}Vs||(Vs=ra=="constructor")}if(Dc&&!Vs){var ia=bt.constructor,Rc=Pt.constructor;ia==Rc||!("constructor"in bt)||!("constructor"in Pt)||typeof ia=="function"&&ia instanceof ia&&typeof Rc=="function"&&Rc instanceof Rc||(Dc=!1)}return ar.delete(bt),ar.delete(Pt),Dc}(W,oe,le,Oe,Le,Re)):!1}(f,y,_,A,du,R))}function vs(f,y,_,A){var R=_.length,W=R,oe=!A;if(f==null)return!W;for(f=w(f);R--;){var le=_[R];if(oe&&le[2]?le[1]!==f[le[0]]:!(le[0]in f))return!1}for(;++R<W;){var Oe=(le=_[R])[0],Le=f[Oe],Re=le[1];if(oe&&le[2]){if(Le===g&&!(Oe in f))return!1}else{var Ge=new yo;if(A)var st=A(Le,Re,Oe,f,y,Ge);if(!(st===g?du(Re,Le,3,A,Ge):st))return!1}}return!0}function yu(f){return!(!wn(f)||(y=f,Gt&&Gt in y))&&(ji(f)?Lr:Yn).test(Ji(f));var y}function ql(f){return typeof f=="function"?f:f==null?xr:typeof f=="object"?Ut(f)?Vp(f[0],f[1]):Yp(f):tr(f)}function Oi(f){if(!dc(f))return Ip(f);var y=[];for(var _ in w(f))tt.call(f,_)&&_!="constructor"&&y.push(_);return y}function Fy(f){if(!wn(f))return function(R){var W=[];if(R!=null)for(var oe in w(R))W.push(oe);return W}(f);var y=dc(f),_=[];for(var A in f)(A!="constructor"||!y&&tt.call(f,A))&&_.push(A);return _}function wi(f,y){return f<y}function vo(f,y){var _=-1,A=Yr(f)?et(f.length):[];return Cn(f,function(R,W,oe){A[++_]=y(R,W,oe)}),A}function Yp(f){var y=df(f);return y.length==1&&y[0][2]?ks(y[0][0],y[0][1]):function(_){return _===f||vs(_,f,y)}}function Vp(f,y){return vf(f)&&bu(y)?ks(ko(f),y):function(_){var A=ta(_,f);return A===g&&A===y?ka(_,f):du(y,A,3)}}function gs(f,y,_,A,R){f!==y&&Zt(y,function(W,oe){if(R||(R=new yo),wn(W))(function(Oe,Le,Re,Ge,st,vt,jt){var Be=ke(Oe,Re),He=ke(Le,Re),zt=jt.get(He);if(zt)return void ps(Oe,Re,zt);var nt=vt?vt(Be,He,Re+"",Oe,Le,jt):g,Dt=nt===g;if(Dt){var Mt=Ut(He),nn=!Mt&&mo(He),bt=!Mt&&!nn&&Ma(He);nt=He,Mt||nn||bt?Ut(Be)?nt=Be:er(Be)?nt=Ur(Be):nn?(Dt=!1,nt=af(He,!0)):bt?(Dt=!1,nt=Mn(He,!0)):nt=[]:Pi(He)||Qi(He)?(nt=Be,Qi(Be)?nt=Bs(Be):wn(Be)&&!ji(Be)||(nt=yh(He))):Dt=!1}Dt&&(jt.set(He,nt),st(nt,He,Ge,vt,jt),jt.delete(He)),ps(Oe,Re,nt)})(f,y,oe,_,gs,A,R);else{var le=A?A(ke(f,oe),W,oe+"",f,y,R):g;le===g&&(le=W),ps(f,oe,le)}},wr)}function Kp(f,y){var _=f.length;if(_)return Ln(y+=y<0?_:0,_)?f[y]:g}function qp(f,y,_){y=y.length?sn(y,function(W){return Ut(W)?function(oe){return _i(oe,W.length===1?W[0]:W)}:W}):[xr];var A=-1;y=sn(y,zn(kt()));var R=vo(f,function(W,oe,le){var Oe=sn(y,function(Le){return Le(W)});return{criteria:Oe,index:++A,value:W}});return function(W,oe){var le=W.length;for(W.sort(oe);le--;)W[le]=W[le].value;return W}(R,function(W,oe){return function(le,Oe,Le){for(var Re=-1,Ge=le.criteria,st=Oe.criteria,vt=Ge.length,jt=Le.length;++Re<vt;){var Be=oh(Ge[Re],st[Re]);if(Be)return Re>=jt?Be:Be*(Le[Re]=="desc"?-1:1)}return le.index-Oe.index}(W,oe,_)})}function Zp(f,y,_){for(var A=-1,R=y.length,W={};++A<R;){var oe=y[A],le=_i(f,oe);_(le,oe)&&gu(W,Xi(oe,f),le)}return W}function Zl(f,y,_,A){var R=A?Rr:Fi,W=-1,oe=y.length,le=f;for(f===y&&(y=Ur(y)),_&&(le=sn(f,zn(_)));++W<oe;)for(var Oe=0,Le=y[W],Re=_?_(Le):Le;(Oe=R(le,Re,Oe,A))>-1;)le!==f&&Ea.call(le,Oe,1),Ea.call(f,Oe,1);return f}function vu(f,y){for(var _=f?y.length:0,A=_-1;_--;){var R=y[_];if(_==A||R!==W){var W=R;Ln(R)?Ea.call(f,R,1):_s(f,R)}}return f}function Jl(f,y){return f+uu(ss()*(y-f+1))}function bs(f,y){var _="";if(!f||y<1||y>U)return _;do y%2&&(_+=f),(y=uu(y/2))&&(f+=f);while(y);return _}function Jt(f,y){return Ds(gf(f,y,xr),f+"")}function Wy(f){return Ul(Na(f))}function Ql(f,y){var _=Na(f);return yc(_,Ui(y,0,_.length))}function gu(f,y,_,A){if(!wn(f))return f;for(var R=-1,W=(y=Xi(y,f)).length,oe=W-1,le=f;le!=null&&++R<W;){var Oe=ko(y[R]),Le=_;if(Oe==="__proto__"||Oe==="constructor"||Oe==="prototype")return f;if(R!=oe){var Re=le[Oe];(Le=A?A(Re,Oe,le):g)===g&&(Le=wn(Re)?Re:Ln(y[R+1])?[]:{})}pu(le,Oe,Le),le=le[Oe]}return f}var Jp=ls?function(f,y){return ls.set(f,y),f}:xr,Gy=au?function(f,y){return au(f,"toString",{configurable:!0,enumerable:!1,value:Uf(y),writable:!0})}:xr;function Uy(f){return yc(Na(f))}function go(f,y,_){var A=-1,R=f.length;y<0&&(y=-y>R?0:R+y),(_=_>R?R:_)<0&&(_+=R),R=y>_?0:_-y>>>0,y>>>=0;for(var W=et(R);++A<R;)W[A]=f[A+y];return W}function ef(f,y){var _;return Cn(f,function(A,R,W){return!(_=y(A,R,W))}),!!_}function ms(f,y,_){var A=0,R=f==null?A:f.length;if(typeof y=="number"&&y==y&&R<=2147483647){for(;A<R;){var W=A+R>>>1,oe=f[W];oe!==null&&!Vr(oe)&&(_?oe<=y:oe<y)?A=W+1:R=W}return R}return tf(f,y,xr,_)}function tf(f,y,_,A){var R=0,W=f==null?0:f.length;if(W===0)return 0;for(var oe=(y=_(y))!=y,le=y===null,Oe=Vr(y),Le=y===g;R<W;){var Re=uu((R+W)/2),Ge=_(f[Re]),st=Ge!==g,vt=Ge===null,jt=Ge==Ge,Be=Vr(Ge);if(oe)var He=A||jt;else He=Le?jt&&(A||st):le?jt&&st&&(A||!vt):Oe?jt&&st&&!vt&&(A||!Be):!vt&&!Be&&(A?Ge<=y:Ge<y);He?R=Re+1:W=Re}return Ar(W,4294967294)}function Qp(f,y){for(var _=-1,A=f.length,R=0,W=[];++_<A;){var oe=f[_],le=y?y(oe):oe;if(!_||!oo(le,Oe)){var Oe=le;W[R++]=oe===0?0:oe}}return W}function nf(f){return typeof f=="number"?f:Vr(f)?te:+f}function Gr(f){if(typeof f=="string")return f;if(Ut(f))return sn(f,Gr)+"";if(Vr(f))return zp?zp.call(f):"";var y=f+"";return y=="0"&&1/f==-1/0?"-0":y}function Hi(f,y,_){var A=-1,R=Nr,W=f.length,oe=!0,le=[],Oe=le;if(_)oe=!1,R=Qu;else if(W>=200){var Le=y?null:sf(f);if(Le)return yi(Le);oe=!1,R=Xo,Oe=new Gi}else Oe=y?[]:le;e:for(;++A<W;){var Re=f[A],Ge=y?y(Re):Re;if(Re=_||Re!==0?Re:0,oe&&Ge==Ge){for(var st=Oe.length;st--;)if(Oe[st]===Ge)continue e;y&&Oe.push(Ge),le.push(Re)}else R(Oe,Ge,_)||(Oe!==le&&Oe.push(Ge),le.push(Re))}return le}function _s(f,y){return(f=bf(f,y=Xi(y,f)))==null||delete f[ko(Hr(y))]}function eh(f,y,_,A){return gu(f,y,_(_i(f,y)),A)}function sc(f,y,_,A){for(var R=f.length,W=A?R:-1;(A?W--:++W<R)&&y(f[W],W,f););return _?go(f,A?0:W,A?W+1:R):go(f,A?W+1:0,A?R:W)}function th(f,y){var _=f;return _ instanceof un&&(_=_.value()),eu(y,function(A,R){return R.func.apply(R.thisArg,ir([A],R.args))},_)}function Os(f,y,_){var A=f.length;if(A<2)return A?Hi(f[0]):[];for(var R=-1,W=et(A);++R<A;)for(var oe=f[R],le=-1;++le<A;)le!=R&&(W[R]=mi(W[R]||oe,f[le],y,_));return Hi(vr(W,1),y,_)}function nh(f,y,_){for(var A=-1,R=f.length,W=y.length,oe={};++A<R;){var le=A<W?y[A]:g;_(oe,f[A],le)}return oe}function ws(f){return er(f)?f:[]}function rf(f){return typeof f=="function"?f:xr}function Xi(f,y){return Ut(f)?f:vf(f,y)?[f]:wf(xn(f))}var rh=Jt;function Yi(f,y,_){var A=f.length;return _=_===g?A:_,!y&&_>=A?f:go(f,y,_)}var of=Ry||function(f){return Un.clearTimeout(f)};function af(f,y){if(y)return f.slice();var _=f.length,A=ic?ic(_):new f.constructor(_);return f.copy(A),A}function uf(f){var y=new f.constructor(f.byteLength);return new xa(y).set(new xa(f)),y}function Mn(f,y){var _=y?uf(f.buffer):f.buffer;return new f.constructor(_,f.byteOffset,f.length)}function oh(f,y){if(f!==y){var _=f!==g,A=f===null,R=f==f,W=Vr(f),oe=y!==g,le=y===null,Oe=y==y,Le=Vr(y);if(!le&&!Le&&!W&&f>y||W&&oe&&Oe&&!le&&!Le||A&&oe&&Oe||!_&&Oe||!R)return 1;if(!A&&!W&&!Le&&f<y||Le&&_&&R&&!A&&!W||le&&_&&R||!oe&&R||!Oe)return-1}return 0}function In(f,y,_,A){for(var R=-1,W=f.length,oe=_.length,le=-1,Oe=y.length,Le=pr(W-oe,0),Re=et(Oe+Le),Ge=!A;++le<Oe;)Re[le]=y[le];for(;++R<oe;)(Ge||R<W)&&(Re[_[R]]=f[R]);for(;Le--;)Re[le++]=f[R++];return Re}function xs(f,y,_,A){for(var R=-1,W=f.length,oe=-1,le=_.length,Oe=-1,Le=y.length,Re=pr(W-le,0),Ge=et(Re+Le),st=!A;++R<Re;)Ge[R]=f[R];for(var vt=R;++Oe<Le;)Ge[vt+Oe]=y[Oe];for(;++oe<le;)(st||R<W)&&(Ge[vt+_[oe]]=f[R++]);return Ge}function Ur(f,y){var _=-1,A=f.length;for(y||(y=et(A));++_<A;)y[_]=f[_];return y}function Jo(f,y,_,A){var R=!_;_||(_={});for(var W=-1,oe=y.length;++W<oe;){var le=y[W],Oe=A?A(_[le],f[le],le,_,f):g;Oe===g&&(Oe=f[le]),R?Zo(_,le,Oe):pu(_,le,Oe)}return _}function Es(f,y){return function(_,A){var R=Ut(_)?ns:Wp,W=y?y():{};return R(_,f,kt(A,2),W)}}function Pa(f){return Jt(function(y,_){var A=-1,R=_.length,W=R>1?_[R-1]:g,oe=R>2?_[2]:g;for(W=f.length>3&&typeof W=="function"?(R--,W):g,oe&&mr(_[0],_[1],oe)&&(W=R<3?g:W,R=1),y=w(y);++A<R;){var le=_[A];le&&f(y,le,A,W)}return y})}function ih(f,y){return function(_,A){if(_==null)return _;if(!Yr(_))return f(_,A);for(var R=_.length,W=y?R:-1,oe=w(_);(y?W--:++W<R)&&A(oe[W],W,oe)!==!1;);return _}}function ah(f){return function(y,_,A){for(var R=-1,W=w(y),oe=A(y),le=oe.length;le--;){var Oe=oe[f?le:++R];if(_(W[Oe],Oe,W)===!1)break}return y}}function uh(f){return function(y){var _=Ao(y=xn(y))?Wr(y):g,A=_?_[0]:y.charAt(0),R=_?Yi(_,1).join(""):y.slice(1);return A[f]()+R}}function Vi(f){return function(y){return eu(Wf(Gs(y).replace(Zc,"")),f,"")}}function lc(f){return function(){var y=arguments;switch(y.length){case 0:return new f;case 1:return new f(y[0]);case 2:return new f(y[0],y[1]);case 3:return new f(y[0],y[1],y[2]);case 4:return new f(y[0],y[1],y[2],y[3]);case 5:return new f(y[0],y[1],y[2],y[3],y[4]);case 6:return new f(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new f(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var _=fu(f.prototype),A=f.apply(_,y);return wn(A)?A:_}}function ch(f){return function(y,_,A){var R=w(y);if(!Yr(y)){var W=kt(_,3);y=hr(y),_=function(le){return W(R[le],le,R)}}var oe=f(y,_,A);return oe>-1?R[W?y[oe]:oe]:g}}function sh(f){return Ei(function(y){var _=y.length,A=_,R=ho.prototype.thru;for(f&&y.reverse();A--;){var W=y[A];if(typeof W!="function")throw new K(E);if(R&&!oe&&Ts(W)=="wrapper")var oe=new ho([],!0)}for(A=oe?A:_;++A<_;){var le=Ts(W=y[A]),Oe=le=="wrapper"?hf(W):g;oe=Oe&&hc(Oe[0])&&Oe[1]==424&&!Oe[4].length&&Oe[9]==1?oe[Ts(Oe[0])].apply(oe,Oe[3]):W.length==1&&hc(W)?oe[le]():oe.thru(W)}return function(){var Le=arguments,Re=Le[0];if(oe&&Le.length==1&&Ut(Re))return oe.plant(Re).value();for(var Ge=0,st=_?y[Ge].apply(this,Le):Re;++Ge<_;)st=y[Ge].call(this,st);return st}})}function Aa(f,y,_,A,R,W,oe,le,Oe,Le){var Re=y&N,Ge=1&y,st=2&y,vt=24&y,jt=512&y,Be=st?g:lc(f);return function He(){for(var zt=arguments.length,nt=et(zt),Dt=zt;Dt--;)nt[Dt]=arguments[Dt];if(vt)var Mt=qi(He),nn=zl(nt,Mt);if(A&&(nt=In(nt,A,R,vt)),W&&(nt=xs(nt,W,oe,vt)),zt-=nn,vt&&zt<Le){var bt=Fr(nt,Mt);return Ps(f,y,Aa,He.placeholder,_,nt,bt,le,Oe,Le-zt)}var Pt=Ge?_:this,Wn=st?Pt[f]:f;return zt=nt.length,le?nt=Yy(nt,le):jt&&zt>1&&nt.reverse(),Re&&Oe<zt&&(nt.length=Oe),this&&this!==Un&&this instanceof He&&(Wn=Be||lc(Wn)),Wn.apply(Pt,nt)}}function lh(f,y){return function(_,A){return function(R,W,oe,le){return ht(R,function(Oe,Le,Re){W(le,oe(Oe),Le,Re)}),le}(_,f,y(A),{})}}function fc(f,y){return function(_,A){var R;if(_===g&&A===g)return y;if(_!==g&&(R=_),A!==g){if(R===g)return A;typeof _=="string"||typeof A=="string"?(_=Gr(_),A=Gr(A)):(_=nf(_),A=nf(A)),R=f(_,A)}return R}}function cf(f){return Ei(function(y){return y=sn(y,zn(kt())),Jt(function(_){var A=this;return f(y,function(R){return Sn(R,A,_)})})})}function Ss(f,y){var _=(y=y===g?" ":Gr(y)).length;if(_<2)return _?bs(y,f):y;var A=bs(y,as(f/To(y)));return Ao(y)?Yi(Wr(A),0,f).join(""):A.slice(0,f)}function Ki(f){return function(y,_,A){return A&&typeof A!="number"&&mr(y,_,A)&&(_=A=g),y=Ai(y),_===g?(_=y,y=0):_=Ai(_),function(R,W,oe,le){for(var Oe=-1,Le=pr(as((W-R)/(oe||1)),0),Re=et(Le);Le--;)Re[le?Le:++Oe]=R,R+=oe;return Re}(y,_,A=A===g?y<_?1:-1:Ai(A),f)}}function js(f){return function(y,_){return typeof y=="string"&&typeof _=="string"||(y=io(y),_=io(_)),f(y,_)}}function Ps(f,y,_,A,R,W,oe,le,Oe,Le){var Re=8&y;y|=Re?M:C,4&(y&=~(Re?C:M))||(y&=-4);var Ge=[f,y,R,Re?W:g,Re?oe:g,Re?g:W,Re?g:oe,le,Oe,Le],st=_.apply(g,Ge);return hc(f)&&mf(st,Ge),st.placeholder=A,_f(st,f,y)}function As(f){var y=O[f];return function(_,A){if(_=io(_),(A=A==null?0:Ar(Xt(A),292))&&Cp(_)){var R=(xn(_)+"e").split("e");return+((R=(xn(y(R[0]+"e"+(+R[1]+A)))+"e").split("e"))[0]+"e"+(+R[1]-A))}return y(_)}}var sf=Sa&&1/yi(new Sa([,-0]))[1]==G?function(f){return new Sa(f)}:Tc;function lf(f){return function(y){var _=Tr(y);return _==ce?jr(y):_==je?ou(y):function(A,R){return sn(R,function(W){return[W,A[W]]})}(y,f(y))}}function xi(f,y,_,A,R,W,oe,le){var Oe=2&y;if(!Oe&&typeof f!="function")throw new K(E);var Le=A?A.length:0;if(Le||(y&=-97,A=R=g),oe=oe===g?oe:pr(Xt(oe),0),le=le===g?le:Xt(le),Le-=R?R.length:0,y&C){var Re=A,Ge=R;A=R=g}var st=Oe?g:hf(f),vt=[f,y,_,A,R,Re,Ge,W,oe,le];if(st&&function(Be,He){var zt=Be[1],nt=He[1],Dt=zt|nt,Mt=Dt<131,nn=nt==N&&zt==8||nt==N&&zt==L&&Be[7].length<=He[8]||nt==384&&He[7].length<=He[8]&&zt==8;if(!Mt&&!nn)return Be;1&nt&&(Be[2]=He[2],Dt|=1&zt?0:4);var bt=He[3];if(bt){var Pt=Be[3];Be[3]=Pt?In(Pt,bt,He[4]):bt,Be[4]=Pt?Fr(Be[3],P):He[4]}(bt=He[5])&&(Pt=Be[5],Be[5]=Pt?xs(Pt,bt,He[6]):bt,Be[6]=Pt?Fr(Be[5],P):He[6]),(bt=He[7])&&(Be[7]=bt),nt&N&&(Be[8]=Be[8]==null?He[8]:Ar(Be[8],He[8])),Be[9]==null&&(Be[9]=He[9]),Be[0]=He[0],Be[1]=Dt}(vt,st),f=vt[0],y=vt[1],_=vt[2],A=vt[3],R=vt[4],!(le=vt[9]=vt[9]===g?Oe?0:f.length:pr(vt[9]-Le,0))&&24&y&&(y&=-25),y&&y!=1)jt=y==8||y==k?function(Be,He,zt){var nt=lc(Be);return function Dt(){for(var Mt=arguments.length,nn=et(Mt),bt=Mt,Pt=qi(Dt);bt--;)nn[bt]=arguments[bt];var Wn=Mt<3&&nn[0]!==Pt&&nn[Mt-1]!==Pt?[]:Fr(nn,Pt);return(Mt-=Wn.length)<zt?Ps(Be,He,Aa,Dt.placeholder,g,nn,Wn,g,g,zt-Mt):Sn(this&&this!==Un&&this instanceof Dt?nt:Be,this,nn)}}(f,y,le):y!=M&&y!=33||R.length?Aa.apply(g,vt):function(Be,He,zt,nt){var Dt=1&He,Mt=lc(Be);return function nn(){for(var bt=-1,Pt=arguments.length,Wn=-1,be=nt.length,No=et(be+Pt),ar=this&&this!==Un&&this instanceof nn?Mt:Be;++Wn<be;)No[Wn]=nt[Wn];for(;Pt--;)No[Wn++]=arguments[++bt];return Sn(ar,Dt?zt:this,No)}}(f,y,_,A);else var jt=function(Be,He,zt){var nt=1&He,Dt=lc(Be);return function Mt(){return(this&&this!==Un&&this instanceof Mt?Dt:Be).apply(nt?zt:this,arguments)}}(f,y,_);return _f((st?Jp:mf)(jt,vt),f,y)}function fh(f,y,_,A){return f===g||oo(f,Fe[_])&&!tt.call(A,_)?y:f}function ph(f,y,_,A,R,W){return wn(f)&&wn(y)&&(W.set(y,f),gs(f,y,g,ph,W),W.delete(y)),f}function Hy(f){return Pi(f)?g:f}function hh(f,y,_,A,R,W){var oe=1&_,le=f.length,Oe=y.length;if(le!=Oe&&!(oe&&Oe>le))return!1;var Le=W.get(f),Re=W.get(y);if(Le&&Re)return Le==y&&Re==f;var Ge=-1,st=!0,vt=2&_?new Gi:g;for(W.set(f,y),W.set(y,f);++Ge<le;){var jt=f[Ge],Be=y[Ge];if(A)var He=oe?A(Be,jt,Ge,y,f,W):A(jt,Be,Ge,f,y,W);if(He!==g){if(He)continue;st=!1;break}if(vt){if(!ec(y,function(zt,nt){if(!Xo(vt,nt)&&(jt===zt||R(jt,zt,_,A,W)))return vt.push(nt)})){st=!1;break}}else if(jt!==Be&&!R(jt,Be,_,A,W)){st=!1;break}}return W.delete(f),W.delete(y),st}function Ei(f){return Ds(gf(f,g,jf),f+"")}function ff(f){return Vl(f,hr,pc)}function pf(f){return Vl(f,wr,yf)}var hf=ls?function(f){return ls.get(f)}:Tc;function Ts(f){for(var y=f.name+"",_=lu[y],A=tt.call(lu,y)?_.length:0;A--;){var R=_[A],W=R.func;if(W==null||W==f)return R.name}return y}function qi(f){return(tt.call(z,"placeholder")?z:f).placeholder}function kt(){var f=z.iteratee||wu;return f=f===wu?ql:f,arguments.length?f(arguments[0],arguments[1]):f}function Ms(f,y){var _,A,R=f.__data__;return((A=typeof(_=y))=="string"||A=="number"||A=="symbol"||A=="boolean"?_!=="__proto__":_===null)?R[typeof y=="string"?"string":"hash"]:R.map}function df(f){for(var y=hr(f),_=y.length;_--;){var A=y[_],R=f[A];y[_]=[A,R,bu(R)]}return y}function Ta(f,y){var _=function(A,R){return A==null?g:A[R]}(f,y);return yu(_)?_:g}var pc=$l?function(f){return f==null?[]:(f=w(f),Sr($l(f),function(y){return Pr.call(f,y)}))}:Mc,yf=$l?function(f){for(var y=[];f;)ir(y,pc(f)),f=vi(f);return y}:Mc,Tr=$n;function dh(f,y,_){for(var A=-1,R=(y=Xi(y,f)).length,W=!1;++A<R;){var oe=ko(y[A]);if(!(W=f!=null&&_(f,oe)))break;f=f[oe]}return W||++A!=R?W:!!(R=f==null?0:f.length)&&ea(R)&&Ln(oe,R)&&(Ut(f)||Qi(f))}function yh(f){return typeof f.constructor!="function"||dc(f)?{}:fu(vi(f))}function Xy(f){return Ut(f)||Qi(f)||!!(Wi&&f&&f[Wi])}function Ln(f,y){var _=typeof f;return!!(y=y==null?U:y)&&(_=="number"||_!="symbol"&&ut.test(f))&&f>-1&&f%1==0&&f<y}function mr(f,y,_){if(!wn(_))return!1;var A=typeof y;return!!(A=="number"?Yr(_)&&Ln(y,_.length):A=="string"&&y in _)&&oo(_[y],f)}function vf(f,y){if(Ut(f))return!1;var _=typeof f;return!(_!="number"&&_!="symbol"&&_!="boolean"&&f!=null&&!Vr(f))||Ft.test(f)||!hn.test(f)||y!=null&&f in w(y)}function hc(f){var y=Ts(f),_=z[y];if(typeof _!="function"||!(y in un.prototype))return!1;if(f===_)return!0;var A=hf(_);return!!A&&f===A[0]}(cu&&Tr(new cu(new ArrayBuffer(1)))!=ot||Ko&&Tr(new Ko)!=ce||Wl&&Tr(Wl.resolve())!=Ae||Sa&&Tr(new Sa)!=je||su&&Tr(new su)!=Te)&&(Tr=function(f){var y=$n(f),_=y==_e?f.constructor:g,A=_?Ji(_):"";if(A)switch(A){case By:return ot;case Lp:return ce;case zy:return Ae;case $y:return je;case Bp:return Te}return y});var Zi=ct?ji:Ys;function dc(f){var y=f&&f.constructor;return f===(typeof y=="function"&&y.prototype||Fe)}function bu(f){return f==f&&!wn(f)}function ks(f,y){return function(_){return _!=null&&_[f]===y&&(y!==g||f in w(_))}}function gf(f,y,_){return y=pr(y===g?f.length-1:y,0),function(){for(var A=arguments,R=-1,W=pr(A.length-y,0),oe=et(W);++R<W;)oe[R]=A[y+R];R=-1;for(var le=et(y+1);++R<y;)le[R]=A[R];return le[y]=_(oe),Sn(f,this,le)}}function bf(f,y){return y.length<2?f:_i(f,go(y,0,-1))}function Yy(f,y){for(var _=f.length,A=Ar(y.length,_),R=Ur(f);A--;){var W=y[A];f[A]=Ln(W,_)?R[W]:g}return f}function ke(f,y){if((y!=="constructor"||typeof f[y]!="function")&&y!="__proto__")return f[y]}var mf=Of(Jp),mu=Rp||function(f,y){return Un.setTimeout(f,y)},Ds=Of(Gy);function _f(f,y,_){var A=y+"";return Ds(f,function(R,W){var oe=W.length;if(!oe)return R;var le=oe-1;return W[le]=(oe>1?"& ":"")+W[le],W=W.join(oe>2?", ":" "),R.replace(Q,"{\n/* [wrapped with "+W+"] */\n")}(A,function(R,W){return Dr(re,function(oe){var le="_."+oe[0];W&oe[1]&&!Nr(R,le)&&R.push(le)}),R.sort()}(function(R){var W=R.match(he);return W?W[1].split(ie):[]}(A),_)))}function Of(f){var y=0,_=0;return function(){var A=us(),R=16-(A-_);if(_=A,R>0){if(++y>=800)return arguments[0]}else y=0;return f.apply(g,arguments)}}function yc(f,y){var _=-1,A=f.length,R=A-1;for(y=y===g?A:y;++_<y;){var W=Jl(_,R),oe=f[W];f[W]=f[_],f[_]=oe}return f.length=y,f}var wf=function(f){var y=_c(f,function(A){return _.size===500&&_.clear(),A}),_=y.cache;return y}(function(f){var y=[];return f.charCodeAt(0)===46&&y.push(""),f.replace(rn,function(_,A,R,W){y.push(R?W.replace(Ke,"$1"):A||_)}),y});function ko(f){if(typeof f=="string"||Vr(f))return f;var y=f+"";return y=="0"&&1/f==-1/0?"-0":y}function Ji(f){if(f!=null){try{return qt.call(f)}catch(y){}try{return f+""}catch(y){}}return""}function xf(f){if(f instanceof un)return f.clone();var y=new ho(f.__wrapped__,f.__chain__);return y.__actions__=Ur(f.__actions__),y.__index__=f.__index__,y.__values__=f.__values__,y}var vh=Jt(function(f,y){return er(f)?mi(f,vr(y,1,er,!0)):[]}),gh=Jt(function(f,y){var _=Hr(y);return er(_)&&(_=g),er(f)?mi(f,vr(y,1,er,!0),kt(_,2)):[]}),bh=Jt(function(f,y){var _=Hr(y);return er(_)&&(_=g),er(f)?mi(f,vr(y,1,er,!0),g,_):[]});function Ef(f,y,_){var A=f==null?0:f.length;if(!A)return-1;var R=_==null?0:Xt(_);return R<0&&(R=pr(A+R,0)),Uo(f,kt(y,3),R)}function Sf(f,y,_){var A=f==null?0:f.length;if(!A)return-1;var R=A-1;return _!==g&&(R=Xt(_),R=_<0?pr(A+R,0):Ar(R,A-1)),Uo(f,kt(y,3),R,!0)}function jf(f){return f!=null&&f.length?vr(f,1):[]}function Pf(f){return f&&f.length?f[0]:g}var mh=Jt(function(f){var y=sn(f,ws);return y.length&&y[0]===f[0]?ys(y):[]}),_h=Jt(function(f){var y=Hr(f),_=sn(f,ws);return y===Hr(_)?y=g:_.pop(),_.length&&_[0]===f[0]?ys(_,kt(y,2)):[]}),Oh=Jt(function(f){var y=Hr(f),_=sn(f,ws);return(y=typeof y=="function"?y:g)&&_.pop(),_.length&&_[0]===f[0]?ys(_,g,y):[]});function Hr(f){var y=f==null?0:f.length;return y?f[y-1]:g}var Ns=Jt(wh);function wh(f,y){return f&&f.length&&y&&y.length?Zl(f,y):f}var Do=Ei(function(f,y){var _=f==null?0:f.length,A=hs(f,y);return vu(f,sn(y,function(R){return Ln(R,_)?+R:R}).sort(oh)),A});function Qo(f){return f==null?f:Ly.call(f)}var Vy=Jt(function(f){return Hi(vr(f,1,er,!0))}),ro=Jt(function(f){var y=Hr(f);return er(y)&&(y=g),Hi(vr(f,1,er,!0),kt(y,2))}),xh=Jt(function(f){var y=Hr(f);return y=typeof y=="function"?y:g,Hi(vr(f,1,er,!0),g,y)});function vc(f){if(!f||!f.length)return[];var y=0;return f=Sr(f,function(_){if(er(_))return y=pr(_.length,y),!0}),wa(y,function(_){return sn(f,Cr(_))})}function Af(f,y){if(!f||!f.length)return[];var _=vc(f);return y==null?_:sn(_,function(A){return Sn(y,g,A)})}var Eh=Jt(function(f,y){return er(f)?mi(f,y):[]}),Sh=Jt(function(f){return Os(Sr(f,er))}),jh=Jt(function(f){var y=Hr(f);return er(y)&&(y=g),Os(Sr(f,er),kt(y,2))}),Ph=Jt(function(f){var y=Hr(f);return y=typeof y=="function"?y:g,Os(Sr(f,er),g,y)}),Tf=Jt(vc),gc=Jt(function(f){var y=f.length,_=y>1?f[y-1]:g;return _=typeof _=="function"?(f.pop(),_):g,Af(f,_)});function _r(f){var y=z(f);return y.__chain__=!0,y}function Rs(f,y){return y(f)}var Ky=Ei(function(f){var y=f.length,_=y?f[0]:0,A=this.__wrapped__,R=function(W){return hs(W,f)};return!(y>1||this.__actions__.length)&&A instanceof un&&Ln(_)?((A=A.slice(_,+_+(y?1:0))).__actions__.push({func:Rs,args:[R],thisArg:g}),new ho(A,this.__chain__).thru(function(W){return y&&!W.length&&W.push(g),W})):this.thru(R)}),Mf=Es(function(f,y,_){tt.call(f,_)?++f[_]:Zo(f,_,1)}),Ah=ch(Ef),Xr=ch(Sf);function Qn(f,y){return(Ut(f)?Dr:Cn)(f,kt(y,3))}function Th(f,y){return(Ut(f)?rs:Gp)(f,kt(y,3))}var bo=Es(function(f,y,_){tt.call(f,_)?f[_].push(y):Zo(f,_,[y])}),Tt=Jt(function(f,y,_){var A=-1,R=typeof y=="function",W=Yr(f)?et(f.length):[];return Cn(f,function(oe){W[++A]=R?Sn(y,oe,_):hu(oe,y,_)}),W}),kf=Es(function(f,y,_){Zo(f,_,y)});function _u(f,y){return(Ut(f)?sn:vo)(f,kt(y,3))}var Df=Es(function(f,y,_){f[_?0:1].push(y)},function(){return[[],[]]}),Mh=Jt(function(f,y){if(f==null)return[];var _=y.length;return _>1&&mr(f,y[0],y[1])?y=[]:_>2&&mr(y[0],y[1],y[2])&&(y=[y[0]]),qp(f,vr(y,1),[])}),bc=Cy||function(){return Un.Date.now()};function kh(f,y,_){return y=_?g:y,y=f&&y==null?f.length:y,xi(f,N,g,g,g,g,y)}function Dh(f,y){var _;if(typeof y!="function")throw new K(E);return f=Xt(f),function(){return--f>0&&(_=y.apply(this,arguments)),f<=1&&(y=g),_}}var mc=Jt(function(f,y,_){var A=1;if(_.length){var R=Fr(_,qi(mc));A|=M}return xi(f,A,y,_,R)}),Nh=Jt(function(f,y,_){var A=3;if(_.length){var R=Fr(_,qi(Nh));A|=M}return xi(y,A,f,_,R)});function Cs(f,y,_){var A,R,W,oe,le,Oe,Le=0,Re=!1,Ge=!1,st=!0;if(typeof f!="function")throw new K(E);function vt(Dt){var Mt=A,nn=R;return A=R=g,Le=Dt,oe=f.apply(nn,Mt)}function jt(Dt){return Le=Dt,le=mu(He,y),Re?vt(Dt):oe}function Be(Dt){var Mt=Dt-Oe;return Oe===g||Mt>=y||Mt<0||Ge&&Dt-Le>=W}function He(){var Dt=bc();if(Be(Dt))return zt(Dt);le=mu(He,function(Mt){var nn=y-(Mt-Oe);return Ge?Ar(nn,W-(Mt-Le)):nn}(Dt))}function zt(Dt){return le=g,st&&A?vt(Dt):(A=R=g,oe)}function nt(){var Dt=bc(),Mt=Be(Dt);if(A=arguments,R=this,Oe=Dt,Mt){if(le===g)return jt(Oe);if(Ge)return of(le),le=mu(He,y),vt(Oe)}return le===g&&(le=mu(He,y)),oe}return y=io(y)||0,wn(_)&&(Re=!!_.leading,W=(Ge="maxWait"in _)?pr(io(_.maxWait)||0,y):W,st="trailing"in _?!!_.trailing:st),nt.cancel=function(){le!==g&&of(le),Le=0,A=Oe=R=le=g},nt.flush=function(){return le===g?oe:zt(bc())},nt}var qy=Jt(function(f,y){return Yl(f,1,y)}),Zy=Jt(function(f,y,_){return Yl(f,io(y)||0,_)});function _c(f,y){if(typeof f!="function"||y!=null&&typeof y!="function")throw new K(E);var _=function(){var A=arguments,R=y?y.apply(this,A):A[0],W=_.cache;if(W.has(R))return W.get(R);var oe=f.apply(this,A);return _.cache=W.set(R,oe)||W,oe};return _.cache=new(_c.Cache||qo),_}function Si(f){if(typeof f!="function")throw new K(E);return function(){var y=arguments;switch(y.length){case 0:return!f.call(this);case 1:return!f.call(this,y[0]);case 2:return!f.call(this,y[0],y[1]);case 3:return!f.call(this,y[0],y[1],y[2])}return!f.apply(this,y)}}_c.Cache=qo;var Rh=rh(function(f,y){var _=(y=y.length==1&&Ut(y[0])?sn(y[0],zn(kt())):sn(vr(y,1),zn(kt()))).length;return Jt(function(A){for(var R=-1,W=Ar(A.length,_);++R<W;)A[R]=y[R].call(this,A[R]);return Sn(f,this,A)})}),Ct=Jt(function(f,y){var _=Fr(y,qi(Ct));return xi(f,M,g,y,_)}),Nf=Jt(function(f,y){var _=Fr(y,qi(Nf));return xi(f,C,g,y,_)}),Is=Ei(function(f,y){return xi(f,L,g,g,g,y)});function oo(f,y){return f===y||f!=f&&y!=y}var Jy=js(Hn),Ch=js(function(f,y){return f>=y}),Qi=Kl(function(){return arguments}())?Kl:function(f){return Fn(f)&&tt.call(f,"callee")&&!Pr.call(f,"callee")},Ut=et.isArray,Qy=Zu?zn(Zu):function(f){return Fn(f)&&$n(f)==We};function Yr(f){return f!=null&&ea(f.length)&&!ji(f)}function er(f){return Fn(f)&&Yr(f)}var mo=Iy||Ys,ev=ts?zn(ts):function(f){return Fn(f)&&$n(f)==$};function Oc(f){if(!Fn(f))return!1;var y=$n(f);return y==V||y=="[object DOMException]"||typeof f.message=="string"&&typeof f.name=="string"&&!Pi(f)}function ji(f){if(!wn(f))return!1;var y=$n(f);return y==Y||y==q||y=="[object AsyncFunction]"||y=="[object Proxy]"}function Ih(f){return typeof f=="number"&&f==Xt(f)}function ea(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=U}function wn(f){var y=typeof f;return f!=null&&(y=="object"||y=="function")}function Fn(f){return f!=null&&typeof f=="object"}var Or=Ju?zn(Ju):function(f){return Fn(f)&&Tr(f)==ce};function wc(f){return typeof f=="number"||Fn(f)&&$n(f)==Se}function Pi(f){if(!Fn(f)||$n(f)!=_e)return!1;var y=vi(f);if(y===null)return!0;var _=tt.call(y,"constructor")&&y.constructor;return typeof _=="function"&&_ instanceof _&&qt.call(_)==to}var Rf=Qa?zn(Qa):function(f){return Fn(f)&&$n(f)==$e},Cf=$i?zn($i):function(f){return Fn(f)&&Tr(f)==je};function xc(f){return typeof f=="string"||!Ut(f)&&Fn(f)&&$n(f)==ge}function Vr(f){return typeof f=="symbol"||Fn(f)&&$n(f)==Pe}var Ma=So?zn(So):function(f){return Fn(f)&&ea(f.length)&&!!yn[$n(f)]},Lh=js(wi),Ls=js(function(f,y){return f<=y});function Bh(f){if(!f)return[];if(Yr(f))return xc(f)?Wr(f):Ur(f);if(gi&&f[gi])return function(_){for(var A,R=[];!(A=_.next()).done;)R.push(A.value);return R}(f[gi]());var y=Tr(f);return(y==ce?jr:y==je?yi:Na)(f)}function Ai(f){return f?(f=io(f))===G||f===-1/0?17976931348623157e292*(f<0?-1:1):f==f?f:0:f===0?f:0}function Xt(f){var y=Ai(f),_=y%1;return y==y?_?y-_:y:0}function Ec(f){return f?Ui(Xt(f),0,ae):0}function io(f){if(typeof f=="number")return f;if(Vr(f))return te;if(wn(f)){var y=typeof f.valueOf=="function"?f.valueOf():f;f=wn(y)?y+"":y}if(typeof f!="string")return f===0?f:+f;f=tc(f);var _=dr.test(f);return _||Zn.test(f)?Go(f.slice(2),_?2:8):or.test(f)?te:+f}function Bs(f){return Jo(f,wr(f))}function xn(f){return f==null?"":Gr(f)}var zh=Pa(function(f,y){if(dc(y)||Yr(y))Jo(y,hr(y),f);else for(var _ in y)tt.call(y,_)&&pu(f,_,y[_])}),Ou=Pa(function(f,y){Jo(y,wr(y),f)}),zs=Pa(function(f,y,_,A){Jo(y,wr(y),f,A)}),Sc=Pa(function(f,y,_,A){Jo(y,hr(y),f,A)}),$h=Ei(hs),jc=Jt(function(f,y){f=w(f);var _=-1,A=y.length,R=A>2?y[2]:g;for(R&&mr(y[0],y[1],R)&&(A=1);++_<A;)for(var W=y[_],oe=wr(W),le=-1,Oe=oe.length;++le<Oe;){var Le=oe[le],Re=f[Le];(Re===g||oo(Re,Fe[Le])&&!tt.call(f,Le))&&(f[Le]=W[Le])}return f}),If=Jt(function(f){return f.push(g,ph),Sn($s,g,f)});function ta(f,y,_){var A=f==null?g:_i(f,y);return A===g?_:A}function ka(f,y){return f!=null&&dh(f,y,Xp)}var Pc=lh(function(f,y,_){y!=null&&typeof y.toString!="function"&&(y=ln.call(y)),f[y]=_},Uf(xr)),Fh=lh(function(f,y,_){y!=null&&typeof y.toString!="function"&&(y=ln.call(y)),tt.call(f,y)?f[y].push(_):f[y]=[_]},kt),Wh=Jt(hu);function hr(f){return Yr(f)?Gl(f):Oi(f)}function wr(f){return Yr(f)?Gl(f,!0):Fy(f)}var Gh=Pa(function(f,y,_){gs(f,y,_)}),$s=Pa(function(f,y,_,A){gs(f,y,_,A)}),Uh=Ei(function(f,y){var _={};if(f==null)return _;var A=!1;y=sn(y,function(W){return W=Xi(W,f),A||(A=W.length>1),W}),Jo(f,pf(f),_),A&&(_=no(_,7,Hy));for(var R=y.length;R--;)_s(_,y[R]);return _}),Hh=Ei(function(f,y){return f==null?{}:function(_,A){return Zp(_,A,function(R,W){return ka(_,W)})}(f,y)});function Da(f,y){if(f==null)return{};var _=sn(pf(f),function(A){return[A]});return y=kt(y),Zp(f,_,function(A,R){return y(A,R[0])})}var Fs=lf(hr),Lf=lf(wr);function Na(f){return f==null?[]:ru(f,hr(f))}var Bf=Vi(function(f,y,_){return y=y.toLowerCase(),f+(_?Ws(y):y)});function Ws(f){return Us(xn(f).toLowerCase())}function Gs(f){return(f=xn(f))&&f.replace(Ot,rc).replace(Wo,"")}var Xh=Vi(function(f,y,_){return f+(_?"-":"")+y.toLowerCase()}),zf=Vi(function(f,y,_){return f+(_?" ":"")+y.toLowerCase()}),$f=uh("toLowerCase"),Ff=Vi(function(f,y,_){return f+(_?"_":"")+y.toLowerCase()}),Ac=Vi(function(f,y,_){return f+(_?" ":"")+Us(y)}),na=Vi(function(f,y,_){return f+(_?" ":"")+y.toUpperCase()}),Us=uh("toUpperCase");function Wf(f,y,_){return f=xn(f),(y=_?g:y)===g?function(A){return Yu.test(A)}(f)?function(A){return A.match(Za)||[]}(f):function(A){return A.match(me)||[]}(f):f.match(y)||[]}var Hs=Jt(function(f,y){try{return Sn(f,g,y)}catch(_){return Oc(_)?_:new en(_)}}),Gf=Ei(function(f,y){return Dr(y,function(_){_=ko(_),Zo(f,_,mc(f[_],f))}),f});function Uf(f){return function(){return f}}var Yh=sh(),Hf=sh(!0);function xr(f){return f}function wu(f){return ql(typeof f=="function"?f:no(f,1))}var Xf=Jt(function(f,y){return function(_){return hu(_,f,y)}}),Yf=Jt(function(f,y){return function(_){return hu(f,_,y)}});function Xs(f,y,_){var A=hr(y),R=ds(y,A);_!=null||wn(y)&&(R.length||!A.length)||(_=y,y=f,f=this,R=ds(y,hr(y)));var W=!(wn(_)&&"chain"in _&&!_.chain),oe=ji(f);return Dr(R,function(le){var Oe=y[le];f[le]=Oe,oe&&(f.prototype[le]=function(){var Le=this.__chain__;if(W||Le){var Re=f(this.__wrapped__),Ge=Re.__actions__=Ur(this.__actions__);return Ge.push({func:Oe,args:arguments,thisArg:f}),Re.__chain__=Le,Re}return Oe.apply(f,ir([this.value()],arguments))})}),f}function Tc(){}var Vh=cf(sn),Vf=cf(os),tv=cf(ec);function tr(f){return vf(f)?Cr(ko(f)):function(y){return function(_){return _i(_,y)}}(f)}var ei=Ki(),Kf=Ki(!0);function Mc(){return[]}function Ys(){return!1}var qf=fc(function(f,y){return f+y},0),Zf=As("ceil"),Jf=fc(function(f,y){return f/y},1),nv=As("floor"),Ti,Qf=fc(function(f,y){return f*y},1),ep=As("round"),Kh=fc(function(f,y){return f-y},0);return z.after=function(f,y){if(typeof y!="function")throw new K(E);return f=Xt(f),function(){if(--f<1)return y.apply(this,arguments)}},z.ary=kh,z.assign=zh,z.assignIn=Ou,z.assignInWith=zs,z.assignWith=Sc,z.at=$h,z.before=Dh,z.bind=mc,z.bindAll=Gf,z.bindKey=Nh,z.castArray=function(){if(!arguments.length)return[];var f=arguments[0];return Ut(f)?f:[f]},z.chain=_r,z.chunk=function(f,y,_){y=(_?mr(f,y,_):y===g)?1:pr(Xt(y),0);var A=f==null?0:f.length;if(!A||y<1)return[];for(var R=0,W=0,oe=et(as(A/y));R<A;)oe[W++]=go(f,R,R+=y);return oe},z.compact=function(f){for(var y=-1,_=f==null?0:f.length,A=0,R=[];++y<_;){var W=f[y];W&&(R[A++]=W)}return R},z.concat=function(){var f=arguments.length;if(!f)return[];for(var y=et(f-1),_=arguments[0],A=f;A--;)y[A-1]=arguments[A];return ir(Ut(_)?Ur(_):[_],vr(y,1))},z.cond=function(f){var y=f==null?0:f.length,_=kt();return f=y?sn(f,function(A){if(typeof A[1]!="function")throw new K(E);return[_(A[0]),A[1]]}):[],Jt(function(A){for(var R=-1;++R<y;){var W=f[R];if(Sn(W[0],this,A))return Sn(W[1],this,A)}})},z.conforms=function(f){return function(y){var _=hr(y);return function(A){return Xl(A,y,_)}}(no(f,1))},z.constant=Uf,z.countBy=Mf,z.create=function(f,y){var _=fu(f);return y==null?_:Hl(_,y)},z.curry=function f(y,_,A){var R=xi(y,8,g,g,g,g,g,_=A?g:_);return R.placeholder=f.placeholder,R},z.curryRight=function f(y,_,A){var R=xi(y,k,g,g,g,g,g,_=A?g:_);return R.placeholder=f.placeholder,R},z.debounce=Cs,z.defaults=jc,z.defaultsDeep=If,z.defer=qy,z.delay=Zy,z.difference=vh,z.differenceBy=gh,z.differenceWith=bh,z.drop=function(f,y,_){var A=f==null?0:f.length;return A?go(f,(y=_||y===g?1:Xt(y))<0?0:y,A):[]},z.dropRight=function(f,y,_){var A=f==null?0:f.length;return A?go(f,0,(y=A-(y=_||y===g?1:Xt(y)))<0?0:y):[]},z.dropRightWhile=function(f,y){return f&&f.length?sc(f,kt(y,3),!0,!0):[]},z.dropWhile=function(f,y){return f&&f.length?sc(f,kt(y,3),!0):[]},z.fill=function(f,y,_,A){var R=f==null?0:f.length;return R?(_&&typeof _!="number"&&mr(f,y,_)&&(_=0,A=R),function(W,oe,le,Oe){var Le=W.length;for((le=Xt(le))<0&&(le=-le>Le?0:Le+le),(Oe=Oe===g||Oe>Le?Le:Xt(Oe))<0&&(Oe+=Le),Oe=le>Oe?0:Ec(Oe);le<Oe;)W[le++]=oe;return W}(f,y,_,A)):[]},z.filter=function(f,y){return(Ut(f)?Sr:vn)(f,kt(y,3))},z.flatMap=function(f,y){return vr(_u(f,y),1)},z.flatMapDeep=function(f,y){return vr(_u(f,y),G)},z.flatMapDepth=function(f,y,_){return _=_===g?1:Xt(_),vr(_u(f,y),_)},z.flatten=jf,z.flattenDeep=function(f){return f!=null&&f.length?vr(f,G):[]},z.flattenDepth=function(f,y){return f!=null&&f.length?vr(f,y=y===g?1:Xt(y)):[]},z.flip=function(f){return xi(f,512)},z.flow=Yh,z.flowRight=Hf,z.fromPairs=function(f){for(var y=-1,_=f==null?0:f.length,A={};++y<_;){var R=f[y];A[R[0]]=R[1]}return A},z.functions=function(f){return f==null?[]:ds(f,hr(f))},z.functionsIn=function(f){return f==null?[]:ds(f,wr(f))},z.groupBy=bo,z.initial=function(f){return f!=null&&f.length?go(f,0,-1):[]},z.intersection=mh,z.intersectionBy=_h,z.intersectionWith=Oh,z.invert=Pc,z.invertBy=Fh,z.invokeMap=Tt,z.iteratee=wu,z.keyBy=kf,z.keys=hr,z.keysIn=wr,z.map=_u,z.mapKeys=function(f,y){var _={};return y=kt(y,3),ht(f,function(A,R,W){Zo(_,y(A,R,W),A)}),_},z.mapValues=function(f,y){var _={};return y=kt(y,3),ht(f,function(A,R,W){Zo(_,R,y(A,R,W))}),_},z.matches=function(f){return Yp(no(f,1))},z.matchesProperty=function(f,y){return Vp(f,no(y,1))},z.memoize=_c,z.merge=Gh,z.mergeWith=$s,z.method=Xf,z.methodOf=Yf,z.mixin=Xs,z.negate=Si,z.nthArg=function(f){return f=Xt(f),Jt(function(y){return Kp(y,f)})},z.omit=Uh,z.omitBy=function(f,y){return Da(f,Si(kt(y)))},z.once=function(f){return Dh(2,f)},z.orderBy=function(f,y,_,A){return f==null?[]:(Ut(y)||(y=y==null?[]:[y]),Ut(_=A?g:_)||(_=_==null?[]:[_]),qp(f,y,_))},z.over=Vh,z.overArgs=Rh,z.overEvery=Vf,z.overSome=tv,z.partial=Ct,z.partialRight=Nf,z.partition=Df,z.pick=Hh,z.pickBy=Da,z.property=tr,z.propertyOf=function(f){return function(y){return f==null?g:_i(f,y)}},z.pull=Ns,z.pullAll=wh,z.pullAllBy=function(f,y,_){return f&&f.length&&y&&y.length?Zl(f,y,kt(_,2)):f},z.pullAllWith=function(f,y,_){return f&&f.length&&y&&y.length?Zl(f,y,g,_):f},z.pullAt=Do,z.range=ei,z.rangeRight=Kf,z.rearg=Is,z.reject=function(f,y){return(Ut(f)?Sr:vn)(f,Si(kt(y,3)))},z.remove=function(f,y){var _=[];if(!f||!f.length)return _;var A=-1,R=[],W=f.length;for(y=kt(y,3);++A<W;){var oe=f[A];y(oe,A,f)&&(_.push(oe),R.push(A))}return vu(f,R),_},z.rest=function(f,y){if(typeof f!="function")throw new K(E);return Jt(f,y=y===g?y:Xt(y))},z.reverse=Qo,z.sampleSize=function(f,y,_){return y=(_?mr(f,y,_):y===g)?1:Xt(y),(Ut(f)?$p:Ql)(f,y)},z.set=function(f,y,_){return f==null?f:gu(f,y,_)},z.setWith=function(f,y,_,A){return A=typeof A=="function"?A:g,f==null?f:gu(f,y,_,A)},z.shuffle=function(f){return(Ut(f)?Fp:Uy)(f)},z.slice=function(f,y,_){var A=f==null?0:f.length;return A?(_&&typeof _!="number"&&mr(f,y,_)?(y=0,_=A):(y=y==null?0:Xt(y),_=_===g?A:Xt(_)),go(f,y,_)):[]},z.sortBy=Mh,z.sortedUniq=function(f){return f&&f.length?Qp(f):[]},z.sortedUniqBy=function(f,y){return f&&f.length?Qp(f,kt(y,2)):[]},z.split=function(f,y,_){return _&&typeof _!="number"&&mr(f,y,_)&&(y=_=g),(_=_===g?ae:_>>>0)?(f=xn(f))&&(typeof y=="string"||y!=null&&!Rf(y))&&!(y=Gr(y))&&Ao(f)?Yi(Wr(f),0,_):f.split(y,_):[]},z.spread=function(f,y){if(typeof f!="function")throw new K(E);return y=y==null?0:pr(Xt(y),0),Jt(function(_){var A=_[y],R=Yi(_,0,y);return A&&ir(R,A),Sn(f,this,R)})},z.tail=function(f){var y=f==null?0:f.length;return y?go(f,1,y):[]},z.take=function(f,y,_){return f&&f.length?go(f,0,(y=_||y===g?1:Xt(y))<0?0:y):[]},z.takeRight=function(f,y,_){var A=f==null?0:f.length;return A?go(f,(y=A-(y=_||y===g?1:Xt(y)))<0?0:y,A):[]},z.takeRightWhile=function(f,y){return f&&f.length?sc(f,kt(y,3),!1,!0):[]},z.takeWhile=function(f,y){return f&&f.length?sc(f,kt(y,3)):[]},z.tap=function(f,y){return y(f),f},z.throttle=function(f,y,_){var A=!0,R=!0;if(typeof f!="function")throw new K(E);return wn(_)&&(A="leading"in _?!!_.leading:A,R="trailing"in _?!!_.trailing:R),Cs(f,y,{leading:A,maxWait:y,trailing:R})},z.thru=Rs,z.toArray=Bh,z.toPairs=Fs,z.toPairsIn=Lf,z.toPath=function(f){return Ut(f)?sn(f,ko):Vr(f)?[f]:Ur(wf(xn(f)))},z.toPlainObject=Bs,z.transform=function(f,y,_){var A=Ut(f),R=A||mo(f)||Ma(f);if(y=kt(y,4),_==null){var W=f&&f.constructor;_=R?A?new W:[]:wn(f)&&ji(W)?fu(vi(f)):{}}return(R?Dr:ht)(f,function(oe,le,Oe){return y(_,oe,le,Oe)}),_},z.unary=function(f){return kh(f,1)},z.union=Vy,z.unionBy=ro,z.unionWith=xh,z.uniq=function(f){return f&&f.length?Hi(f):[]},z.uniqBy=function(f,y){return f&&f.length?Hi(f,kt(y,2)):[]},z.uniqWith=function(f,y){return y=typeof y=="function"?y:g,f&&f.length?Hi(f,g,y):[]},z.unset=function(f,y){return f==null||_s(f,y)},z.unzip=vc,z.unzipWith=Af,z.update=function(f,y,_){return f==null?f:eh(f,y,rf(_))},z.updateWith=function(f,y,_,A){return A=typeof A=="function"?A:g,f==null?f:eh(f,y,rf(_),A)},z.values=Na,z.valuesIn=function(f){return f==null?[]:ru(f,wr(f))},z.without=Eh,z.words=Wf,z.wrap=function(f,y){return Ct(rf(y),f)},z.xor=Sh,z.xorBy=jh,z.xorWith=Ph,z.zip=Tf,z.zipObject=function(f,y){return nh(f||[],y||[],pu)},z.zipObjectDeep=function(f,y){return nh(f||[],y||[],gu)},z.zipWith=gc,z.entries=Fs,z.entriesIn=Lf,z.extend=Ou,z.extendWith=zs,Xs(z,z),z.add=qf,z.attempt=Hs,z.camelCase=Bf,z.capitalize=Ws,z.ceil=Zf,z.clamp=function(f,y,_){return _===g&&(_=y,y=g),_!==g&&(_=(_=io(_))==_?_:0),y!==g&&(y=(y=io(y))==y?y:0),Ui(io(f),y,_)},z.clone=function(f){return no(f,4)},z.cloneDeep=function(f){return no(f,5)},z.cloneDeepWith=function(f,y){return no(f,5,y=typeof y=="function"?y:g)},z.cloneWith=function(f,y){return no(f,4,y=typeof y=="function"?y:g)},z.conformsTo=function(f,y){return y==null||Xl(f,y,hr(y))},z.deburr=Gs,z.defaultTo=function(f,y){return f==null||f!=f?y:f},z.divide=Jf,z.endsWith=function(f,y,_){f=xn(f),y=Gr(y);var A=f.length,R=_=_===g?A:Ui(Xt(_),0,A);return(_-=y.length)>=0&&f.slice(_,R)==y},z.eq=oo,z.escape=function(f){return(f=xn(f))&&lt.test(f)?f.replace(gt,Vn):f},z.escapeRegExp=function(f){return(f=xn(f))&&kn.test(f)?f.replace(mn,"\\$&"):f},z.every=function(f,y,_){var A=Ut(f)?os:Up;return _&&mr(f,y,_)&&(y=g),A(f,kt(y,3))},z.find=Ah,z.findIndex=Ef,z.findKey=function(f,y){return jo(f,kt(y,3),ht)},z.findLast=Xr,z.findLastIndex=Sf,z.findLastKey=function(f,y){return jo(f,kt(y,3),Tn)},z.floor=nv,z.forEach=Qn,z.forEachRight=Th,z.forIn=function(f,y){return f==null?f:Zt(f,kt(y,3),wr)},z.forInRight=function(f,y){return f==null?f:Jn(f,kt(y,3),wr)},z.forOwn=function(f,y){return f&&ht(f,kt(y,3))},z.forOwnRight=function(f,y){return f&&Tn(f,kt(y,3))},z.get=ta,z.gt=Jy,z.gte=Ch,z.has=function(f,y){return f!=null&&dh(f,y,Hp)},z.hasIn=ka,z.head=Pf,z.identity=xr,z.includes=function(f,y,_,A){f=Yr(f)?f:Na(f),_=_&&!A?Xt(_):0;var R=f.length;return _<0&&(_=pr(R+_,0)),xc(f)?_<=R&&f.indexOf(y,_)>-1:!!R&&Fi(f,y,_)>-1},z.indexOf=function(f,y,_){var A=f==null?0:f.length;if(!A)return-1;var R=_==null?0:Xt(_);return R<0&&(R=pr(A+R,0)),Fi(f,y,R)},z.inRange=function(f,y,_){return y=Ai(y),_===g?(_=y,y=0):_=Ai(_),function(A,R,W){return A>=Ar(R,W)&&A<pr(R,W)}(f=io(f),y,_)},z.invoke=Wh,z.isArguments=Qi,z.isArray=Ut,z.isArrayBuffer=Qy,z.isArrayLike=Yr,z.isArrayLikeObject=er,z.isBoolean=function(f){return f===!0||f===!1||Fn(f)&&$n(f)==X},z.isBuffer=mo,z.isDate=ev,z.isElement=function(f){return Fn(f)&&f.nodeType===1&&!Pi(f)},z.isEmpty=function(f){if(f==null)return!0;if(Yr(f)&&(Ut(f)||typeof f=="string"||typeof f.splice=="function"||mo(f)||Ma(f)||Qi(f)))return!f.length;var y=Tr(f);if(y==ce||y==je)return!f.size;if(dc(f))return!Oi(f).length;for(var _ in f)if(tt.call(f,_))return!1;return!0},z.isEqual=function(f,y){return du(f,y)},z.isEqualWith=function(f,y,_){var A=(_=typeof _=="function"?_:g)?_(f,y):g;return A===g?du(f,y,g,_):!!A},z.isError=Oc,z.isFinite=function(f){return typeof f=="number"&&Cp(f)},z.isFunction=ji,z.isInteger=Ih,z.isLength=ea,z.isMap=Or,z.isMatch=function(f,y){return f===y||vs(f,y,df(y))},z.isMatchWith=function(f,y,_){return _=typeof _=="function"?_:g,vs(f,y,df(y),_)},z.isNaN=function(f){return wc(f)&&f!=+f},z.isNative=function(f){if(Zi(f))throw new en("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return yu(f)},z.isNil=function(f){return f==null},z.isNull=function(f){return f===null},z.isNumber=wc,z.isObject=wn,z.isObjectLike=Fn,z.isPlainObject=Pi,z.isRegExp=Rf,z.isSafeInteger=function(f){return Ih(f)&&f>=-9007199254740991&&f<=U},z.isSet=Cf,z.isString=xc,z.isSymbol=Vr,z.isTypedArray=Ma,z.isUndefined=function(f){return f===g},z.isWeakMap=function(f){return Fn(f)&&Tr(f)==Te},z.isWeakSet=function(f){return Fn(f)&&$n(f)=="[object WeakSet]"},z.join=function(f,y){return f==null?"":Fl.call(f,y)},z.kebabCase=Xh,z.last=Hr,z.lastIndexOf=function(f,y,_){var A=f==null?0:f.length;if(!A)return-1;var R=A;return _!==g&&(R=(R=Xt(_))<0?pr(A+R,0):Ar(R,A-1)),y==y?function(W,oe,le){for(var Oe=le+1;Oe--;)if(W[Oe]===oe)return Oe;return Oe}(f,y,R):Uo(f,Ho,R,!0)},z.lowerCase=zf,z.lowerFirst=$f,z.lt=Lh,z.lte=Ls,z.max=function(f){return f&&f.length?Kn(f,xr,Hn):g},z.maxBy=function(f,y){return f&&f.length?Kn(f,kt(y,2),Hn):g},z.mean=function(f){return on(f,xr)},z.meanBy=function(f,y){return on(f,kt(y,2))},z.min=function(f){return f&&f.length?Kn(f,xr,wi):g},z.minBy=function(f,y){return f&&f.length?Kn(f,kt(y,2),wi):g},z.stubArray=Mc,z.stubFalse=Ys,z.stubObject=function(){return{}},z.stubString=function(){return""},z.stubTrue=function(){return!0},z.multiply=Qf,z.nth=function(f,y){return f&&f.length?Kp(f,Xt(y)):g},z.noConflict=function(){return Un._===this&&(Un._=Rn),this},z.noop=Tc,z.now=bc,z.pad=function(f,y,_){f=xn(f);var A=(y=Xt(y))?To(f):0;if(!y||A>=y)return f;var R=(y-A)/2;return Ss(uu(R),_)+f+Ss(as(R),_)},z.padEnd=function(f,y,_){f=xn(f);var A=(y=Xt(y))?To(f):0;return y&&A<y?f+Ss(y-A,_):f},z.padStart=function(f,y,_){f=xn(f);var A=(y=Xt(y))?To(f):0;return y&&A<y?Ss(y-A,_)+f:f},z.parseInt=function(f,y,_){return _||y==null?y=0:y&&(y=+y),cs(xn(f).replace(Lt,""),y||0)},z.random=function(f,y,_){if(_&&typeof _!="boolean"&&mr(f,y,_)&&(y=_=g),_===g&&(typeof y=="boolean"?(_=y,y=g):typeof f=="boolean"&&(_=f,f=g)),f===g&&y===g?(f=0,y=1):(f=Ai(f),y===g?(y=f,f=0):y=Ai(y)),f>y){var A=f;f=y,y=A}if(_||f%1||y%1){var R=ss();return Ar(f+R*(y-f+zi("1e-"+((R+"").length-1))),y)}return Jl(f,y)},z.reduce=function(f,y,_){var A=Ut(f)?eu:fr,R=arguments.length<3;return A(f,kt(y,4),_,R,Cn)},z.reduceRight=function(f,y,_){var A=Ut(f)?is:fr,R=arguments.length<3;return A(f,kt(y,4),_,R,Gp)},z.repeat=function(f,y,_){return y=(_?mr(f,y,_):y===g)?1:Xt(y),bs(xn(f),y)},z.replace=function(){var f=arguments,y=xn(f[0]);return f.length<3?y:y.replace(f[1],f[2])},z.result=function(f,y,_){var A=-1,R=(y=Xi(y,f)).length;for(R||(R=1,f=g);++A<R;){var W=f==null?g:f[ko(y[A])];W===g&&(A=R,W=_),f=ji(W)?W.call(f):W}return f},z.round=ep,z.runInContext=we,z.sample=function(f){return(Ut(f)?Ul:Wy)(f)},z.size=function(f){if(f==null)return 0;if(Yr(f))return xc(f)?To(f):f.length;var y=Tr(f);return y==ce||y==je?f.size:Oi(f).length},z.snakeCase=Ff,z.some=function(f,y,_){var A=Ut(f)?ec:ef;return _&&mr(f,y,_)&&(y=g),A(f,kt(y,3))},z.sortedIndex=function(f,y){return ms(f,y)},z.sortedIndexBy=function(f,y,_){return tf(f,y,kt(_,2))},z.sortedIndexOf=function(f,y){var _=f==null?0:f.length;if(_){var A=ms(f,y);if(A<_&&oo(f[A],y))return A}return-1},z.sortedLastIndex=function(f,y){return ms(f,y,!0)},z.sortedLastIndexBy=function(f,y,_){return tf(f,y,kt(_,2),!0)},z.sortedLastIndexOf=function(f,y){if(f!=null&&f.length){var _=ms(f,y,!0)-1;if(oo(f[_],y))return _}return-1},z.startCase=Ac,z.startsWith=function(f,y,_){return f=xn(f),_=_==null?0:Ui(Xt(_),0,f.length),y=Gr(y),f.slice(_,_+y.length)==y},z.subtract=Kh,z.sum=function(f){return f&&f.length?nu(f,xr):0},z.sumBy=function(f,y){return f&&f.length?nu(f,kt(y,2)):0},z.template=function(f,y,_){var A=z.templateSettings;_&&mr(f,y,_)&&(y=g),f=xn(f),y=zs({},y,A,fh);var R,W,oe=zs({},y.imports,A.imports,fh),le=hr(oe),Oe=ru(oe,le),Le=0,Re=y.interpolate||St,Ge="__p += '",st=T((y.escape||St).source+"|"+Re.source+"|"+(Re===$t?pt:St).source+"|"+(y.evaluate||St).source+"|$","g"),vt="//# sourceURL="+(tt.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Jc+"]")+"\n";f.replace(st,function(He,zt,nt,Dt,Mt,nn){return nt||(nt=Dt),Ge+=f.slice(Le,nn).replace(Bt,di),zt&&(R=!0,Ge+="' +\n__e("+zt+") +\n'"),Mt&&(W=!0,Ge+="';\n"+Mt+";\n__p += '"),nt&&(Ge+="' +\n((__t = ("+nt+")) == null ? '' : __t) +\n'"),Le=nn+He.length,He}),Ge+="';\n";var jt=tt.call(y,"variable")&&y.variable;if(jt){if(Ve.test(jt))throw new en("Invalid `variable` option passed into `_.template`")}else Ge="with (obj) {\n"+Ge+"\n}\n";Ge=(W?Ge.replace(ze,""):Ge).replace(Et,"$1").replace(Rt,"$1;"),Ge="function("+(jt||"obj")+") {\n"+(jt?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(R?", __e = _.escape":"")+(W?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Ge+"return __p\n}";var Be=Hs(function(){return An(le,vt+"return "+Ge).apply(g,Oe)});if(Be.source=Ge,Oc(Be))throw Be;return Be},z.times=function(f,y){if((f=Xt(f))<1||f>U)return[];var _=ae,A=Ar(f,ae);y=kt(y),f-=ae;for(var R=wa(A,y);++_<f;)y(_);return R},z.toFinite=Ai,z.toInteger=Xt,z.toLength=Ec,z.toLower=function(f){return xn(f).toLowerCase()},z.toNumber=io,z.toSafeInteger=function(f){return f?Ui(Xt(f),-9007199254740991,U):f===0?f:0},z.toString=xn,z.toUpper=function(f){return xn(f).toUpperCase()},z.trim=function(f,y,_){if((f=xn(f))&&(_||y===g))return tc(f);if(!f||!(y=Gr(y)))return f;var A=Wr(f),R=Wr(y);return Yi(A,Qr(A,R),nc(A,R)+1).join("")},z.trimEnd=function(f,y,_){if((f=xn(f))&&(_||y===g))return f.slice(0,Ir(f)+1);if(!f||!(y=Gr(y)))return f;var A=Wr(f);return Yi(A,0,nc(A,Wr(y))+1).join("")},z.trimStart=function(f,y,_){if((f=xn(f))&&(_||y===g))return f.replace(Lt,"");if(!f||!(y=Gr(y)))return f;var A=Wr(f);return Yi(A,Qr(A,Wr(y))).join("")},z.truncate=function(f,y){var _=30,A="...";if(wn(y)){var R="separator"in y?y.separator:R;_="length"in y?Xt(y.length):_,A="omission"in y?Gr(y.omission):A}var W=(f=xn(f)).length;if(Ao(f)){var oe=Wr(f);W=oe.length}if(_>=W)return f;var le=_-To(A);if(le<1)return A;var Oe=oe?Yi(oe,0,le).join(""):f.slice(0,le);if(R===g)return Oe+A;if(oe&&(le+=Oe.length-le),Rf(R)){if(f.slice(le).search(R)){var Le,Re=Oe;for(R.global||(R=T(R.source,xn(Yt.exec(R))+"g")),R.lastIndex=0;Le=R.exec(Re);)var Ge=Le.index;Oe=Oe.slice(0,Ge===g?le:Ge)}}else if(f.indexOf(Gr(R),le)!=le){var st=Oe.lastIndexOf(R);st>-1&&(Oe=Oe.slice(0,st))}return Oe+A},z.unescape=function(f){return(f=xn(f))&&Me.test(f)?f.replace(At,eo):f},z.uniqueId=function(f){var y=++_n;return xn(f)+y},z.upperCase=na,z.upperFirst=Us,z.each=Qn,z.eachRight=Th,z.first=Pf,Xs(z,(Ti={},ht(z,function(f,y){tt.call(z.prototype,y)||(Ti[y]=f)}),Ti),{chain:!1}),z.VERSION="4.17.21",Dr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){z[f].placeholder=z}),Dr(["drop","take"],function(f,y){un.prototype[f]=function(_){_=_===g?1:pr(Xt(_),0);var A=this.__filtered__&&!y?new un(this):this.clone();return A.__filtered__?A.__takeCount__=Ar(_,A.__takeCount__):A.__views__.push({size:Ar(_,ae),type:f+(A.__dir__<0?"Right":"")}),A},un.prototype[f+"Right"]=function(_){return this.reverse()[f](_).reverse()}}),Dr(["filter","map","takeWhile"],function(f,y){var _=y+1,A=_==1||_==3;un.prototype[f]=function(R){var W=this.clone();return W.__iteratees__.push({iteratee:kt(R,3),type:_}),W.__filtered__=W.__filtered__||A,W}}),Dr(["head","last"],function(f,y){var _="take"+(y?"Right":"");un.prototype[f]=function(){return this[_](1).value()[0]}}),Dr(["initial","tail"],function(f,y){var _="drop"+(y?"":"Right");un.prototype[f]=function(){return this.__filtered__?new un(this):this[_](1)}}),un.prototype.compact=function(){return this.filter(xr)},un.prototype.find=function(f){return this.filter(f).head()},un.prototype.findLast=function(f){return this.reverse().find(f)},un.prototype.invokeMap=Jt(function(f,y){return typeof f=="function"?new un(this):this.map(function(_){return hu(_,f,y)})}),un.prototype.reject=function(f){return this.filter(Si(kt(f)))},un.prototype.slice=function(f,y){f=Xt(f);var _=this;return _.__filtered__&&(f>0||y<0)?new un(_):(f<0?_=_.takeRight(-f):f&&(_=_.drop(f)),y!==g&&(_=(y=Xt(y))<0?_.dropRight(-y):_.take(y-f)),_)},un.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},un.prototype.toArray=function(){return this.take(ae)},ht(un.prototype,function(f,y){var _=/^(?:filter|find|map|reject)|While$/.test(y),A=/^(?:head|last)$/.test(y),R=z[A?"take"+(y=="last"?"Right":""):y],W=A||/^find/.test(y);R&&(z.prototype[y]=function(){var oe=this.__wrapped__,le=A?[1]:arguments,Oe=oe instanceof un,Le=le[0],Re=Oe||Ut(oe),Ge=function(zt){var nt=R.apply(z,ir([zt],le));return A&&st?nt[0]:nt};Re&&_&&typeof Le=="function"&&Le.length!=1&&(Oe=Re=!1);var st=this.__chain__,vt=!!this.__actions__.length,jt=W&&!st,Be=Oe&&!vt;if(!W&&Re){oe=Be?oe:new un(this);var He=f.apply(oe,le);return He.__actions__.push({func:Rs,args:[Ge],thisArg:g}),new ho(He,st)}return jt&&Be?f.apply(this,le):(He=this.thru(Ge),jt?A?He.value()[0]:He.value():He)})}),Dr(["pop","push","shift","sort","splice","unshift"],function(f){var y=pe[f],_=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",A=/^(?:pop|shift)$/.test(f);z.prototype[f]=function(){var R=arguments;if(A&&!this.__chain__){var W=this.value();return y.apply(Ut(W)?W:[],R)}return this[_](function(oe){return y.apply(Ut(oe)?oe:[],R)})}}),ht(un.prototype,function(f,y){var _=z[y];if(_){var A=_.name+"";tt.call(lu,A)||(lu[A]=[]),lu[A].push({name:y,func:_})}}),lu[Aa(g,2).name]=[{name:"wrapper",func:g}],un.prototype.clone=function(){var f=new un(this.__wrapped__);return f.__actions__=Ur(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=Ur(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=Ur(this.__views__),f},un.prototype.reverse=function(){if(this.__filtered__){var f=new un(this);f.__dir__=-1,f.__filtered__=!0}else(f=this.clone()).__dir__*=-1;return f},un.prototype.value=function(){var f=this.__wrapped__.value(),y=this.__dir__,_=Ut(f),A=y<0,R=_?f.length:0,W=function(nn,bt,Pt){for(var Wn=-1,be=Pt.length;++Wn<be;){var No=Pt[Wn],ar=No.size;switch(No.type){case"drop":nn+=ar;break;case"dropRight":bt-=ar;break;case"take":bt=Ar(bt,nn+ar);break;case"takeRight":nn=pr(nn,bt-ar)}}return{start:nn,end:bt}}(0,R,this.__views__),oe=W.start,le=W.end,Oe=le-oe,Le=A?le:oe-1,Re=this.__iteratees__,Ge=Re.length,st=0,vt=Ar(Oe,this.__takeCount__);if(!_||!A&&R==Oe&&vt==Oe)return th(f,this.__actions__);var jt=[];e:for(;Oe--&&st<vt;){for(var Be=-1,He=f[Le+=y];++Be<Ge;){var zt=Re[Be],nt=zt.iteratee,Dt=zt.type,Mt=nt(He);if(Dt==2)He=Mt;else if(!Mt){if(Dt==1)continue e;break e}}jt[st++]=He}return jt},z.prototype.at=Ky,z.prototype.chain=function(){return _r(this)},z.prototype.commit=function(){return new ho(this.value(),this.__chain__)},z.prototype.next=function(){this.__values__===g&&(this.__values__=Bh(this.value()));var f=this.__index__>=this.__values__.length;return{done:f,value:f?g:this.__values__[this.__index__++]}},z.prototype.plant=function(f){for(var y,_=this;_ instanceof uc;){var A=xf(_);A.__index__=0,A.__values__=g,y?R.__wrapped__=A:y=A;var R=A;_=_.__wrapped__}return R.__wrapped__=f,y},z.prototype.reverse=function(){var f=this.__wrapped__;if(f instanceof un){var y=f;return this.__actions__.length&&(y=new un(this)),(y=y.reverse()).__actions__.push({func:Rs,args:[Qo],thisArg:g}),new ho(y,this.__chain__)}return this.thru(Qo)},z.prototype.toJSON=z.prototype.valueOf=z.prototype.value=function(){return th(this.__wrapped__,this.__actions__)},z.prototype.first=z.prototype.head,gi&&(z.prototype[gi]=function(){return this}),z}();Un._=Mo,(b=(function(){return Mo}).call(l,o,l,d))===g||(d.exports=b)}).call(this)}).call(this,o(68),o(221)(u))},function(u,l,o){var h=o(7),d=o(34),b=o(33),g=o(87),E=o(62),j=o(174),P=o(28),k=h.TypeError,M=P("toPrimitive");u.exports=function(C,N){if(!b(C)||g(C))return C;var L,G=E(C,M);if(G){if(N===void 0&&(N="default"),L=d(G,C,N),!b(L)||g(L))return L;throw k("Can't convert object to primitive value")}return N===void 0&&(N="number"),j(C,N)}},function(u,l,o){var h=o(108);u.exports=h&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(u,l,o){var h=o(36),d=o(18),b=o(91);u.exports=!h&&!d(function(){return Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a!=7})},function(u,l,o){var h=o(35),d=o(135),b=o(50),g=o(38);u.exports=function(E,j){for(var P=d(j),k=g.f,M=b.f,C=0;C<P.length;C++){var N=P[C];h(E,N)||k(E,N,M(j,N))}}},function(u,l,o){var h=o(46),d=o(15),b=o(74),g=o(112),E=o(32),j=d([].concat);u.exports=h("Reflect","ownKeys")||function(P){var k=b.f(E(P)),M=g.f;return M?j(k,M(P)):k}},function(u,l,o){var h=o(15),d=o(35),b=o(41),g=o(137).indexOf,E=o(72),j=h([].push);u.exports=function(P,k){var M,C=b(P),N=0,L=[];for(M in C)!d(E,M)&&d(C,M)&&j(L,M);for(;k.length>N;)d(C,M=k[N++])&&(~g(L,M)||j(L,M));return L}},function(u,l,o){var h=o(41),d=o(75),b=o(45),g=function(E){return function(j,P,k){var M,C=h(j),N=b(C),L=d(k,N);if(E&&P!=P){for(;N>L;)if((M=C[L++])!=M)return!0}else for(;N>L;L++)if((E||L in C)&&C[L]===P)return E||L||0;return!E&&-1}};u.exports={includes:g(!0),indexOf:g(!1)}},function(u,l,o){var h=o(46);u.exports=h("document","documentElement")},function(u,l,o){var h=o(51),d=o(41),b=o(74).f,g=o(114),E=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];u.exports.f=function(j){return E&&h(j)=="Window"?function(P){try{return b(P)}catch(k){return g(E)}}(j):b(d(j))}},function(u,l,o){var h=o(28);l.f=h},function(u,l,o){var h=o(177),d=o(35),b=o(140),g=o(38).f;u.exports=function(E){var j=h.Symbol||(h.Symbol={});d(j,E)||g(j,E,{value:b.f(E)})}},function(u,l,o){var h,d,b,g=o(18),E=o(30),j=o(60),P=o(101),k=o(42),M=o(28),C=o(71),N=M("iterator"),L=!1;[].keys&&("next"in(b=[].keys())?(d=P(P(b)))!==Object.prototype&&(h=d):L=!0),h==null||g(function(){var G={};return h[N].call(G)!==G})?h={}:C&&(h=j(h)),E(h[N])||k(h,N,function(){return this}),u.exports={IteratorPrototype:h,BUGGY_SAFARI_ITERATORS:L}},function(u,l,o){var h=o(18);u.exports=!h(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},function(u,l,o){var h=o(16),d=o(15),b=o(72),g=o(33),E=o(35),j=o(38).f,P=o(74),k=o(139),M=o(183),C=o(90),N=o(185),L=!1,G=C("meta"),U=0,te=function(re){j(re,G,{value:{objectID:"O"+U++,weakData:{}}})},ae=u.exports={enable:function(){ae.enable=function(){},L=!0;var re=P.f,J=d([].splice),Z={};Z[G]=1,re(Z).length&&(P.f=function(X){for(var $=re(X),V=0,Y=$.length;V<Y;V++)if($[V]===G){J($,V,1);break}return $},h({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:k.f}))},fastKey:function(re,J){if(!g(re))return typeof re=="symbol"?re:(typeof re=="string"?"S":"P")+re;if(!E(re,G)){if(!M(re))return"F";if(!J)return"E";te(re)}return re[G].objectID},getWeakData:function(re,J){if(!E(re,G)){if(!M(re))return!0;if(!J)return!1;te(re)}return re[G].weakData},onFreeze:function(re){return N&&L&&M(re)&&!E(re,G)&&te(re),re}};b[G]=!0},function(u,l,o){var h=o(28),d=o(80),b=h("iterator"),g=Array.prototype;u.exports=function(E){return E!==void 0&&(d.Array===E||g[b]===E)}},function(u,l,o){var h=o(7),d=o(34),b=o(56),g=o(32),E=o(88),j=o(118),P=h.TypeError;u.exports=function(k,M){var C=arguments.length<2?j(k):M;if(b(C))return g(d(C,k));throw P(E(k)+" is not iterable")}},function(u,l,o){var h=o(34),d=o(32),b=o(62);u.exports=function(g,E,j){var P,k;d(g);try{if(!(P=b(g,"return"))){if(E==="throw")throw j;return j}P=h(P,g)}catch(M){k=!0,P=M}if(E==="throw")throw j;if(k)throw P;return d(P),j}},function(u,l,o){var h=o(30),d=o(33),b=o(102);u.exports=function(g,E,j){var P,k;return b&&h(P=E.constructor)&&P!==j&&d(k=P.prototype)&&k!==j.prototype&&b(g,k),g}},function(u,l,o){var h=o(42);u.exports=function(d,b,g){for(var E in b)h(d,E,b[E],g);return d}},function(u,l,o){var h=o(46),d=o(38),b=o(28),g=o(36),E=b("species");u.exports=function(j){var P=h(j),k=d.f;g&&P&&!P[E]&&k(P,E,{configurable:!0,get:function(){return this}})}},function(u,l,o){var h=o(15),d=o(59),b=o(39),g=o(44),E=h("".charAt),j=h("".charCodeAt),P=h("".slice),k=function(M){return function(C,N){var L,G,U=b(g(C)),te=d(N),ae=U.length;return te<0||te>=ae?M?"":void 0:(L=j(U,te))<55296||L>56319||te+1===ae||(G=j(U,te+1))<56320||G>57343?M?E(U,te):L:M?P(U,te,te+2):G-56320+(L-55296<<10)+65536}};u.exports={codeAt:k(!1),charAt:k(!0)}},function(u,l){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(u,l,o){var h=o(91)("span").classList,d=h&&h.constructor&&h.constructor.prototype;u.exports=d===Object.prototype?void 0:d},function(u,l,o){var h=o(32);u.exports=function(){var d=h(this),b="";return d.global&&(b+="g"),d.ignoreCase&&(b+="i"),d.multiline&&(b+="m"),d.dotAll&&(b+="s"),d.unicode&&(b+="u"),d.sticky&&(b+="y"),b}},function(u,l,o){var h=o(18),d=o(7).RegExp,b=h(function(){var j=d("a","y");return j.lastIndex=2,j.exec("abcd")!=null}),g=b||h(function(){return!d("a","y").sticky}),E=b||h(function(){var j=d("^r","gy");return j.lastIndex=2,j.exec("str")!=null});u.exports={BROKEN_CARET:E,MISSED_STICKY:g,UNSUPPORTED_Y:b}},function(u,l,o){var h=o(16),d=o(79).find,b=o(100),g="find",E=!0;g in[]&&Array(1).find(function(){E=!1}),h({target:"Array",proto:!0,forced:E},{find:function(j){return d(this,j,arguments.length>1?arguments[1]:void 0)}}),b(g)},function(u,l,o){var h=o(16),d=o(137).includes,b=o(100);h({target:"Array",proto:!0},{includes:function(g){return d(this,g,arguments.length>1?arguments[1]:void 0)}}),b("includes")},function(u,l,o){var h=o(16),d=o(15),b=o(197),g=o(44),E=o(39),j=o(198),P=d("".indexOf);h({target:"String",proto:!0,forced:!j("includes")},{includes:function(k){return!!~P(E(g(this)),E(b(k)),arguments.length>1?arguments[1]:void 0)}})},function(u,l,o){var h=o(33),d=o(51),b=o(28)("match");u.exports=function(g){var E;return h(g)&&((E=g[b])!==void 0?!!E:d(g)=="RegExp")}},function(u,l,o){var h=o(15);u.exports=h(1 .valueOf)},function(u,l,o){var h=o(15),d=o(44),b=o(39),g=o(162),E=h("".replace),j="["+g+"]",P=RegExp("^"+j+j+"*"),k=RegExp(j+j+"*$"),M=function(C){return function(N){var L=b(d(N));return 1&C&&(L=E(L,P,"")),2&C&&(L=E(L,k,"")),L}};u.exports={start:M(1),end:M(2),trim:M(3)}},function(u,l){u.exports="	\n\v\f\r                　\u2028\u2029\uFEFF"},function(u,l){var o,h,d=u.exports={};function b(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function E(U){if(o===setTimeout)return setTimeout(U,0);if((o===b||!o)&&setTimeout)return o=setTimeout,setTimeout(U,0);try{return o(U,0)}catch(te){try{return o.call(null,U,0)}catch(ae){return o.call(this,U,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:b}catch(U){o=b}try{h=typeof clearTimeout=="function"?clearTimeout:g}catch(U){h=g}})();var j,P=[],k=!1,M=-1;function C(){k&&j&&(k=!1,j.length?P=j.concat(P):M=-1,P.length&&N())}function N(){if(!k){var U=E(C);k=!0;for(var te=P.length;te;){for(j=P,P=[];++M<te;)j&&j[M].run();M=-1,te=P.length}j=null,k=!1,function(ae){if(h===clearTimeout)return clearTimeout(ae);if((h===g||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(ae);try{h(ae)}catch(re){try{return h.call(null,ae)}catch(J){return h.call(this,ae)}}}(U)}}function L(U,te){this.fun=U,this.array=te}function G(){}d.nextTick=function(U){var te=new Array(arguments.length-1);if(arguments.length>1)for(var ae=1;ae<arguments.length;ae++)te[ae-1]=arguments[ae];P.push(new L(U,te)),P.length!==1||k||E(N)},L.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=G,d.addListener=G,d.once=G,d.off=G,d.removeListener=G,d.removeAllListeners=G,d.emit=G,d.prependListener=G,d.prependOnceListener=G,d.listeners=function(U){return[]},d.binding=function(U){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(U){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(u,l,o){var h=o(32),d=o(165),b=o(28)("species");u.exports=function(g,E){var j,P=h(g).constructor;return P===void 0||(j=h(P)[b])==null?E:d(j)}},function(u,l,o){var h=o(7),d=o(99),b=o(88),g=h.TypeError;u.exports=function(E){if(d(E))return E;throw g(b(E)+" is not a constructor")}},function(u,l,o){var h=o(16),d=o(161).trim;h({target:"String",proto:!0,forced:o(200)("trim")},{trim:function(){return d(this)}})},function(u,l,o){var h=o(34),d=o(123),b=o(32),g=o(94),E=o(39),j=o(44),P=o(62),k=o(124),M=o(125);d("match",function(C,N,L){return[function(G){var U=j(this),te=G==null?void 0:P(G,C);return te?h(te,G,U):new RegExp(G)[C](E(U))},function(G){var U=b(this),te=E(G),ae=L(N,U,te);if(ae.done)return ae.value;if(!U.global)return M(U,te);var re=U.unicode;U.lastIndex=0;for(var J,Z=[],X=0;(J=M(U,te))!==null;){var $=E(J[0]);Z[X]=$,$===""&&(U.lastIndex=k(te,g(U.lastIndex),re)),X++}return X===0?null:Z}]})},function(u,l,o){var h,d,b,g,E=o(7),j=o(76),P=o(64),k=o(30),M=o(35),C=o(18),N=o(138),L=o(98),G=o(91),U=o(169),te=o(128),ae=E.setImmediate,re=E.clearImmediate,J=E.process,Z=E.Dispatch,X=E.Function,$=E.MessageChannel,V=E.String,Y=0,q={},ce="onreadystatechange";try{h=E.location}catch(je){}var Se=function(je){if(M(q,je)){var ge=q[je];delete q[je],ge()}},_e=function(je){return function(){Se(je)}},Ae=function(je){Se(je.data)},$e=function(je){E.postMessage(V(je),h.protocol+"//"+h.host)};ae&&re||(ae=function(je){var ge=L(arguments,1);return q[++Y]=function(){j(k(je)?je:X(je),void 0,ge)},d(Y),Y},re=function(je){delete q[je]},te?d=function(je){J.nextTick(_e(je))}:Z&&Z.now?d=function(je){Z.now(_e(je))}:$&&!U?(g=(b=new $).port2,b.port1.onmessage=Ae,d=P(g.postMessage,g)):E.addEventListener&&k(E.postMessage)&&!E.importScripts&&h&&h.protocol!=="file:"&&!C($e)?(d=$e,E.addEventListener("message",Ae,!1)):d=ce in G("script")?function(je){N.appendChild(G("script")).onreadystatechange=function(){N.removeChild(this),Se(je)}}:function(je){setTimeout(_e(je),0)}),u.exports={set:ae,clear:re}},function(u,l,o){var h=o(55);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(h)},function(u,l,o){var h=o(56),d=function(b){var g,E;this.promise=new b(function(j,P){if(g!==void 0||E!==void 0)throw TypeError("Bad Promise constructor");g=j,E=P}),this.resolve=h(g),this.reject=h(E)};u.exports.f=function(b){return new d(b)}},function(u,l,o){l.a=function(){return!1}},function(u,l,o){(function(h){o.d(l,"a",function(){return J});var d=o(1);function b($){throw new Error("[mobx-utils] "+$)}function g($,V){V===void 0&&(V="Illegal state"),$||b(V)}var E=function($){return $&&$!==Object.prototype&&Object.getOwnPropertyNames($).concat(E(Object.getPrototypeOf($))||[])},j=function($){return function(V){var Y=E(V);return Y.filter(function(q,ce){return Y.indexOf(q)===ce})}($).filter(function(V){return V!=="constructor"&&!~V.indexOf("__")})},P="pending",k="fulfilled",M="rejected";function C($){switch(this.state){case P:return $.pending&&$.pending(this.value);case M:return $.rejected&&$.rejected(this.value);case k:return $.fulfilled?$.fulfilled(this.value):this.value}}function N($,V){if(g(arguments.length<=2,"fromPromise expects up to two arguments"),g(typeof $=="function"||typeof $=="object"&&$&&typeof $.then=="function","Please pass a promise or function to fromPromise"),$.isPromiseBasedObservable===!0)return $;typeof $=="function"&&($=new Promise($));var Y=$;$.then(Object(d.k)("observableFromPromise-resolve",function(ce){Y.value=ce,Y.state=k}),Object(d.k)("observableFromPromise-reject",function(ce){Y.value=ce,Y.state=M})),Y.isPromiseBasedObservable=!0,Y.case=C;var q=V&&V.state===k?V.value:void 0;return Object(d.q)(Y,{value:q,state:P},{},{deep:!1}),Y}(function($){$.reject=Object(d.k)("fromPromise.reject",function(V){var Y=$(Promise.reject(V));return Y.state=M,Y.value=V,Y}),$.resolve=Object(d.k)("fromPromise.resolve",function(V){V===void 0&&(V=void 0);var Y=$(Promise.resolve(V));return Y.state=k,Y.value=V,Y})})(N||(N={}));var L=function($,V,Y,q){var ce,Se=arguments.length,_e=Se<3?V:q===null?q=Object.getOwnPropertyDescriptor(V,Y):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_e=Reflect.decorate($,V,Y,q);else for(var Ae=$.length-1;Ae>=0;Ae--)(ce=$[Ae])&&(_e=(Se<3?ce(_e):Se>3?ce(V,Y,_e):ce(V,Y))||_e);return Se>3&&_e&&Object.defineProperty(V,Y,_e),_e};(function(){function $(V,Y){var q=this;Object(d.G)(function(){q.current=Y,q.subscription=V.subscribe(q)})}$.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},$.prototype.next=function(V){this.current=V},$.prototype.complete=function(){this.dispose()},$.prototype.error=function(V){this.current=V,this.dispose()},L([d.C.ref],$.prototype,"current",void 0),L([d.k.bound],$.prototype,"next",null),L([d.k.bound],$.prototype,"complete",null),L([d.k.bound],$.prototype,"error",null)})();var G=function(){return G=Object.assign||function($){for(var V,Y=1,q=arguments.length;Y<q;Y++)for(var ce in V=arguments[Y])Object.prototype.hasOwnProperty.call(V,ce)&&($[ce]=V[ce]);return $},G.apply(this,arguments)},U=function($,V,Y,q){var ce,Se=arguments.length,_e=Se<3?V:q===null?q=Object.getOwnPropertyDescriptor(V,Y):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_e=Reflect.decorate($,V,Y,q);else for(var Ae=$.length-1;Ae>=0;Ae--)(ce=$[Ae])&&(_e=(Se<3?ce(_e):Se>3?ce(V,Y,_e):ce(V,Y))||_e);return Se>3&&_e&&Object.defineProperty(V,Y,_e),_e},te=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function $(V){var Y=this;this.model=V,this.localValues=d.C.map({}),this.localComputedValues=d.C.map({}),this.isPropertyDirty=function(q){return Y.localValues.has(q)},g(Object(d.A)(V),"createViewModel expects an observable object"),j(V).forEach(function(q){if(q!==d.a&&q!=="__mobxDidRunLazyInitializers"){if(g(te.indexOf(q)===-1,"The propertyname "+q+" is reserved and cannot be used with viewModels"),Object(d.w)(V,q)){var ce=Object(d.h)(V,q).derivation;Y.localComputedValues.set(q,Object(d.m)(ce.bind(Y)))}var Se=Object.getOwnPropertyDescriptor(V,q),_e=Se?{enumerable:Se.enumerable}:{};Object.defineProperty(Y,q,G(G({},_e),{configurable:!0,get:function(){return Object(d.w)(V,q)?Y.localComputedValues.get(q).get():Y.isPropertyDirty(q)?Y.localValues.get(q):Y.model[q]},set:Object(d.k)(function(Ae){Ae!==Y.model[q]?Y.localValues.set(q,Ae):Y.localValues.delete(q)})}))}})}Object.defineProperty($.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),$.prototype.submit=function(){var V=this;Object(d.B)(this.localValues).forEach(function(Y){var q=V.localValues.get(Y),ce=V.model[Y];Object(d.y)(ce)?ce.replace(q):Object(d.z)(ce)?(ce.clear(),ce.merge(q)):Object(d.v)(q)||(V.model[Y]=q)}),this.localValues.clear()},$.prototype.reset=function(){this.localValues.clear()},$.prototype.resetProperty=function(V){this.localValues.delete(V)},U([d.m],$.prototype,"isDirty",null),U([d.m],$.prototype,"changedValues",null),U([d.k.bound],$.prototype,"submit",null),U([d.k.bound],$.prototype,"reset",null),U([d.k.bound],$.prototype,"resetProperty",null)})();function ae($){if(!$)return"ROOT";for(var V=[];$.parent;)V.push($.path),$=$.parent;return V.reverse().join("/")}function re($){return Object(d.A)($)||Object(d.y)($)||Object(d.z)($)}function J($,V){var Y=new WeakMap;function q(_e){var Ae=Y.get(_e.object);(function($e,je){switch($e.type){case"add":ce($e.newValue,je,$e.name);break;case"update":Se($e.oldValue),ce($e.newValue,je,$e.name||""+$e.index);break;case"remove":case"delete":Se($e.oldValue);break;case"splice":$e.removed.map(Se),$e.added.forEach(function(Te,We){return ce(Te,je,""+($e.index+We))});for(var ge=$e.index+$e.addedCount;ge<$e.object.length;ge++)if(re($e.object[ge])){var Pe=Y.get($e.object[ge]);Pe&&(Pe.path=""+ge)}}})(_e,Ae),V(_e,ae(Ae),$)}function ce(_e,Ae,$e){if(re(_e)){var je=Y.get(_e);if(je){if(je.parent!==Ae||je.path!==$e)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+ae(Ae)+"/"+$e+"', but it already exists at '"+ae(je.parent)+"/"+je.path+"'")}else{var ge={parent:Ae,path:$e,dispose:Object(d.D)(_e,q)};Y.set(_e,ge),Object(d.p)(_e).forEach(function(Pe){var Te=Pe[0];return ce(Pe[1],ge,Te)})}}}function Se(_e){if(re(_e)){var Ae=Y.get(_e);if(!Ae)return;Y.delete(_e),Ae.dispose(),Object(d.L)(_e).forEach(Se)}}return ce($,void 0,""),function(){Se($)}}var Z,X=(Z=function($,V){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,q){Y.__proto__=q}||function(Y,q){for(var ce in q)q.hasOwnProperty(ce)&&(Y[ce]=q[ce])},Z($,V)},function($,V){function Y(){this.constructor=$}Z($,V),$.prototype=V===null?Object.create(V):(Y.prototype=V.prototype,new Y)});(function($){function V(Y,q,ce){var Se=ce===void 0?{}:ce,_e=Se.name,Ae=_e===void 0?"ogm"+(1e3*Math.random()|0):_e,$e=Se.keyToName,je=$e===void 0?function(Te){return""+Te}:$e,ge=$.call(this)||this;ge._keyToName=je,ge._groupBy=q,ge._ogmInfoKey=Symbol("ogmInfo"+Ae),ge._base=Y;for(var Pe=0;Pe<Y.length;Pe++)ge._addItem(Y[Pe]);return ge._disposeBaseObserver=Object(d.D)(ge._base,function(Te){if(Te.type==="splice")Object(d.J)(function(){for(var We=0,ot=Te.removed;We<ot.length;We++){var xt=ot[We];ge._removeItem(xt)}for(var Ye=0,Je=Te.added;Ye<Je.length;Ye++){var mt=Je[Ye];ge._addItem(mt)}});else{if(Te.type!=="update")throw new Error("illegal state");Object(d.J)(function(){ge._removeItem(Te.oldValue),ge._addItem(Te.newValue)})}}),ge}X(V,$),V.prototype.clear=function(){throw new Error("not supported")},V.prototype.delete=function(Y){throw new Error("not supported")},V.prototype.set=function(Y,q){throw new Error("not supported")},V.prototype.dispose=function(){this._disposeBaseObserver();for(var Y=0;Y<this._base.length;Y++){var q=this._base[Y];q[this._ogmInfoKey].reaction(),delete q[this._ogmInfoKey]}},V.prototype._getGroupArr=function(Y){var q=$.prototype.get.call(this,Y);return q===void 0&&(q=Object(d.C)([],{name:"GroupArray["+this._keyToName(Y)+"]",deep:!1}),$.prototype.set.call(this,Y,q)),q},V.prototype._removeFromGroupArr=function(Y,q){var ce=$.prototype.get.call(this,Y);ce.length===1?$.prototype.delete.call(this,Y):(q===ce.length-1||(ce[q]=ce[ce.length-1],ce[q][this._ogmInfoKey].groupArrIndex=q),ce.length--)},V.prototype._addItem=function(Y){var q=this,ce=this._groupBy(Y),Se=this._getGroupArr(ce),_e={groupByValue:ce,groupArrIndex:Se.length,reaction:Object(d.F)(function(){return q._groupBy(Y)},function(Ae,$e){var je=Y[q._ogmInfoKey];q._removeFromGroupArr(je.groupByValue,je.groupArrIndex);var ge=q._getGroupArr(Ae),Pe=ge.length;ge.push(Y),je.groupByValue=Ae,je.groupArrIndex=Pe})};Object.defineProperty(Y,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:_e}),Se.push(Y)},V.prototype._removeItem=function(Y){var q=Y[this._ogmInfoKey];this._removeFromGroupArr(q.groupByValue,q.groupArrIndex),q.reaction(),delete Y[this._ogmInfoKey]}})(d.b),function(){function $(V,Y){this.base=V,this.args=Y,this.closestIdx=0,this.isDisposed=!1;for(var q=this.closest=this.root=V,ce=0;ce<this.args.length-1&&(q=q.get(Y[ce]));ce++)this.closest=q;this.closestIdx=ce}return $.prototype.exists=function(){this.assertNotDisposed();var V=this.args.length;return this.closestIdx>=V-1&&this.closest.has(this.args[V-1])},$.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},$.prototype.set=function(V){this.assertNotDisposed();for(var Y=this.args.length,q=this.closest,ce=this.closestIdx;ce<Y-1;ce++){var Se=new Map;q.set(this.args[ce],Se),q=Se}this.closestIdx=Y-1,this.closest=q,q.set(this.args[Y-1],V)},$.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var V=this.args.length;this.closest.delete(this.args[V-1]);for(var Y=this.root,q=[Y],ce=0;ce<V-1;ce++)Y=Y.get(this.args[ce]),q.push(Y);for(ce=q.length-1;ce>0;ce--)q[ce].size===0&&q[ce-1].delete(this.args[ce-1]);this.isDisposed=!0},$.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},$}(),Promise.resolve(),typeof queueMicrotask<"u"||h!==void 0&&h.nextTick}).call(this,o(163))},function(u,l,o){var h;(function(d,b,g){if(d){for(var E,j={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},P={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},k={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},M={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},C=1;C<20;++C)j[111+C]="f"+C;for(C=0;C<=9;++C)j[C+96]=C.toString();re.prototype.bind=function(J,Z,X){var $=this;return J=J instanceof Array?J:[J],$._bindMultiple.call($,J,Z,X),$},re.prototype.unbind=function(J,Z){return this.bind.call(this,J,function(){},Z)},re.prototype.trigger=function(J,Z){var X=this;return X._directMap[J+":"+Z]&&X._directMap[J+":"+Z]({},J),X},re.prototype.reset=function(){var J=this;return J._callbacks={},J._directMap={},J},re.prototype.stopCallback=function(J,Z){if((" "+Z.className+" ").indexOf(" mousetrap ")>-1||ae(Z,this.target))return!1;if("composedPath"in J&&typeof J.composedPath=="function"){var X=J.composedPath()[0];X!==J.target&&(Z=X)}return Z.tagName=="INPUT"||Z.tagName=="SELECT"||Z.tagName=="TEXTAREA"||Z.isContentEditable},re.prototype.handleKey=function(){var J=this;return J._handleKey.apply(J,arguments)},re.addKeycodes=function(J){for(var Z in J)J.hasOwnProperty(Z)&&(j[Z]=J[Z]);E=null},re.init=function(){var J=re(b);for(var Z in J)Z.charAt(0)!=="_"&&(re[Z]=function(X){return function(){return J[X].apply(J,arguments)}}(Z))},re.init(),d.Mousetrap=re,u.exports&&(u.exports=re),(h=(function(){return re}).call(l,o,l,u))===void 0||(u.exports=h)}function N(J,Z,X){J.addEventListener?J.addEventListener(Z,X,!1):J.attachEvent("on"+Z,X)}function L(J){if(J.type=="keypress"){var Z=String.fromCharCode(J.which);return J.shiftKey||(Z=Z.toLowerCase()),Z}return j[J.which]?j[J.which]:P[J.which]?P[J.which]:String.fromCharCode(J.which).toLowerCase()}function G(J){return J=="shift"||J=="ctrl"||J=="alt"||J=="meta"}function U(J,Z,X){return X||(X=function(){if(!E)for(var $ in E={},j)$>95&&$<112||j.hasOwnProperty($)&&(E[j[$]]=$);return E}()[J]?"keydown":"keypress"),X=="keypress"&&Z.length&&(X="keydown"),X}function te(J,Z){var X,$,V,Y=[];for(X=function(q){return q==="+"?["+"]:(q=q.replace(/\+{2}/g,"+plus")).split("+")}(J),V=0;V<X.length;++V)$=X[V],M[$]&&($=M[$]),Z&&Z!="keypress"&&k[$]&&($=k[$],Y.push("shift")),G($)&&Y.push($);return{key:$,modifiers:Y,action:Z=U($,Y,Z)}}function ae(J,Z){return J!==null&&J!==b&&(J===Z||ae(J.parentNode,Z))}function re(J){var Z=this;if(J=J||b,!(Z instanceof re))return new re(J);Z.target=J,Z._callbacks={},Z._directMap={};var X,$={},V=!1,Y=!1,q=!1;function ce(ge){ge=ge||{};var Pe,Te=!1;for(Pe in $)ge[Pe]?Te=!0:$[Pe]=0;Te||(q=!1)}function Se(ge,Pe,Te,We,ot,xt){var Ye,Je,mt,se,ue=[],ve=Te.type;if(!Z._callbacks[ge])return[];for(ve=="keyup"&&G(ge)&&(Pe=[ge]),Ye=0;Ye<Z._callbacks[ge].length;++Ye)if(Je=Z._callbacks[ge][Ye],(We||!Je.seq||$[Je.seq]==Je.level)&&ve==Je.action&&(ve=="keypress"&&!Te.metaKey&&!Te.ctrlKey||(mt=Pe,se=Je.modifiers,mt.sort().join(",")===se.sort().join(",")))){var De=!We&&Je.combo==ot,Ue=We&&Je.seq==We&&Je.level==xt;(De||Ue)&&Z._callbacks[ge].splice(Ye,1),ue.push(Je)}return ue}function _e(ge,Pe,Te,We){Z.stopCallback(Pe,Pe.target||Pe.srcElement,Te,We)||ge(Pe,Te)===!1&&(function(ot){ot.preventDefault?ot.preventDefault():ot.returnValue=!1}(Pe),function(ot){ot.stopPropagation?ot.stopPropagation():ot.cancelBubble=!0}(Pe))}function Ae(ge){typeof ge.which!="number"&&(ge.which=ge.keyCode);var Pe=L(ge);Pe&&(ge.type!="keyup"||V!==Pe?Z.handleKey(Pe,function(Te){var We=[];return Te.shiftKey&&We.push("shift"),Te.altKey&&We.push("alt"),Te.ctrlKey&&We.push("ctrl"),Te.metaKey&&We.push("meta"),We}(ge),ge):V=!1)}function $e(ge,Pe,Te,We){function ot(mt){return function(){q=mt,++$[ge],clearTimeout(X),X=setTimeout(ce,1e3)}}function xt(mt){_e(Te,mt,ge),We!=="keyup"&&(V=L(mt)),setTimeout(ce,10)}$[ge]=0;for(var Ye=0;Ye<Pe.length;++Ye){var Je=Ye+1===Pe.length?xt:ot(We||te(Pe[Ye+1]).action);je(Pe[Ye],Je,We,ge,Ye)}}function je(ge,Pe,Te,We,ot){Z._directMap[ge+":"+Te]=Pe;var xt,Ye=(ge=ge.replace(/\s+/g," ")).split(" ");Ye.length>1?$e(ge,Ye,Pe,Te):(xt=te(ge,Te),Z._callbacks[xt.key]=Z._callbacks[xt.key]||[],Se(xt.key,xt.modifiers,{type:xt.action},We,ge,ot),Z._callbacks[xt.key][We?"unshift":"push"]({callback:Pe,modifiers:xt.modifiers,action:xt.action,seq:We,level:ot,combo:ge}))}Z._handleKey=function(ge,Pe,Te){var We,ot=Se(ge,Pe,Te),xt={},Ye=0,Je=!1;for(We=0;We<ot.length;++We)ot[We].seq&&(Ye=Math.max(Ye,ot[We].level));for(We=0;We<ot.length;++We)if(ot[We].seq){if(ot[We].level!=Ye)continue;Je=!0,xt[ot[We].seq]=1,_e(ot[We].callback,Te,ot[We].combo,ot[We].seq)}else Je||_e(ot[We].callback,Te,ot[We].combo);var mt=Te.type=="keypress"&&Y;Te.type!=q||G(ge)||mt||ce(xt),Y=Je&&Te.type=="keydown"},Z._bindMultiple=function(ge,Pe,Te){for(var We=0;We<ge.length;++We)je(ge[We],Pe,Te)},N(J,"keypress",Ae),N(J,"keydown",Ae),N(J,"keyup",Ae)}})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(u,l,o){var h=o(7),d=o(34),b=o(30),g=o(33),E=h.TypeError;u.exports=function(j,P){var k,M;if(P==="string"&&b(k=j.toString)&&!g(M=d(k,j))||b(k=j.valueOf)&&!g(M=d(k,j))||P!=="string"&&b(k=j.toString)&&!g(M=d(k,j)))return M;throw E("Can't convert object to primitive value")}},function(u,l,o){var h=o(7),d=o(30),b=o(92),g=h.WeakMap;u.exports=d(g)&&/native code/.test(b(g))},function(u,l,o){var h=o(36),d=o(38),b=o(32),g=o(41),E=o(77);u.exports=h?Object.defineProperties:function(j,P){b(j);for(var k,M=g(P),C=E(P),N=C.length,L=0;N>L;)d.f(j,k=C[L++],M[k]);return j}},function(u,l,o){var h=o(7);u.exports=h},function(u,l,o){var h=o(7),d=o(96),b=o(99),g=o(33),E=o(28)("species"),j=h.Array;u.exports=function(P){var k;return d(P)&&(k=P.constructor,(b(k)&&(k===j||d(k.prototype))||g(k)&&(k=k[E])===null)&&(k=void 0)),k===void 0?j:k}},function(u,l,o){var h=o(113),d=o(97);u.exports=h?{}.toString:function(){return"[object "+d(this)+"]"}},function(u,l,o){var h=o(142).IteratorPrototype,d=o(60),b=o(69),g=o(78),E=o(80),j=function(){return this};u.exports=function(P,k,M,C){var N=k+" Iterator";return P.prototype=d(h,{next:b(+!C,M)}),g(P,N,!1,!0),E[N]=j,P}},function(u,l,o){var h=o(7),d=o(30),b=h.String,g=h.TypeError;u.exports=function(E){if(typeof E=="object"||d(E))return E;throw g("Can't set "+b(E)+" as a prototype")}},function(u,l,o){var h=o(16),d=o(7),b=o(15),g=o(95),E=o(42),j=o(144),P=o(117),k=o(119),M=o(30),C=o(33),N=o(18),L=o(120),G=o(78),U=o(148);u.exports=function(te,ae,re){var J=te.indexOf("Map")!==-1,Z=te.indexOf("Weak")!==-1,X=J?"set":"add",$=d[te],V=$&&$.prototype,Y=$,q={},ce=function(ge){var Pe=b(V[ge]);E(V,ge,ge=="add"?function(Te){return Pe(this,Te===0?0:Te),this}:ge=="delete"?function(Te){return!(Z&&!C(Te))&&Pe(this,Te===0?0:Te)}:ge=="get"?function(Te){return Z&&!C(Te)?void 0:Pe(this,Te===0?0:Te)}:ge=="has"?function(Te){return!(Z&&!C(Te))&&Pe(this,Te===0?0:Te)}:function(Te,We){return Pe(this,Te===0?0:Te,We),this})};if(g(te,!M($)||!(Z||V.forEach&&!N(function(){new $().entries().next()}))))Y=re.getConstructor(ae,te,J,X),j.enable();else if(g(te,!0)){var Se=new Y,_e=Se[X](Z?{}:-0,1)!=Se,Ae=N(function(){Se.has(1)}),$e=L(function(ge){new $(ge)}),je=!Z&&N(function(){for(var ge=new $,Pe=5;Pe--;)ge[X](Pe,Pe);return!ge.has(-0)});$e||((Y=ae(function(ge,Pe){k(ge,V);var Te=U(new $,ge,Y);return Pe!=null&&P(Pe,Te[X],{that:Te,AS_ENTRIES:J}),Te})).prototype=V,V.constructor=Y),(Ae||je)&&(ce("delete"),ce("has"),J&&ce("get")),(je||_e)&&ce(X),Z&&V.clear&&delete V.clear}return q[te]=Y,h({global:!0,forced:Y!=$},q),G(Y,te),Z||re.setStrong(Y,te,J),Y}},function(u,l,o){var h=o(18),d=o(33),b=o(51),g=o(184),E=Object.isExtensible,j=h(function(){});u.exports=j||g?function(P){return!!d(P)&&(!g||b(P)!="ArrayBuffer")&&(!E||E(P))}:E},function(u,l,o){var h=o(18);u.exports=h(function(){if(typeof ArrayBuffer=="function"){var d=new ArrayBuffer(8);Object.isExtensible(d)&&Object.defineProperty(d,"a",{value:8})}})},function(u,l,o){var h=o(18);u.exports=!h(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(u,l,o){var h=o(38).f,d=o(60),b=o(149),g=o(64),E=o(119),j=o(117),P=o(116),k=o(150),M=o(36),C=o(144).fastKey,N=o(58),L=N.set,G=N.getterFor;u.exports={getConstructor:function(U,te,ae,re){var J=U(function(Y,q){E(Y,Z),L(Y,{type:te,index:d(null),first:void 0,last:void 0,size:0}),M||(Y.size=0),q!=null&&j(q,Y[re],{that:Y,AS_ENTRIES:ae})}),Z=J.prototype,X=G(te),$=function(Y,q,ce){var Se,_e,Ae=X(Y),$e=V(Y,q);return $e?$e.value=ce:(Ae.last=$e={index:_e=C(q,!0),key:q,value:ce,previous:Se=Ae.last,next:void 0,removed:!1},Ae.first||(Ae.first=$e),Se&&(Se.next=$e),M?Ae.size++:Y.size++,_e!=="F"&&(Ae.index[_e]=$e)),Y},V=function(Y,q){var ce,Se=X(Y),_e=C(q);if(_e!=="F")return Se.index[_e];for(ce=Se.first;ce;ce=ce.next)if(ce.key==q)return ce};return b(Z,{clear:function(){for(var Y=X(this),q=Y.index,ce=Y.first;ce;)ce.removed=!0,ce.previous&&(ce.previous=ce.previous.next=void 0),delete q[ce.index],ce=ce.next;Y.first=Y.last=void 0,M?Y.size=0:this.size=0},delete:function(Y){var q=this,ce=X(q),Se=V(q,Y);if(Se){var _e=Se.next,Ae=Se.previous;delete ce.index[Se.index],Se.removed=!0,Ae&&(Ae.next=_e),_e&&(_e.previous=Ae),ce.first==Se&&(ce.first=_e),ce.last==Se&&(ce.last=Ae),M?ce.size--:q.size--}return!!Se},forEach:function(Y){for(var q,ce=X(this),Se=g(Y,arguments.length>1?arguments[1]:void 0);q=q?q.next:ce.first;)for(Se(q.value,q.key,this);q&&q.removed;)q=q.previous},has:function(Y){return!!V(this,Y)}}),b(Z,ae?{get:function(Y){var q=V(this,Y);return q&&q.value},set:function(Y,q){return $(this,Y===0?0:Y,q)}}:{add:function(Y){return $(this,Y=Y===0?0:Y,Y)}}),M&&h(Z,"size",{get:function(){return X(this).size}}),J},setStrong:function(U,te,ae){var re=te+" Iterator",J=G(te),Z=G(re);P(U,te,function(X,$){L(this,{type:re,target:X,state:J(X),kind:$,last:void 0})},function(){for(var X=Z(this),$=X.kind,V=X.last;V&&V.removed;)V=V.previous;return X.target&&(X.last=V=V?V.next:X.state.first)?$=="keys"?{value:V.key,done:!1}:$=="values"?{value:V.value,done:!1}:{value:[V.key,V.value],done:!1}:(X.target=void 0,{value:void 0,done:!0})},ae?"entries":"values",!ae,!0),k(te)}}},function(u,l,o){var h=o(79).forEach,d=o(121)("forEach");u.exports=d?[].forEach:function(b){return h(this,b,arguments.length>1?arguments[1]:void 0)}},function(u,l,o){var h=o(7),d=o(64),b=o(34),g=o(40),E=o(189),j=o(145),P=o(99),k=o(45),M=o(63),C=o(146),N=o(118),L=h.Array;u.exports=function(G){var U=g(G),te=P(this),ae=arguments.length,re=ae>1?arguments[1]:void 0,J=re!==void 0;J&&(re=d(re,ae>2?arguments[2]:void 0));var Z,X,$,V,Y,q,ce=N(U),Se=0;if(!ce||this==L&&j(ce))for(Z=k(U),X=te?new this(Z):L(Z);Z>Se;Se++)q=J?re(U[Se],Se):U[Se],M(X,Se,q);else for(Y=(V=C(U,ce)).next,X=te?new this:[];!($=b(Y,V)).done;Se++)q=J?E(V,re,[$.value,Se],!0):$.value,M(X,Se,q);return X.length=Se,X}},function(u,l,o){var h=o(32),d=o(147);u.exports=function(b,g,E,j){try{return j?g(h(E)[0],E[1]):g(E)}catch(P){d(b,"throw",P)}}},function(u,l,o){var h=o(18),d=o(7).RegExp;u.exports=h(function(){var b=d(".","s");return!(b.dotAll&&b.exec("\n")&&b.flags==="s")})},function(u,l,o){var h=o(18),d=o(7).RegExp;u.exports=h(function(){var b=d("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(u,l,o){var h=o(16),d=o(15),b=o(56),g=o(40),E=o(45),j=o(39),P=o(18),k=o(193),M=o(121),C=o(194),N=o(195),L=o(70),G=o(196),U=[],te=d(U.sort),ae=d(U.push),re=P(function(){U.sort(void 0)}),J=P(function(){U.sort(null)}),Z=M("sort"),X=!P(function(){if(L)return L<70;if(!(C&&C>3)){if(N)return!0;if(G)return G<603;var $,V,Y,q,ce="";for($=65;$<76;$++){switch(V=String.fromCharCode($),$){case 66:case 69:case 70:case 72:Y=3;break;case 68:case 71:Y=4;break;default:Y=2}for(q=0;q<47;q++)U.push({k:V+q,v:Y})}for(U.sort(function(Se,_e){return _e.v-Se.v}),q=0;q<U.length;q++)V=U[q].k.charAt(0),ce.charAt(ce.length-1)!==V&&(ce+=V);return ce!=="DGBEFHACIJK"}});h({target:"Array",proto:!0,forced:re||!J||!Z||!X},{sort:function($){$!==void 0&&b($);var V=g(this);if(X)return $===void 0?te(V):te(V,$);var Y,q,ce=[],Se=E(V);for(q=0;q<Se;q++)q in V&&ae(ce,V[q]);for(k(ce,function(_e){return function(Ae,$e){return $e===void 0?-1:Ae===void 0?1:_e!==void 0?+_e(Ae,$e)||0:j(Ae)>j($e)?1:-1}}($)),Y=ce.length,q=0;q<Y;)V[q]=ce[q++];for(;q<Se;)delete V[q++];return V}})},function(u,l,o){var h=o(114),d=Math.floor,b=function(j,P){var k=j.length,M=d(k/2);return k<8?g(j,P):E(j,b(h(j,0,M),P),b(h(j,M),P),P)},g=function(j,P){for(var k,M,C=j.length,N=1;N<C;){for(M=N,k=j[N];M&&P(j[M-1],k)>0;)j[M]=j[--M];M!==N++&&(j[M]=k)}return j},E=function(j,P,k,M){for(var C=P.length,N=k.length,L=0,G=0;L<C||G<N;)j[L+G]=L<C&&G<N?M(P[L],k[G])<=0?P[L++]:k[G++]:L<C?P[L++]:k[G++];return j};u.exports=b},function(u,l,o){var h=o(55).match(/firefox\/(\d+)/i);u.exports=!!h&&+h[1]},function(u,l,o){var h=o(55);u.exports=/MSIE|Trident/.test(h)},function(u,l,o){var h=o(55).match(/AppleWebKit\/(\d+)\./);u.exports=!!h&&+h[1]},function(u,l,o){var h=o(7),d=o(159),b=h.TypeError;u.exports=function(g){if(d(g))throw b("The method doesn't accept regular expressions");return g}},function(u,l,o){var h=o(28)("match");u.exports=function(d){var b=/./;try{"/./"[d](b)}catch(g){try{return b[h]=!1,"/./"[d](b)}catch(E){}}return!1}},function(u,l,o){o(16)({target:"Number",stat:!0},{isNaN:function(h){return h!=h}})},function(u,l,o){var h=o(73).PROPER,d=o(18),b=o(162);u.exports=function(g){return d(function(){return!!b[g]()||"​᠎"[g]()!=="​᠎"||h&&b[g].name!==g})}},function(u,l,o){var h=o(15),d=o(40),b=Math.floor,g=h("".charAt),E=h("".replace),j=h("".slice),P=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,k=/\$([$&'`]|\d{1,2})/g;u.exports=function(M,C,N,L,G,U){var te=N+M.length,ae=L.length,re=k;return G!==void 0&&(G=d(G),re=P),E(U,re,function(J,Z){var X;switch(g(Z,0)){case"$":return"$";case"&":return M;case"`":return j(C,0,N);case"'":return j(C,te);case"<":X=G[j(Z,1,-1)];break;default:var $=+Z;if($===0)return J;if($>ae){var V=b($/10);return V===0?J:V<=ae?L[V-1]===void 0?g(Z,1):L[V-1]+g(Z,1):J}X=L[$-1]}return X===void 0?"":X})}},function(u,l,o){var h=o(36),d=o(15),b=o(34),g=o(18),E=o(77),j=o(112),P=o(84),k=o(40),M=o(85),C=Object.assign,N=Object.defineProperty,L=d([].concat);u.exports=!C||g(function(){if(h&&C({b:1},C(N({},"a",{enumerable:!0,get:function(){N(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var G={},U={},te=Symbol(),ae="abcdefghijklmnopqrst";return G[te]=7,ae.split("").forEach(function(re){U[re]=re}),C({},G)[te]!=7||E(C({},U)).join("")!=ae})?function(G,U){for(var te=k(G),ae=arguments.length,re=1,J=j.f,Z=P.f;ae>re;)for(var X,$=M(arguments[re++]),V=J?L(E($),J($)):E($),Y=V.length,q=0;Y>q;)X=V[q++],h&&!b(Z,$,X)||(te[X]=$[X]);return te}:C},function(u,l,o){var h=o(7),d=o(15),b=o(56),g=o(33),E=o(35),j=o(98),P=h.Function,k=d([].concat),M=d([].join),C={},N=function(L,G,U){if(!E(C,G)){for(var te=[],ae=0;ae<G;ae++)te[ae]="a["+ae+"]";C[G]=P("C,a","return new C("+M(te,",")+")")}return C[G](L,U)};u.exports=P.bind||function(L){var G=b(this),U=G.prototype,te=j(arguments,1),ae=function(){var re=k(te,j(arguments));return this instanceof ae?N(G,re.length,re):G.apply(L,re)};return g(U)&&(ae.prototype=U),ae}},function(u,l,o){var h=o(35);u.exports=function(d){return d!==void 0&&(h(d,"value")||h(d,"writable"))}},function(u,l,o){var h=o(15),d=o(44),b=o(39),g=/"/g,E=h("".replace);u.exports=function(j,P,k,M){var C=b(d(j)),N="<"+P;return k!==""&&(N+=" "+k+'="'+E(b(M),g,"&quot;")+'"'),N+">"+C+"</"+P+">"}},function(u,l,o){var h=o(18);u.exports=function(d){return h(function(){var b=""[d]('"');return b!==b.toLowerCase()||b.split('"').length>3})}},function(u,l,o){o(16)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(u,l,o){var h,d,b,g,E=o(16),j=o(71),P=o(7),k=o(46),M=o(34),C=o(209),N=o(42),L=o(149),G=o(102),U=o(78),te=o(150),ae=o(56),re=o(30),J=o(33),Z=o(119),X=o(92),$=o(117),V=o(120),Y=o(164),q=o(168).set,ce=o(210),Se=o(213),_e=o(214),Ae=o(170),$e=o(215),je=o(58),ge=o(95),Pe=o(28),Te=o(216),We=o(128),ot=o(70),xt=Pe("species"),Ye="Promise",Je=je.getterFor(Ye),mt=je.set,se=je.getterFor(Ye),ue=C&&C.prototype,ve=C,De=ue,Ue=P.TypeError,ze=P.document,Et=P.process,Rt=Ae.f,At=Rt,gt=!!(ze&&ze.createEvent&&P.dispatchEvent),Me=re(P.PromiseRejectionEvent),lt="unhandledrejection",fe=!1,at=ge(Ye,function(){var ie=X(ve),me=ie!==String(ve);if(!me&&ot===66||j&&!De.finally)return!0;if(ot>=51&&/native code/.test(ie))return!1;var Ve=new ve(function(pt){pt(1)}),Ke=function(pt){pt(function(){},function(){})};return(Ve.constructor={})[xt]=Ke,!(fe=Ve.then(function(){})instanceof Ke)||!me&&Te&&!Me}),$t=at||!V(function(ie){ve.all(ie).catch(function(){})}),hn=function(ie){var me;return!(!J(ie)||!re(me=ie.then))&&me},Ft=function(ie,me){if(!ie.notified){ie.notified=!0;var Ve=ie.reactions;ce(function(){for(var Ke=ie.value,pt=ie.state==1,Yt=0;Ve.length>Yt;){var or,dr,Yn,Zn=Ve[Yt++],ut=pt?Zn.ok:Zn.fail,Ot=Zn.resolve,St=Zn.reject,Bt=Zn.domain;try{ut?(pt||(ie.rejection===2&&Lt(ie),ie.rejection=1),ut===!0?or=Ke:(Bt&&Bt.enter(),or=ut(Ke),Bt&&(Bt.exit(),Yn=!0)),or===Zn.promise?St(Ue("Promise-chain cycle")):(dr=hn(or))?M(dr,or,Ot,St):Ot(or)):St(Ke)}catch(gn){Bt&&!Yn&&Bt.exit(),St(gn)}}ie.reactions=[],ie.notified=!1,me&&!ie.rejection&&mn(ie)})}},rn=function(ie,me,Ve){var Ke,pt;gt?((Ke=ze.createEvent("Event")).promise=me,Ke.reason=Ve,Ke.initEvent(ie,!1,!0),P.dispatchEvent(Ke)):Ke={promise:me,reason:Ve},!Me&&(pt=P["on"+ie])?pt(Ke):ie===lt&&_e("Unhandled promise rejection",Ve)},mn=function(ie){M(q,P,function(){var me,Ve=ie.facade,Ke=ie.value;if(kn(ie)&&(me=$e(function(){We?Et.emit("unhandledRejection",Ke,Ve):rn(lt,Ve,Ke)}),ie.rejection=We||kn(ie)?2:1,me.error))throw me.value})},kn=function(ie){return ie.rejection!==1&&!ie.parent},Lt=function(ie){M(q,P,function(){var me=ie.facade;We?Et.emit("rejectionHandled",me):rn("rejectionhandled",me,ie.value)})},Xn=function(ie,me,Ve){return function(Ke){ie(me,Ke,Ve)}},Q=function(ie,me,Ve){ie.done||(ie.done=!0,Ve&&(ie=Ve),ie.value=me,ie.state=2,Ft(ie,!0))},he=function(ie,me,Ve){if(!ie.done){ie.done=!0,Ve&&(ie=Ve);try{if(ie.facade===me)throw Ue("Promise can't be resolved itself");var Ke=hn(me);Ke?ce(function(){var pt={done:!1};try{M(Ke,me,Xn(he,pt,ie),Xn(Q,pt,ie))}catch(Yt){Q(pt,Yt,ie)}}):(ie.value=me,ie.state=1,Ft(ie,!1))}catch(pt){Q({done:!1},pt,ie)}}};if(at&&(De=(ve=function(ie){Z(this,De),ae(ie),M(h,this);var me=Je(this);try{ie(Xn(he,me),Xn(Q,me))}catch(Ve){Q(me,Ve)}}).prototype,(h=function(ie){mt(this,{type:Ye,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=L(De,{then:function(ie,me){var Ve=se(this),Ke=Ve.reactions,pt=Rt(Y(this,ve));return pt.ok=!re(ie)||ie,pt.fail=re(me)&&me,pt.domain=We?Et.domain:void 0,Ve.parent=!0,Ke[Ke.length]=pt,Ve.state!=0&&Ft(Ve,!1),pt.promise},catch:function(ie){return this.then(void 0,ie)}}),d=function(){var ie=new h,me=Je(ie);this.promise=ie,this.resolve=Xn(he,me),this.reject=Xn(Q,me)},Ae.f=Rt=function(ie){return ie===ve||ie===b?new d(ie):At(ie)},!j&&re(C)&&ue!==Object.prototype)){g=ue.then,fe||(N(ue,"then",function(ie,me){var Ve=this;return new ve(function(Ke,pt){M(g,Ve,Ke,pt)}).then(ie,me)},{unsafe:!0}),N(ue,"catch",De.catch,{unsafe:!0}));try{delete ue.constructor}catch(ie){}G&&G(ue,De)}E({global:!0,wrap:!0,forced:at},{Promise:ve}),U(ve,Ye,!1,!0),te(Ye),b=k(Ye),E({target:Ye,stat:!0,forced:at},{reject:function(ie){var me=Rt(this);return M(me.reject,void 0,ie),me.promise}}),E({target:Ye,stat:!0,forced:j||at},{resolve:function(ie){return Se(j&&this===b?ve:this,ie)}}),E({target:Ye,stat:!0,forced:$t},{all:function(ie){var me=this,Ve=Rt(me),Ke=Ve.resolve,pt=Ve.reject,Yt=$e(function(){var or=ae(me.resolve),dr=[],Yn=0,Zn=1;$(ie,function(ut){var Ot=Yn++,St=!1;Zn++,M(or,me,ut).then(function(Bt){St||(St=!0,dr[Ot]=Bt,--Zn||Ke(dr))},pt)}),--Zn||Ke(dr)});return Yt.error&&pt(Yt.value),Ve.promise},race:function(ie){var me=this,Ve=Rt(me),Ke=Ve.reject,pt=$e(function(){var Yt=ae(me.resolve);$(ie,function(or){M(Yt,me,or).then(Ve.resolve,Ke)})});return pt.error&&Ke(pt.value),Ve.promise}})},function(u,l,o){var h=o(7);u.exports=h.Promise},function(u,l,o){var h,d,b,g,E,j,P,k,M=o(7),C=o(64),N=o(50).f,L=o(168).set,G=o(169),U=o(211),te=o(212),ae=o(128),re=M.MutationObserver||M.WebKitMutationObserver,J=M.document,Z=M.process,X=M.Promise,$=N(M,"queueMicrotask"),V=$&&$.value;V||(h=function(){var Y,q;for(ae&&(Y=Z.domain)&&Y.exit();d;){q=d.fn,d=d.next;try{q()}catch(ce){throw d?g():b=void 0,ce}}b=void 0,Y&&Y.enter()},G||ae||te||!re||!J?!U&&X&&X.resolve?((P=X.resolve(void 0)).constructor=X,k=C(P.then,P),g=function(){k(h)}):ae?g=function(){Z.nextTick(h)}:(L=C(L,M),g=function(){L(h)}):(E=!0,j=J.createTextNode(""),new re(h).observe(j,{characterData:!0}),g=function(){j.data=E=!E})),u.exports=V||function(Y){var q={fn:Y,next:void 0};b&&(b.next=q),d||(d=q,g()),b=q}},function(u,l,o){var h=o(55),d=o(7);u.exports=/ipad|iphone|ipod/i.test(h)&&d.Pebble!==void 0},function(u,l,o){var h=o(55);u.exports=/web0s(?!.*chrome)/i.test(h)},function(u,l,o){var h=o(32),d=o(33),b=o(170);u.exports=function(g,E){if(h(g),d(E)&&E.constructor===g)return E;var j=b.f(g);return(0,j.resolve)(E),j.promise}},function(u,l,o){var h=o(7);u.exports=function(d,b){var g=h.console;g&&g.error&&(arguments.length==1?g.error(d):g.error(d,b))}},function(u,l){u.exports=function(o){try{return{error:!1,value:o()}}catch(h){return{error:!0,value:h}}}},function(u,l){u.exports=typeof window=="object"},function(u,l,o){var h=o(40),d=o(75),b=o(45);u.exports=function(g){for(var E=h(this),j=b(E),P=arguments.length,k=d(P>1?arguments[1]:void 0,j),M=P>2?arguments[2]:void 0,C=M===void 0?j:d(M,j);C>k;)E[k++]=g;return E}},function(u,l,o){var h=o(16),d=o(7),b=o(15),g=o(59),E=o(160),j=o(219),P=o(18),k=d.RangeError,M=d.String,C=Math.floor,N=b(j),L=b("".slice),G=b(1 .toFixed),U=function(J,Z,X){return Z===0?X:Z%2==1?U(J,Z-1,X*J):U(J*J,Z/2,X)},te=function(J,Z,X){for(var $=-1,V=X;++$<6;)V+=Z*J[$],J[$]=V%1e7,V=C(V/1e7)},ae=function(J,Z){for(var X=6,$=0;--X>=0;)$+=J[X],J[X]=C($/Z),$=$%Z*1e7},re=function(J){for(var Z=6,X="";--Z>=0;)if(X!==""||Z===0||J[Z]!==0){var $=M(J[Z]);X=X===""?$:X+N("0",7-$.length)+$}return X};h({target:"Number",proto:!0,forced:P(function(){return G(8e-5,3)!=="0.000"||G(.9,0)!=="1"||G(1.255,2)!=="1.25"||G(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!P(function(){G({})})},{toFixed:function(J){var Z,X,$,V,Y=E(this),q=g(J),ce=[0,0,0,0,0,0],Se="",_e="0";if(q<0||q>20)throw k("Incorrect fraction digits");if(Y!=Y)return"NaN";if(Y<=-1e21||Y>=1e21)return M(Y);if(Y<0&&(Se="-",Y=-Y),Y>1e-21)if(X=(Z=function(Ae){for(var $e=0,je=Ae;je>=4096;)$e+=12,je/=4096;for(;je>=2;)$e+=1,je/=2;return $e}(Y*U(2,69,1))-69)<0?Y*U(2,-Z,1):Y/U(2,Z,1),X*=4503599627370496,(Z=52-Z)>0){for(te(ce,0,X),$=q;$>=7;)te(ce,1e7,0),$-=7;for(te(ce,U(10,$,1),0),$=Z-1;$>=23;)ae(ce,1<<23),$-=23;ae(ce,1<<$),te(ce,1,1),ae(ce,2),_e=re(ce)}else te(ce,0,X),te(ce,1<<-Z,0),_e=re(ce)+N("0",q);return _e=q>0?Se+((V=_e.length)<=q?"0."+N("0",q-V)+_e:L(_e,0,V-q)+"."+L(_e,V-q)):Se+_e}})},function(u,l,o){var h=o(7),d=o(59),b=o(39),g=o(44),E=h.RangeError;u.exports=function(j){var P=b(g(this)),k="",M=d(j);if(M<0||M==1/0)throw E("Wrong number of repetitions");for(;M>0;(M>>>=1)&&(P+=P))1&M&&(k+=P);return k}},function(u,l,o){var h=o(36),d=o(15),b=o(77),g=o(41),E=d(o(84).f),j=d([].push),P=function(k){return function(M){for(var C,N=g(M),L=b(N),G=L.length,U=0,te=[];G>U;)C=L[U++],h&&!E(N,C)||j(te,k?[C,N[C]]:N[C]);return te}};u.exports={entries:P(!0),values:P(!1)}},function(u,l){u.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(u,l,o){o.r(l),o.d(l,"observer",function(){return Ci}),o.d(l,"LogicFlow",function(){return Rb}),o.d(l,"h",function(){return fe.g}),o.d(l,"LogicFlowUtil",function(){return h}),o.d(l,"BaseNode",function(){return za}),o.d(l,"RectNode",function(){return Sg}),o.d(l,"CircleNode",function(){return Tg}),o.d(l,"PolygonNode",function(){return Rg}),o.d(l,"DiamondNode",function(){return Bg}),o.d(l,"EllipseNode",function(){return Gg}),o.d(l,"TextNode",function(){return Xg}),o.d(l,"HtmlNode",function(){return qg}),o.d(l,"BaseEdge",function(){return hp}),o.d(l,"LineEdge",function(){return lb}),o.d(l,"PolylineEdge",function(){return yb}),o.d(l,"BezierEdge",function(){return mb}),o.d(l,"Arrow",function(){return pA}),o.d(l,"BaseEdgeModel",function(){return kf}),o.d(l,"BezierEdgeModel",function(){return kv}),o.d(l,"LineEdgeModel",function(){return Is}),o.d(l,"PolylineEdgeModel",function(){return wc}),o.d(l,"BaseNodeModel",function(){return Ba}),o.d(l,"CircleNodeModel",function(){return Lv}),o.d(l,"DiamondNodeModel",function(){return Wv}),o.d(l,"EllipseNodeModel",function(){return Xv}),o.d(l,"PolygonNodeModel",function(){return Jv}),o.d(l,"RectNodeModel",function(){return ng}),o.d(l,"TextNodeModel",function(){return ag}),o.d(l,"HtmlNodeModel",function(){return sg}),o.d(l,"EditConfigModel",function(){return Vl}),o.d(l,"GraphModel",function(){return e0}),o.d(l,"SnaplineModel",function(){return B_}),o.d(l,"Keyboard",function(){return E1}),o.d(l,"get",function(){return E0}),o.d(l,"defaults",function(){return j0}),o.d(l,"ElementState",function(){return vn}),o.d(l,"ModelType",function(){return Zt}),o.d(l,"ElementType",function(){return Jn}),o.d(l,"EventType",function(){return ht}),o.d(l,"formateAnchorConnectValidateData",function(){return gc});var h={};o.r(h),o.d(h,"createUuid",function(){return Zi}),o.d(h,"refreshGraphId",function(){return dc}),o.d(h,"StepDrag",function(){return ei}),o.d(h,"setupEdgeModel",function(){return xn}),o.d(h,"isBboxOverLapping",function(){return zh}),o.d(h,"filterRepeatPoints",function(){return Ou}),o.d(h,"getSimplePolyline",function(){return zs}),o.d(h,"getExpandedBBox",function(){return Sc}),o.d(h,"pointDirection",function(){return $h}),o.d(h,"getExpandedBBoxPoint",function(){return jc}),o.d(h,"mergeBBox",function(){return If}),o.d(h,"getBBoxOfPoints",function(){return ta}),o.d(h,"getPointsFromBBox",function(){return ka}),o.d(h,"isPointOutsideBBox",function(){return Pc}),o.d(h,"getBBoxXCrossPoints",function(){return Fh}),o.d(h,"getBBoxYCrossPoints",function(){return Wh}),o.d(h,"getBBoxCrossPointsByPoint",function(){return hr}),o.d(h,"estimateDistance",function(){return wr}),o.d(h,"costByPoints",function(){return Gh}),o.d(h,"heuristicCostEstimate",function(){return $s}),o.d(h,"rebuildPath",function(){return Uh}),o.d(h,"removeClosePointFromOpenList",function(){return Hh}),o.d(h,"isSegmentsIntersected",function(){return Da}),o.d(h,"isSegmentCrossingBBox",function(){return Fs}),o.d(h,"getNextNeighborPoints",function(){return Lf}),o.d(h,"pathFinder",function(){return Na}),o.d(h,"getBoxByOriginNode",function(){return Bf}),o.d(h,"pointFilter",function(){return Ws}),o.d(h,"getPolylinePoints",function(){return Gs}),o.d(h,"getLongestEdge",function(){return Xh}),o.d(h,"isSegmentsInNode",function(){return zf}),o.d(h,"isSegmentsCrossNode",function(){return $f}),o.d(h,"getCrossPointInRect",function(){return Ff}),o.d(h,"segmentDirection",function(){return Ac}),o.d(h,"points2PointsList",function(){return na}),o.d(h,"getSimplePoints",function(){return Us}),o.d(h,"getBytesLength",function(){return Hs}),o.d(h,"getTextWidth",function(){return Uf}),o.d(h,"getAppendAttributes",function(){return Yh}),o.d(h,"getBezierControlPoints",function(){return Hf}),o.d(h,"getBezierPoints",function(){return xr}),o.d(h,"getEndTangent",function(){return Xf}),o.d(h,"getClosestPointOfPolyline",function(){return Yf}),o.d(h,"pickEdgeConfig",function(){return Xs}),o.d(h,"twoPointDistance",function(){return Tc}),o.d(h,"createEdgeGenerator",function(){return Vh}),o.d(h,"snapToGrid",function(){return Ki}),o.d(h,"getGridOffset",function(){return js}),o.d(h,"sampleCubic",function(){return Cf}),o.d(h,"getThetaOfVector",function(){return Vr}),o.d(h,"degrees",function(){return Ma}),o.d(h,"Vector",function(){return W}),o.d(h,"Point",function(){return oe}),o.d(h,"Matrix",function(){return oa}),o.d(h,"RotateMatrix",function(){return Nc}),o.d(h,"ScaleMatrix",function(){return rp}),o.d(h,"TranslateMatrix",function(){return ia});var d=o(1),b=o(10);if(!b.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!d.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var g=o(43),E=Object(g.b)("observerBatching");function j(t){t()}var P=!1;function k(){return P}function M(t){return Object(d.t)(t)}var C,N=1e4,L=new Set;function G(){C===void 0&&(C=setTimeout(U,1e4))}function U(){C=void 0;var t=Date.now();L.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,L.delete(e))}),L.size>0&&G()}var te=!1,ae=[],re={};function J(t){return"observer"+t}function Z(t,e,n){e===void 0&&(e="observed"),n===void 0&&(n=re),k();var i,s=function(x){return function(){te?ae.push(x):x()}}((n.useForceUpdate||g.d)()),c=b.d.useRef(null);if(!c.current){var p=new d.c(J(e),function(){v.mounted?s():(p.dispose(),c.current=null)}),v=function(x){return{cleanAt:Date.now()+N,reaction:x}}(p);c.current=v,i=c,L.add(i),G()}var m=c.current.reaction;return b.d.useDebugValue(m,M),b.d.useEffect(function(){var x;return x=c,L.delete(x),c.current?c.current.mounted=!0:(c.current={reaction:new d.c(J(e),function(){s()}),cleanAt:1/0},s()),function(){c.current.reaction.dispose(),c.current=null}},[]),function(x){te=!0,ae=[];try{var S=x();te=!1;var D=ae.length>0?ae:void 0;return b.d.useLayoutEffect(function(){D&&D.forEach(function(I){return I()})},[D]),S}finally{te=!1}}(function(){var x,S;if(m.track(function(){try{x=t()}catch(D){S=D}}),S)throw S;return x})}var X=function(){return X=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},X.apply(this,arguments)};function $(t,e){var n,i,s,c=X({forwardRef:!1},e),p=t.displayName||t.name,v=function(m,x){return Z(function(){return t(m,x)},p)};return v.displayName=p,n=c.forwardRef?Object(b.f)(Object(b.e)(v)):Object(b.f)(v),i=t,s=n,Object.keys(i).forEach(function(m){V[m]||Object.defineProperty(s,m,Object.getOwnPropertyDescriptor(i,m))}),n.displayName=p,n}var V={$$typeof:!0,render:!0,compare:!0,type:!0};function Y(t){var e=t.children,n=t.render,i=e||n;return typeof i!="function"?null:Z(i)}function q(t,e,n,i,s){var c=e==="children"?"render":"children",p=typeof t[e]=="function",v=typeof t[c]=="function";return p&&v?new Error("MobX Observer: Do not use children and render in the same time in`"+n):p||v?null:new Error("Invalid prop `"+s+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}Y.propTypes={children:q,render:q},Y.displayName="Observer";var ce;(ce=b.g)||(ce=j),Object(d.n)({reactionScheduler:ce}),Object(g.a)()[E]=!0;var Se=0,_e={};function Ae(t){return _e[t]||(_e[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+Se+")";return Se++,n}(t)),_e[t]}function $e(t,e){if(je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var s=0;s<n.length;s++)if(!Object.hasOwnProperty.call(e,n[s])||!je(t[n[s]],e[n[s]]))return!1;return!0}function je(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ge(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Pe=Ae("patchMixins"),Te=Ae("patchedDefinition");function We(t,e){for(var n=this,i=arguments.length,s=new Array(i>2?i-2:0),c=2;c<i;c++)s[c-2]=arguments[c];e.locks++;try{var p;return t!=null&&(p=t.apply(this,s)),p}finally{e.locks--,e.locks===0&&e.methods.forEach(function(v){v.apply(n,s)})}}function ot(t,e){return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];We.call.apply(We,[this,t,e].concat(i))}}function xt(t,e,n){var i=function(v,m){var x=v[Pe]=v[Pe]||{},S=x[m]=x[m]||{};return S.locks=S.locks||0,S.methods=S.methods||[],S}(t,e);i.methods.indexOf(n)<0&&i.methods.push(n);var s=Object.getOwnPropertyDescriptor(t,e);if(!s||!s[Te]){var c=t[e],p=Ye(t,e,s?s.enumerable:void 0,i,c);Object.defineProperty(t,e,p)}}function Ye(t,e,n,i,s){var c,p=ot(s,i);return(c={})[Te]=!0,c.get=function(){return p},c.set=function(v){if(this===t)p=ot(v,i);else{var m=Ye(this,e,n,i,v);Object.defineProperty(this,e,m)}},c.configurable=!0,c.enumerable=n,c}var Je=d.a||"$mobx",mt=Ae("isMobXReactObserver"),se=Ae("isUnmounted"),ue=Ae("skipRender"),ve=Ae("isForcingUpdate");function De(t){var e=t.prototype;if(t[mt]?Ue(e):t[mt]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==b.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==Et)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=Et;Rt(e,"props"),Rt(e,"state");var n=e.render;return e.render=function(){return ze.call(this,n)},xt(e,"componentWillUnmount",function(){var i;(i=this.render[Je])===null||i===void 0||i.dispose(),this[se]=!0,!this.render[Je]&&Ue(this)}),t}function Ue(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function ze(t){var e=this;ge(this,ue,!1),ge(this,ve,!1);var n=Ue(this),i=t.bind(this),s=!1,c=new d.c(n+".render()",function(){if(!s&&(s=!0,e[se]!==!0)){var v=!0;try{ge(e,ve,!0),e[ue]||b.a.prototype.forceUpdate.call(e),v=!1}finally{ge(e,ve,!1),v&&c.dispose()}}});function p(){s=!1;var v=void 0,m=void 0;if(c.track(function(){try{m=Object(d.d)(!1,i)}catch(x){v=x}}),v)throw v;return m}return c.reactComponent=this,p[Je]=c,this.render=p,p.call(this)}function Et(t,e){return this.state!==e||!$e(this.props,t)}function Rt(t,e){var n=Ae("reactProp_"+e+"_valueHolder"),i=Ae("reactProp_"+e+"_atomHolder");function s(){return this[i]||ge(this,i,Object(d.o)("reactive "+e)),this[i]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var c=!1;return d.f&&d.e&&(c=Object(d.f)(!0)),s.call(this).reportObserved(),d.f&&d.e&&Object(d.e)(c),this[n]},set:function(c){this[ve]||$e(this[n],c)?ge(this,n,c):(ge(this,n,c),ge(this,ue,!0),s.call(this).reportChanged(),ge(this,ue,!1))}})}var At=typeof Symbol=="function"&&Symbol.for,gt=At?Symbol.for("react.forward_ref"):typeof b.e=="function"&&Object(b.e)(function(t){return null}).$$typeof,Me=At?Symbol.for("react.memo"):typeof b.f=="function"&&Object(b.f)(function(t){return null}).$$typeof;function lt(t){if(t.isMobxInjector,Me&&t.$$typeof===Me)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(gt&&t.$$typeof===gt){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(b.e)(function(){var n=arguments;return Object(b.c)(Y,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(b.a,t)?De(t):$(t)}if(!b.a)throw new Error("mobx-react requires React to be available");if(!d.C)throw new Error("mobx-react requires mobx to be available");var fe=o(0);o(4),o(8),o(2),o(3),o(52),o(6),o(5),o(11),o(37),o(27),o(21),o(20),o(24),o(22),o(25),o(9),o(17),o(23),o(19),o(192),o(156),o(104),o(157),o(158),o(199),o(61);var at=function(t,e){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=e(t[n],n,t);return s},$t=function(){this.__data__=[],this.size=0},hn=function(t,e){return t===e||t!=t&&e!=e},Ft=function(t,e){for(var n=t.length;n--;)if(hn(t[n][0],e))return n;return-1},rn=Array.prototype.splice,mn=function(t){var e=this.__data__,n=Ft(e,t);return!(n<0)&&(n==e.length-1?e.pop():rn.call(e,n,1),--this.size,!0)},kn=function(t){var e=this.__data__,n=Ft(e,t);return n<0?void 0:e[n][1]},Lt=function(t){return Ft(this.__data__,t)>-1},Xn=function(t,e){var n=this.__data__,i=Ft(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};function Q(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Q.prototype.clear=$t,Q.prototype.delete=mn,Q.prototype.get=kn,Q.prototype.has=Lt,Q.prototype.set=Xn;var he=Q,ie=function(){this.__data__=new he,this.size=0},me=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ve=function(t){return this.__data__.get(t)},Ke=function(t){return this.__data__.has(t)},pt=o(31),Yt=pt.a.Symbol,or=Object.prototype,dr=or.hasOwnProperty,Yn=or.toString,Zn=Yt?Yt.toStringTag:void 0,ut=function(t){var e=dr.call(t,Zn),n=t[Zn];try{t[Zn]=void 0;var i=!0}catch(c){}var s=Yn.call(t);return i&&(e?t[Zn]=n:delete t[Zn]),s},Ot=Object.prototype.toString,St=function(t){return Ot.call(t)},Bt=Yt?Yt.toStringTag:void 0,gn=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Bt&&Bt in Object(t)?ut(t):St(t)},Bn=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},$o,Eo=function(t){if(!Bn(t))return!1;var e=gn(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Fo=pt.a["__core-js_shared__"],Bi=($o=/[^.]+$/.exec(Fo&&Fo.keys&&Fo.keys.IE_PROTO||""))?"Symbol(src)_1."+$o:"",Cl=function(t){return!!Bi&&Bi in t},zu=Function.prototype.toString,Zr=function(t){if(t!=null){try{return zu.call(t)}catch(e){}try{return t+""}catch(e){}}return""},ma=/^\[object .+?Constructor\]$/,ft=Function.prototype,Il=Object.prototype,$u=ft.toString,Fu=Il.hasOwnProperty,kr=RegExp("^"+$u.call(Fu).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$r=function(t){return!(!Bn(t)||Cl(t))&&(Eo(t)?kr:ma).test(Zr(t))},qa=function(t,e){return t==null?void 0:t[e]},fo=function(t,e){var n=qa(t,e);return $r(n)?n:void 0},Jr=fo(pt.a,"Map"),po=fo(Object,"create"),Wu=function(){this.__data__=po?po(null):{},this.size=0},Gu=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Kc=Object.prototype.hasOwnProperty,_a=function(t){var e=this.__data__;if(po){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return Kc.call(e,t)?e[t]:void 0},qc=Object.prototype.hasOwnProperty,Uu=function(t){var e=this.__data__;return po?e[t]!==void 0:qc.call(e,t)},Ll=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=po&&e===void 0?"__lodash_hash_undefined__":e,this};function hi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}hi.prototype.clear=Wu,hi.prototype.delete=Gu,hi.prototype.get=_a,hi.prototype.has=Uu,hi.prototype.set=Ll;var Zc=hi,Wo=function(){this.size=0,this.__data__={hash:new Zc,map:new(Jr||he),string:new Zc}},Hu=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},Za=function(t,e){var n=t.__data__;return Hu(e)?n[typeof e=="string"?"string":"hash"]:n.map},Xu=function(t){var e=Za(this,t).delete(t);return this.size-=e?1:0,e},Yu=function(t){return Za(this,t).get(t)},Bl=function(t){return Za(this,t).has(t)},Jc=function(t,e){var n=Za(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};function yn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}yn.prototype.clear=Wo,yn.prototype.delete=Xu,yn.prototype.get=Yu,yn.prototype.has=Bl,yn.prototype.set=Jc;var dn=yn,Qc=function(t,e){var n=this.__data__;if(n instanceof he){var i=n.__data__;if(!Jr||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new dn(i)}return n.set(t,e),this.size=n.size,this};function zi(t){var e=this.__data__=new he(t);this.size=e.size}zi.prototype.clear=ie,zi.prototype.delete=me,zi.prototype.get=Ve,zi.prototype.has=Ke,zi.prototype.set=Qc;var Go=zi,Vu=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},es=function(t){return this.__data__.has(t)};function Un(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new dn;++e<n;)this.add(t[e])}Un.prototype.add=Un.prototype.push=Vu,Un.prototype.has=es;var Ku=Un,Oa=function(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1},qu=function(t,e){return t.has(e)},Ja=function(t,e,n,i,s,c){var p=1&n,v=t.length,m=e.length;if(v!=m&&!(p&&m>v))return!1;var x=c.get(t),S=c.get(e);if(x&&S)return x==e&&S==t;var D=-1,I=!0,H=2&n?new Ku:void 0;for(c.set(t,e),c.set(e,t);++D<v;){var ee=t[D],ne=e[D];if(i)var de=p?i(ne,ee,D,e,t,c):i(ee,ne,D,t,e,c);if(de!==void 0){if(de)continue;I=!1;break}if(H){if(!Oa(e,function(ye,xe){if(!qu(H,xe)&&(ee===ye||s(ee,ye,n,i,c)))return H.push(xe)})){I=!1;break}}else if(ee!==ne&&!s(ee,ne,n,i,c)){I=!1;break}}return c.delete(t),c.delete(e),I},yr=pt.a.Uint8Array,Zu=function(t){var e=-1,n=Array(t.size);return t.forEach(function(i,s){n[++e]=[s,i]}),n},ts=function(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n},Ju=Yt?Yt.prototype:void 0,Qa=Ju?Ju.valueOf:void 0,$i=function(t,e,n,i,s,c,p){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!c(new yr(t),new yr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return hn(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var v=Zu;case"[object Set]":var m=1&i;if(v||(v=ts),t.size!=e.size&&!m)return!1;var x=p.get(t);if(x)return x==e;i|=2,p.set(t,e);var S=Ja(v(t),v(e),i,s,c,p);return p.delete(t),S;case"[object Symbol]":if(Qa)return Qa.call(t)==Qa.call(e)}return!1},So=function(t,e){for(var n=-1,i=e.length,s=t.length;++n<i;)t[s+n]=e[n];return t},Sn=Array.isArray,ns=function(t,e,n){var i=e(t);return Sn(t)?i:So(i,n(t))},Dr=function(t,e){for(var n=-1,i=t==null?0:t.length,s=0,c=[];++n<i;){var p=t[n];e(p,n,t)&&(c[s++]=p)}return c},rs=function(){return[]},os=Object.prototype.propertyIsEnumerable,Sr=Object.getOwnPropertySymbols,Nr=Sr?function(t){return t==null?[]:(t=Object(t),Dr(Sr(t),function(e){return os.call(t,e)}))}:rs,Qu=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i},sn=function(t){return t!=null&&typeof t=="object"},ir=function(t){return sn(t)&&gn(t)=="[object Arguments]"},eu=Object.prototype,is=eu.hasOwnProperty,ec=eu.propertyIsEnumerable,tu=ir(function(){return arguments}())?ir:function(t){return sn(t)&&is.call(t,"callee")&&!ec.call(t,"callee")},jo=tu,Uo=o(48),Fi=/^(?:0|[1-9]\d*)$/,Rr=function(t,e){var n=typeof t;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&Fi.test(t))&&t>-1&&t%1==0&&t<e},Ho=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},on={};on["[object Float32Array]"]=on["[object Float64Array]"]=on["[object Int8Array]"]=on["[object Int16Array]"]=on["[object Int32Array]"]=on["[object Uint8Array]"]=on["[object Uint8ClampedArray]"]=on["[object Uint16Array]"]=on["[object Uint32Array]"]=!0,on["[object Arguments]"]=on["[object Array]"]=on["[object ArrayBuffer]"]=on["[object Boolean]"]=on["[object DataView]"]=on["[object Date]"]=on["[object Error]"]=on["[object Function]"]=on["[object Map]"]=on["[object Number]"]=on["[object Object]"]=on["[object RegExp]"]=on["[object Set]"]=on["[object String]"]=on["[object WeakMap]"]=!1;var Cr=function(t){return sn(t)&&Ho(t.length)&&!!on[gn(t)]},Po=function(t){return function(e){return t(e)}},fr=o(49),nu=fr.a&&fr.a.isTypedArray,wa=nu?Po(nu):Cr,tc=Object.prototype.hasOwnProperty,zn=function(t,e){var n=Sn(t),i=!n&&jo(t),s=!n&&!i&&Object(Uo.a)(t),c=!n&&!i&&!s&&wa(t),p=n||i||s||c,v=p?Qu(t.length,String):[],m=v.length;for(var x in t)!e&&!tc.call(t,x)||p&&(x=="length"||s&&(x=="offset"||x=="parent")||c&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||Rr(x,m))||v.push(x);return v},ru=Object.prototype,Xo=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||ru)},Qr=function(t,e){return function(n){return t(e(n))}},nc=Qr(Object.keys,Object),zl=Object.prototype.hasOwnProperty,rc=function(t){if(!Xo(t))return nc(t);var e=[];for(var n in Object(t))zl.call(t,n)&&n!="constructor"&&e.push(n);return e},Vn=function(t){return t!=null&&Ho(t.length)&&!Eo(t)},di=function(t){return Vn(t)?zn(t):rc(t)},Ao=function(t){return ns(t,di,Nr)},jr=Object.prototype.hasOwnProperty,oc=function(t,e,n,i,s,c){var p=1&n,v=Ao(t),m=v.length;if(m!=Ao(e).length&&!p)return!1;for(var x=m;x--;){var S=v[x];if(!(p?S in e:jr.call(e,S)))return!1}var D=c.get(t),I=c.get(e);if(D&&I)return D==e&&I==t;var H=!0;c.set(t,e),c.set(e,t);for(var ee=p;++x<m;){var ne=t[S=v[x]],de=e[S];if(i)var ye=p?i(de,ne,S,e,t,c):i(ne,de,S,t,e,c);if(!(ye===void 0?ne===de||s(ne,de,n,i,c):ye)){H=!1;break}ee||(ee=S=="constructor")}if(H&&!ee){var xe=t.constructor,Ce=e.constructor;xe==Ce||!("constructor"in t)||!("constructor"in e)||typeof xe=="function"&&xe instanceof xe&&typeof Ce=="function"&&Ce instanceof Ce||(H=!1)}return c.delete(t),c.delete(e),H},Fr=fo(pt.a,"DataView"),yi=fo(pt.a,"Promise"),ou=fo(pt.a,"Set"),To=fo(pt.a,"WeakMap"),Wr="[object Map]",Ir="[object Promise]",eo="[object Set]",Mo="[object WeakMap]",we="[object DataView]",Ne=Zr(Fr),Ie=Zr(Jr),et=Zr(yi),Wt=Zr(ou),en=Zr(To),An=gn;(Fr&&An(new Fr(new ArrayBuffer(1)))!=we||Jr&&An(new Jr)!=Wr||yi&&An(yi.resolve())!=Ir||ou&&An(new ou)!=eo||To&&An(new To)!=Mo)&&(An=function(t){var e=gn(t),n=e=="[object Object]"?t.constructor:void 0,i=n?Zr(n):"";if(i)switch(i){case Ne:return we;case Ie:return Wr;case et:return Ir;case Wt:return eo;case en:return Mo}return e});var O=An,w="[object Arguments]",T="[object Array]",B="[object Object]",K=Object.prototype.hasOwnProperty,pe=function(t,e,n,i,s,c){var p=Sn(t),v=Sn(e),m=p?T:O(t),x=v?T:O(e),S=(m=m==w?B:m)==B,D=(x=x==w?B:x)==B,I=m==x;if(I&&Object(Uo.a)(t)){if(!Object(Uo.a)(e))return!1;p=!0,S=!1}if(I&&!S)return c||(c=new Go),p||wa(t)?Ja(t,e,n,i,s,c):$i(t,e,m,n,i,s,c);if(!(1&n)){var H=S&&K.call(t,"__wrapped__"),ee=D&&K.call(e,"__wrapped__");if(H||ee){var ne=H?t.value():t,de=ee?e.value():e;return c||(c=new Go),s(ne,de,n,i,c)}}return!!I&&(c||(c=new Go),oc(t,e,n,i,s,c))},Ee=function t(e,n,i,s,c){return e===n||(e==null||n==null||!sn(e)&&!sn(n)?e!=e&&n!=n:pe(e,n,i,s,t,c))},Fe=function(t,e,n,i){var s=n.length,c=s,p=!i;if(t==null)return!c;for(t=Object(t);s--;){var v=n[s];if(p&&v[2]?v[1]!==t[v[0]]:!(v[0]in t))return!1}for(;++s<c;){var m=(v=n[s])[0],x=t[m],S=v[1];if(p&&v[2]){if(x===void 0&&!(m in t))return!1}else{var D=new Go;if(i)var I=i(x,S,m,t,e,D);if(!(I===void 0?Ee(S,x,3,i,D):I))return!1}}return!0},ct=function(t){return t==t&&!Bn(t)},qt=function(t){for(var e=di(t),n=e.length;n--;){var i=e[n],s=t[i];e[n]=[i,s,ct(s)]}return e},tt=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},_n=function(t){var e=qt(t);return e.length==1&&e[0][2]?tt(e[0][0],e[0][1]):function(n){return n===t||Fe(n,t,e)}},Gt=function(t){return typeof t=="symbol"||sn(t)&&gn(t)=="[object Symbol]"},ln=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,to=/^\w*$/,Rn=function(t,e){if(Sn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Gt(t))||to.test(t)||!ln.test(t)||e!=null&&t in Object(e)};function Lr(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var i=arguments,s=e?e.apply(this,i):i[0],c=n.cache;if(c.has(s))return c.get(s);var p=t.apply(this,i);return n.cache=c.set(s,p)||c,p};return n.cache=new(Lr.Cache||dn),n}Lr.Cache=dn;var Yo=Lr,Vo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xa=/\\(\\)?/g,ic=function(t){var e=Yo(t,function(i){return n.size===500&&n.clear(),i}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Vo,function(n,i,s,c){e.push(s?c.replace(xa,"$1"):i||n)}),e}),vi=Yt?Yt.prototype:void 0,iu=vi?vi.toString:void 0,Pr=function t(e){if(typeof e=="string")return e;if(Sn(e))return at(e,t)+"";if(Gt(e))return iu?iu.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Ea=function(t){return t==null?"":Pr(t)},Wi=function(t,e){return Sn(t)?t:Rn(t,e)?[t]:ic(Ea(t))},gi=function(t){if(typeof t=="string"||Gt(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},bi=function(t,e){for(var n=0,i=(e=Wi(e,t)).length;t!=null&&n<i;)t=t[gi(e[n++])];return n&&n==i?t:void 0},au=function(t,e,n){var i=t==null?void 0:bi(t,e);return i===void 0?n:i},Ry=function(t,e){return t!=null&&e in Object(t)},Cy=function(t,e,n){for(var i=-1,s=(e=Wi(e,t)).length,c=!1;++i<s;){var p=gi(e[i]);if(!(c=t!=null&&n(t,p)))break;t=t[p]}return c||++i!=s?c:!!(s=t==null?0:t.length)&&Ho(s)&&Rr(p,s)&&(Sn(t)||jo(t))},Rp=function(t,e){return t!=null&&Cy(t,e,Ry)},as=function(t,e){return Rn(t)&&ct(e)?tt(gi(t),e):function(n){var i=au(n,t);return i===void 0&&i===e?Rp(n,t):Ee(e,i,3)}},uu=function(t){return t},$l=function(t){return function(e){return e==null?void 0:e[t]}},Iy=function(t){return function(e){return bi(e,t)}},Cp=function(t){return Rn(t)?$l(gi(t)):Iy(t)},Fl=function(t){return typeof t=="function"?t:t==null?uu:typeof t=="object"?Sn(t)?as(t[0],t[1]):_n(t):Cp(t)},Ip=function(t){return function(e,n,i){for(var s=-1,c=Object(e),p=i(e),v=p.length;v--;){var m=p[t?v:++s];if(n(c[m],m,c)===!1)break}return e}}(),pr=function(t,e){return function(n,i){if(n==null)return n;if(!Vn(n))return t(n,i);for(var s=n.length,c=e?s:-1,p=Object(n);(e?c--:++c<s)&&i(p[c],c,p)!==!1;);return n}}(function(t,e){return t&&Ip(t,e,di)}),Ar=function(t,e){var n=-1,i=Vn(t)?Array(t.length):[];return pr(t,function(s,c,p){i[++n]=e(s,c,p)}),i},us=function(t,e){return(Sn(t)?at:Ar)(t,Fl(e))};Object(d.n)({isolateGlobalState:!0});var cs=function(){try{var t=fo(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),ss=function(t,e,n){e=="__proto__"&&cs?cs(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Ly=Object.prototype.hasOwnProperty,cu=function(t,e,n){var i=t[e];Ly.call(t,e)&&hn(i,n)&&(n!==void 0||e in t)||ss(t,e,n)},Ko=function(t,e,n,i){var s=!n;n||(n={});for(var c=-1,p=e.length;++c<p;){var v=e[c],m=i?i(n[v],t[v],v,n,t):void 0;m===void 0&&(m=t[v]),s?ss(n,v,m):cu(n,v,m)}return n},Wl=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Sa=Math.max,su=function(t,e,n){return e=Sa(e===void 0?t.length-1:e,0),function(){for(var i=arguments,s=-1,c=Sa(i.length-e,0),p=Array(c);++s<c;)p[s]=i[e+s];s=-1;for(var v=Array(e+1);++s<e;)v[s]=i[s];return v[e]=n(p),Wl(t,this,v)}},ac=function(t){return function(){return t}},ls=cs?function(t,e){return cs(t,"toString",{configurable:!0,enumerable:!1,value:ac(e),writable:!0})}:uu,lu=Date.now,By=function(t){var e=0,n=0;return function(){var i=lu(),s=16-(i-n);if(n=i,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},Lp=By(ls),zy=function(t,e){return Lp(su(t,e,uu),t+"")},$y=function(t,e,n){if(!Bn(n))return!1;var i=typeof e;return!!(i=="number"?Vn(n)&&Rr(e,n.length):i=="string"&&e in n)&&hn(n[e],t)},Bp=function(t){return zy(function(e,n){var i=-1,s=n.length,c=s>1?n[s-1]:void 0,p=s>2?n[2]:void 0;for(c=t.length>3&&typeof c=="function"?(s--,c):void 0,p&&$y(n[0],n[1],p)&&(c=s<3?void 0:c,s=1),e=Object(e);++i<s;){var v=n[i];v&&t(e,v,i,c)}return e})},fs=Object.prototype.hasOwnProperty,br=Bp(function(t,e){if(Xo(e)||Vn(e))Ko(e,di(e),t);else for(var n in e)fs.call(e,n)&&cu(t,n,e[n])}),zp=function(t,e,n,i){if(!Bn(t))return t;for(var s=-1,c=(e=Wi(e,t)).length,p=c-1,v=t;v!=null&&++s<c;){var m=gi(e[s]),x=n;if(m==="__proto__"||m==="constructor"||m==="prototype")return t;if(s!=p){var S=v[m];(x=i?i(S,m,v):void 0)===void 0&&(x=Bn(S)?S:Rr(e[s+1])?[]:{})}cu(v,m,x),v=v[m]}return t},z=function(t,e,n){for(var i=-1,s=e.length,c={};++i<s;){var p=e[i],v=bi(t,p);n(v,p)&&zp(c,Wi(p,t),v)}return c},fu=function(t,e){return z(t,e,function(n,i){return Rp(t,i)})},uc=Yt?Yt.isConcatSpreadable:void 0,ho=function(t){return Sn(t)||jo(t)||!!(uc&&t&&t[uc])},un=function t(e,n,i,s,c){var p=-1,v=e.length;for(i||(i=ho),c||(c=[]);++p<v;){var m=e[p];n>0&&i(m)?n>1?t(m,n-1,i,s,c):So(c,m):s||(c[c.length]=m)}return c},ja=function(t){return t!=null&&t.length?un(t,1):[]},On,qo,Gi,yo,Gl,Ul,$p,Fp,ps,pu,cc,Wp,Hl,Zo,hs,Ui,no,Xl,Yl,mi=function(t){return Lp(su(t,void 0,ja),t+"")}(function(t,e){return t==null?{}:fu(t,e)});function Cn(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Gp(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Up(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kn(t,e,n,i,s){var c={};return Object.keys(i).forEach(function(p){c[p]=i[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var vn,vr,Zt,Jn,ht,Tn,ds={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},_i=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Vl=(qo=Kn((On=function(){function t(i){(function(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Cn(this,"isSilentMode",qo,this),Cn(this,"stopZoomGraph",Gi,this),Cn(this,"stopScrollGraph",yo,this),Cn(this,"stopMoveGraph",Gl,this),Cn(this,"adjustEdge",Ul,this),Cn(this,"adjustEdgeMiddle",$p,this),Cn(this,"adjustEdgeStartAndEnd",Fp,this),Cn(this,"adjustNodePosition",ps,this),Cn(this,"hideAnchors",pu,this),Cn(this,"allowRotation",cc,this),Cn(this,"hoverOutline",Wp,this),Cn(this,"nodeSelectedOutline",Hl,this),Cn(this,"edgeSelectedOutline",Zo,this),Cn(this,"nodeTextEdit",hs,this),Cn(this,"edgeTextEdit",Ui,this),Cn(this,"nodeTextDraggable",no,this),Cn(this,"edgeTextDraggable",Xl,this),Cn(this,"autoExpand",Yl,this),Up(this,"multipleSelectKey",""),Up(this,"defaultConfig",{}),br(this,this.getConfigDetail(i))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(i){var s=this.getConfigDetail(i);br(this,s)}},{key:"getConfigDetail",value:function(i){var s=i.isSilentMode,c=i.textEdit,p={};if(s===!1&&br(p,this.defaultConfig),s===!0&&s!==this.isSilentMode){var v=mi(ds,_i);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},br(p,v)}c===!1&&br(p,{nodeTextEdit:!1,edgeTextEdit:!1});var m=mi(i,_i);return br(p,m)}},{key:"getConfig",value:function(){return mi(this,_i)}}])&&Gp(e.prototype,n),t}()).prototype,"isSilentMode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gi=Kn(On.prototype,"stopZoomGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yo=Kn(On.prototype,"stopScrollGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gl=Kn(On.prototype,"stopMoveGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ul=Kn(On.prototype,"adjustEdge",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$p=Kn(On.prototype,"adjustEdgeMiddle",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fp=Kn(On.prototype,"adjustEdgeStartAndEnd",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ps=Kn(On.prototype,"adjustNodePosition",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pu=Kn(On.prototype,"hideAnchors",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cc=Kn(On.prototype,"allowRotation",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wp=Kn(On.prototype,"hoverOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Hl=Kn(On.prototype,"nodeSelectedOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zo=Kn(On.prototype,"edgeSelectedOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),hs=Kn(On.prototype,"nodeTextEdit",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ui=Kn(On.prototype,"edgeTextEdit",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),no=Kn(On.prototype,"nodeTextDraggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xl=Kn(On.prototype,"edgeTextDraggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yl=Kn(On.prototype,"autoExpand",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kn(On.prototype,"updateEditConfig",[d.k],Object.getOwnPropertyDescriptor(On.prototype,"updateEditConfig"),On.prototype),On);o(65),o(66),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(vn||(vn={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(vr||(vr={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Zt||(Zt={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(Jn||(Jn={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_GROUP_COPY="node:group-copy-add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(ht||(ht={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Tn||(Tn={}));var $n,Hn,Hp,Xp,ys,hu,Kl,du,vs;function yu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return ql(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ql(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ql(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Oi(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Fy(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function wi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vo(t,e,n,i,s){var c={};return Object.keys(i).forEach(function(p){c[p]=i[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})($n||($n={}));var Yp={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},Vp=(Hn=function(){function t(i,s){(function(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")})(this,t),wi(this,"MINI_SCALE_SIZE",.2),wi(this,"MAX_SCALE_SIZE",16),Oi(this,"SCALE_X",Hp,this),Oi(this,"SKEW_Y",Xp,this),Oi(this,"SKEW_X",ys,this),Oi(this,"SCALE_Y",hu,this),Oi(this,"TRANSLATE_X",Kl,this),Oi(this,"TRANSLATE_Y",du,this),Oi(this,"ZOOM_SIZE",vs,this),wi(this,"eventCenter",void 0),wi(this,"translateLimitMinX",void 0),wi(this,"translateLimitMinY",void 0),wi(this,"translateLimitMaxX",void 0),wi(this,"translateLimitMaxY",void 0),this.eventCenter=i;var c=s.stopMoveGraph,p=c!==void 0&&c;this.updateTranslateLimits(p)}var e,n;return e=t,n=[{key:"setZoomMiniSize",value:function(i){this.MINI_SCALE_SIZE=i}},{key:"setZoomMaxSize",value:function(i){this.MAX_SCALE_SIZE=i}},{key:"HtmlPointToCanvasPoint",value:function(i){var s=yu(i,2),c=s[0],p=s[1];return[(c-this.TRANSLATE_X)/this.SCALE_X,(p-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(i){var s=yu(i,2),c=s[0],p=s[1];return[c*this.SCALE_X+this.TRANSLATE_X,p*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(i,s,c){var p=yu(i,2),v=p[0],m=p[1];return[v+s/this.SCALE_X,m+c/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(i,s){return[i/this.SCALE_X,s/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var i=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(i,")")}}},{key:"zoom",value:function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=arguments.length>1?arguments[1]:void 0,c=this.SCALE_X,p=this.SCALE_Y;return i===!0?(c+=this.ZOOM_SIZE,p+=this.ZOOM_SIZE):i===!1?(c-=this.ZOOM_SIZE,p-=this.ZOOM_SIZE):typeof i=="number"&&(c=i,p=i),c<this.MINI_SCALE_SIZE||c>this.MAX_SCALE_SIZE||(s&&(this.TRANSLATE_X-=(c-this.SCALE_X)*s[0],this.TRANSLATE_Y-=(p-this.SCALE_Y)*s[1]),this.SCALE_X=c,this.SCALE_Y=p,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(i){this.eventCenter.emit(ht.GRAPH_TRANSFORM,{type:i,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(i,s){this.TRANSLATE_X+i<=this.translateLimitMaxX&&this.TRANSLATE_X+i>=this.translateLimitMinX&&(this.TRANSLATE_X+=i),this.TRANSLATE_Y+s<=this.translateLimitMaxY&&this.TRANSLATE_Y+s>=this.translateLimitMinY&&(this.TRANSLATE_Y+=s),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(i,s,c,p){var v=yu(this.CanvasPointToHtmlPoint([i,s]),2),m=c/2-v[0],x=p/2-v[1];this.TRANSLATE_X+=m,this.TRANSLATE_Y+=x,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(i){var s=yu(Array.isArray(i)&&i.length===4?i:Yp[i.toString()],4);this.translateLimitMinX=s[0],this.translateLimitMinY=s[1],this.translateLimitMaxX=s[2],this.translateLimitMaxY=s[3]}}],n&&Fy(e.prototype,n),t}(),Hp=vo(Hn.prototype,"SCALE_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Xp=vo(Hn.prototype,"SKEW_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ys=vo(Hn.prototype,"SKEW_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hu=vo(Hn.prototype,"SCALE_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Kl=vo(Hn.prototype,"TRANSLATE_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),du=vo(Hn.prototype,"TRANSLATE_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vs=vo(Hn.prototype,"ZOOM_SIZE",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),vo(Hn.prototype,"zoom",[d.k],Object.getOwnPropertyDescriptor(Hn.prototype,"zoom"),Hn.prototype),vo(Hn.prototype,"resetZoom",[d.k],Object.getOwnPropertyDescriptor(Hn.prototype,"resetZoom"),Hn.prototype),vo(Hn.prototype,"translate",[d.k],Object.getOwnPropertyDescriptor(Hn.prototype,"translate"),Hn.prototype),vo(Hn.prototype,"focusOn",[d.k],Object.getOwnPropertyDescriptor(Hn.prototype,"focusOn"),Hn.prototype),Hn),gs=function(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t},Kp=function(t,e){return t&&Ko(e,di(e),t)},qp=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},Zp=Object.prototype.hasOwnProperty,Zl=function(t){if(!Bn(t))return qp(t);var e=Xo(t),n=[];for(var i in t)(i!="constructor"||!e&&Zp.call(t,i))&&n.push(i);return n},vu=function(t){return Vn(t)?zn(t,!0):Zl(t)},Jl=function(t,e){return t&&Ko(e,vu(e),t)},bs=o(107),Jt=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e},Wy=function(t,e){return Ko(t,Nr(t),e)},Ql=Qr(Object.getPrototypeOf,Object),gu=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)So(e,Nr(t)),t=Ql(t);return e}:rs,Jp=function(t,e){return Ko(t,gu(t),e)},Gy=function(t){return ns(t,vu,gu)},Uy=Object.prototype.hasOwnProperty,go=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Uy.call(t,"index")&&(n.index=t.index,n.input=t.input),n},ef=function(t){var e=new t.constructor(t.byteLength);return new yr(e).set(new yr(t)),e},ms=function(t,e){var n=e?ef(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},tf=/\w*$/,Qp=function(t){var e=new t.constructor(t.source,tf.exec(t));return e.lastIndex=t.lastIndex,e},nf=Yt?Yt.prototype:void 0,Gr=nf?nf.valueOf:void 0,Hi=function(t){return Gr?Object(Gr.call(t)):{}},_s=function(t,e){var n=e?ef(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},eh=function(t,e,n){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return ef(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return ms(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return _s(t,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return Qp(t);case"[object Symbol]":return Hi(t)}},sc=Object.create,th=function(){function t(){}return function(e){if(!Bn(e))return{};if(sc)return sc(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Os=function(t){return typeof t.constructor!="function"||Xo(t)?{}:th(Ql(t))},nh=function(t){return sn(t)&&O(t)=="[object Map]"},ws=fr.a&&fr.a.isMap,rf=ws?Po(ws):nh,Xi=function(t){return sn(t)&&O(t)=="[object Set]"},rh=fr.a&&fr.a.isSet,Yi=rh?Po(rh):Xi,of="[object Arguments]",af="[object Function]",uf="[object Object]",Mn={};Mn[of]=Mn["[object Array]"]=Mn["[object ArrayBuffer]"]=Mn["[object DataView]"]=Mn["[object Boolean]"]=Mn["[object Date]"]=Mn["[object Float32Array]"]=Mn["[object Float64Array]"]=Mn["[object Int8Array]"]=Mn["[object Int16Array]"]=Mn["[object Int32Array]"]=Mn["[object Map]"]=Mn["[object Number]"]=Mn["[object Object]"]=Mn["[object RegExp]"]=Mn["[object Set]"]=Mn["[object String]"]=Mn["[object Symbol]"]=Mn["[object Uint8Array]"]=Mn["[object Uint8ClampedArray]"]=Mn["[object Uint16Array]"]=Mn["[object Uint32Array]"]=!0,Mn["[object Error]"]=Mn[af]=Mn["[object WeakMap]"]=!1;var oh=function t(e,n,i,s,c,p){var v,m=1&n,x=2&n,S=4&n;if(i&&(v=c?i(e,s,c,p):i(e)),v!==void 0)return v;if(!Bn(e))return e;var D=Sn(e);if(D){if(v=go(e),!m)return Jt(e,v)}else{var I=O(e),H=I==af||I=="[object GeneratorFunction]";if(Object(Uo.a)(e))return Object(bs.a)(e,m);if(I==uf||I==of||H&&!c){if(v=x||H?{}:Os(e),!m)return x?Jp(e,Jl(v,e)):Wy(e,Kp(v,e))}else{if(!Mn[I])return c?e:{};v=eh(e,I,m)}}p||(p=new Go);var ee=p.get(e);if(ee)return ee;p.set(e,v),Yi(e)?e.forEach(function(de){v.add(t(de,n,i,de,e,p))}):rf(e)&&e.forEach(function(de,ye){v.set(ye,t(de,n,i,ye,e,p))});var ne=D?void 0:(S?x?Gy:Ao:x?vu:di)(e);return gs(ne||e,function(de,ye){ne&&(de=e[ye=de]),cu(v,ye,t(de,n,i,ye,e,p))}),v},In=function(t){return oh(t,5)},xs=function(t,e,n){(n!==void 0&&!hn(t[e],n)||n===void 0&&!(e in t))&&ss(t,e,n)},Ur=function(t){return sn(t)&&Vn(t)},Jo=Function.prototype,Es=Object.prototype,Pa=Jo.toString,ih=Es.hasOwnProperty,ah=Pa.call(Object),uh=function(t){if(!sn(t)||gn(t)!="[object Object]")return!1;var e=Ql(t);if(e===null)return!0;var n=ih.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Pa.call(n)==ah},Vi=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},lc=function(t){return Ko(t,vu(t))},ch=function(t,e,n,i,s,c,p){var v=Vi(t,n),m=Vi(e,n),x=p.get(m);if(x)xs(t,n,x);else{var S=c?c(v,m,n+"",t,e,p):void 0,D=S===void 0;if(D){var I=Sn(m),H=!I&&Object(Uo.a)(m),ee=!I&&!H&&wa(m);S=m,I||H||ee?Sn(v)?S=v:Ur(v)?S=Jt(v):H?(D=!1,S=Object(bs.a)(m,!0)):ee?(D=!1,S=_s(m,!0)):S=[]:uh(m)||jo(m)?(S=v,jo(v)?S=lc(v):Bn(v)&&!Eo(v)||(S=Os(m))):D=!1}D&&(p.set(m,S),s(S,m,i,c,p),p.delete(m)),xs(t,n,S)}},sh=function t(e,n,i,s,c){e!==n&&Ip(n,function(p,v){if(c||(c=new Go),Bn(p))ch(e,n,v,i,t,s,c);else{var m=s?s(Vi(e,v),p,v+"",e,n,c):void 0;m===void 0&&(m=p),xs(e,v,m)}},vu)},Aa=Bp(function(t,e,n){sh(t,e,n)}),lh={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},fc=function(t){var e=In(lh);return t&&(e=Aa(e,t)),e};o(82),o(166);function cf(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Ss=function(){function t(){var i,s,c;(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,t),c={},(s="_events")in(i=this)?Object.defineProperty(i,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[s]=c}var e,n;return e=t,(n=[{key:"on",value:function(i,s,c){var p=this;return i==null||i.split(",").forEach(function(v){v=v.trim(),p._events[v]||(p._events[v]=[]),p._events[v].push({callback:s,once:!!c})}),this}},{key:"once",value:function(i,s){var c=this;i==null||i.split(",").forEach(function(p){return p=p.trim(),c.on(p,s,!0)})}},{key:"emit",value:function(i,s){var c=this;i==null||i.split(",").forEach(function(p){var v=c._events[p]||[],m=c._events["*"]||[],x=function(S){for(var D=S.length,I=0;I<D;I++)if(S[I]){var H=S[I],ee=H.callback;H.once&&(S.splice(I,1),S.length===0&&delete c._events[p],D--,I--),ee.apply(c,[s])}};x(v),x(m)})}},{key:"off",value:function(i,s){var c=this;return i||(this._events={}),i.split(",").forEach(function(p){if(s){for(var v=c._events[p]||[],m=v.length,x=0;x<m;x++)v[x].callback===s&&(v.splice(x,1),m--,x--);v.length===0&&delete c._events[p]}else delete c._events[p]}),this}},{key:"getEvents",value:function(){return this._events}}])&&cf(e.prototype,n),t}();function Ki(t,e){return e*Math.round(t/e)||t}function js(t,e){return t%e}function Ps(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return As(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return As(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function As(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var sf=function(t,e,n){var i=Ps(t,2),s=i[0],c=i[1],p=Ps(e,2),v=p[0],m=p[1],x=Ps(n,2),S=x[0],D=x[1];return s>v&&s<S&&c>m&&c<D},lf=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;case"ctrl":n=t.ctrlKey;break;default:n=!1}return n};o(167),o(126),o(83),o(29),o(12),o(13),o(14),o(47);var xi=function(t){return function(e,n,i){var s=Object(e);if(!Vn(e)){var c=Fl(n);e=di(e),n=function(v){return c(s[v],v,s)}}var p=t(e,n,i);return p>-1?s[c?e[p]:p]:void 0}},fh=function(t,e,n,i){for(var s=t.length,c=n+(i?1:-1);i?c--:++c<s;)if(e(t[c],c,t))return c;return-1},ph=/\s/,Hy=function(t){for(var e=t.length;e--&&ph.test(t.charAt(e)););return e},hh=/^\s+/,Ei=function(t){return t&&t.slice(0,Hy(t)+1).replace(hh,"")},ff=/^[-+]0x[0-9a-f]+$/i,pf=/^0b[01]+$/i,hf=/^0o[0-7]+$/i,Ts=parseInt,qi=function(t){if(typeof t=="number")return t;if(Gt(t))return NaN;if(Bn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Bn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ei(t);var n=pf.test(t);return n||hf.test(t)?Ts(t.slice(2),n?2:8):ff.test(t)?NaN:+t},kt=1/0,Ms=function(t){return t?(t=qi(t))===kt||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:t===0?t:0},df=function(t){var e=Ms(t),n=e%1;return e==e?n?e-n:e:0},Ta=Math.max,pc,yf=xi(function(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var s=n==null?0:df(n);return s<0&&(s=Ta(i+s,0)),fh(t,Fl(e),s)}),Tr=new Uint8Array(16);function dh(){if(!pc&&!(pc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pc(Tr)}for(var yh=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Xy=function(t){return typeof t=="string"&&yh.test(t)},Ln=[],mr=0;mr<256;++mr)Ln.push((mr+256).toString(16).substr(1));var vf=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ln[t[e+0]]+Ln[t[e+1]]+Ln[t[e+2]]+Ln[t[e+3]]+"-"+Ln[t[e+4]]+Ln[t[e+5]]+"-"+Ln[t[e+6]]+Ln[t[e+7]]+"-"+Ln[t[e+8]]+Ln[t[e+9]]+"-"+Ln[t[e+10]]+Ln[t[e+11]]+Ln[t[e+12]]+Ln[t[e+13]]+Ln[t[e+14]]+Ln[t[e+15]]).toLowerCase();if(!Xy(n))throw TypeError("Stringified UUID is invalid");return n},hc=function(t,e,n){var i=(t=t||{}).random||(t.rng||dh)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=i[s];return e}return vf(i)},Zi=function(){return hc()},dc=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(i,s){return i[s.id]=e+hc(),s.id=i[s.id],i},{});return t.edges.forEach(function(i){i.id=e+hc(),i.sourceNodeId=n[i.sourceNodeId],i.targetNodeId=n[i.targetNodeId]}),t},bu=(o(105),o(127),o(207),function(t,e,n){var i=t.x,s=t.y,c=e.x,p=e.y,v=n.x,m=n.y,x=(m-p)/(v-c),S=p-x*c;return i>=c&&i<=v&&s>=p&&s<=m&&Math.abs(s-x*i+S)<Number.EPSILON});function ks(t){return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(t)}function gf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function bf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gf(Object(n),!0).forEach(function(i){Yy(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gf(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Yy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ke,mf,mu,Ds,_f,Of,yc,wf,ko,Ji,xf,vh,gh,bh,Ef,Sf,jf,Pf,mh,_h,Oh,Hr=function(t){return t.anchors},Ns=function(t,e){for(var n,i=e.nodes,s=i.length-1;s>=0;s--){var c=i[s];if(Vy(t,c)){var p=c.getTargetAnchor(t);if(p){var v={node:c,anchorIndex:p.index,anchor:p.anchor};n&&!wh(c,n.node,e)||(n=v)}}}return n},wh=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},Do=function(t,e,n,i){return Math.hypot(t-n,e-i)},Qo=function(t,e){var n=!1,i=ro(e);return t.x>=i.minX-0&&t.x<=i.maxX+0&&t.y>=i.minY-0&&t.y<=i.maxY+0&&(n=!0),n},Vy=function(t,e){var n=!1,i=ro(e);return t.x>=i.minX-5&&t.x<=i.maxX+5&&t.y>=i.minY-5&&t.y<=i.maxY+5&&(n=!0),n},ro=function(t){var e=t.x,n=t.y,i=t.width,s=t.height;return{minX:e-i/2,minY:n-s/2,maxX:e+i/2,maxY:n+s/2,x:e,y:n,width:i,height:s,centerX:e,centerY:n}},xh=function(t,e,n){var i,s=function(p){var v=p,m=v.x,x=v.y,S=v.width,D=v.height,I=v.radius;return[{x:m-S/2+I,y:x-D/2+I,r:I},{x:m+S/2-I,y:x-D/2+I,r:I},{x:m-S/2+I,y:x+D/2-I,r:I},{x:m+S/2-I,y:x+D/2-I,r:I}]}(n),c=Number.MAX_SAFE_INTEGER;return s.forEach(function(p){var v=Do(t.x,t.y,p.x,p.y);v<c&&(c=v,i=p)}),vc(t,e,i)},vc=function(t,e,n){var i,s=n,c=s.x,p=s.y,v=s.r;if(e===Tn.HORIZONTAL){var m=c-Math.sqrt(v*v-(t.y-p)*(t.y-p)),x=c+Math.sqrt(v*v-(t.y-p)*(t.y-p));i={x:Math.abs(m-t.x)<Math.abs(x-t.x)?m:x,y:t.y}}else if(e===Tn.VERTICAL){var S=p-Math.sqrt(v*v-(t.x-c)*(t.x-c)),D=p+Math.sqrt(v*v-(t.x-c)*(t.x-c)),I=Math.abs(S-t.y)<Math.abs(D-t.y)?S:D;i={x:t.x,y:I}}return i},Af=function(t,e){var n=e,i=!1,s=n.x-n.width/2+n.radius,c=n.x+n.width/2-n.radius,p=n.y-n.height/2+n.radius,v=n.y+n.height/2-n.radius,m=n.x,x=n.y,S=n.width,D=n.height;return t.y===x+D/2||t.y===x-D/2?i=t.x>s&&t.x<c:t.x!==m+S/2&&t.x!==m-S/2||(i=t.y>p&&t.y<v),i},Eh=function(t,e,n){var i,s=n,c=s.x,p=s.y,v=s.rx,m=s.ry;if(e===Tn.HORIZONTAL){var x=c-Math.sqrt(v*v-(t.y-p)*(t.y-p)*v*v/(m*m)),S=c+Math.sqrt(v*v-(t.y-p)*(t.y-p)*v*v/(m*m));i={x:Math.abs(x-t.x)<Math.abs(S-t.x)?x:S,y:t.y}}else if(e===Tn.VERTICAL){var D=p-Math.sqrt(m*m-(t.x-c)*(t.x-c)*m*m/(v*v)),I=p+Math.sqrt(m*m-(t.x-c)*(t.x-c)*m*m/(v*v)),H=Math.abs(D-t.y)<Math.abs(I-t.y)?D:I;i={x:t.x,y:H}}return i},Sh=function(t,e,n){for(var i,s=n.pointsPosition,c=Number.MAX_SAFE_INTEGER,p=[],v=0;v<s.length;v++)p.push({start:s[v],end:s[(v+1)%s.length]});return p.forEach(function(m){var x=m.start,S=m.end,D=x,I=S;x.x>S.x&&(D=S,I=x);var H={x:t.x,y:t.y};if(D.x===I.x&&e===Tn.HORIZONTAL&&(H={x:D.x,y:t.y}),D.y===I.y&&e===Tn.VERTICAL&&(H={x:t.x,y:D.y}),D.x!==I.x&&D.y!==I.y){var ee=(I.y-D.y)/(I.x-D.x),ne=(D.x*I.y-I.x*D.y)/(D.x-I.x);e===Tn.HORIZONTAL?H={x:(t.y-ne)/ee,y:t.y}:e===Tn.VERTICAL&&(H={x:t.x,y:ee*t.x+ne})}if(bu(H,x,S)){var de=Do(H.x,H.y,t.x,t.y);de<c&&(c=de,i=H)}}),i},jh=function(t,e,n,i){var s=t.x,c=t.y;return e.x>t.x?s=t.x+n/2:e.x<t.x&&(s=t.x-n/2),e.y>t.y?c=t.y+i/2:e.y<t.y&&(c=t.y-i/2),{x:s,y:c}},Ph=function(t){var e=t.rows,n=t.style,i=t.rowsLength,s=t.className,c=document.createElement("div");c.style.fontSize=n.fontSize,c.style.width=n.width,c.className=s,c.style.lineHeight=n.lineHeight,c.style.padding=n.padding,n.fontFamily&&(c.style.fontFamily=n.fontFamily),i>1?e.forEach(function(v){var m=document.createElement("div");m.textContent=v,c.appendChild(m)}):c.textContent=e,document.body.appendChild(c);var p=c.clientHeight;return document.body.removeChild(c),p},Tf=function(t){var e=t.rows,n=t.rowsLength,i=t.fontSize,s=0;return e&&e.forEach(function(c){var p=Hs(c);s=p>s?p:s}),{width:Math.ceil(s/2)*i+i/4,height:n*(i+2)+i/4}},gc=function(t){return ks(t)!=="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},_r=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},Rs=1e3,Ky=999,Mf=function(){return++Rs};function Ah(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ah(Object(n),!0).forEach(function(i){bo(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ah(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Qn(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Th(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function bo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tt(t,e,n,i,s){var c={};return Object.keys(i).forEach(function(p){c[p]=i[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var kf=(ke=function(){function t(i,s){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),bo(this,"id",""),Qn(this,"type",mf,this),Qn(this,"sourceNodeId",mu,this),Qn(this,"targetNodeId",Ds,this),Qn(this,"startPoint",_f,this),Qn(this,"endPoint",Of,this),Qn(this,"text",yc,this),Qn(this,"properties",wf,this),Qn(this,"points",ko,this),Qn(this,"pointsList",Ji,this),Qn(this,"isSelected",xf,this),Qn(this,"isHovered",vh,this),Qn(this,"isHitable",gh,this),Qn(this,"draggable",bh,this),Qn(this,"visible",Ef,this),bo(this,"virtual",!1),Qn(this,"isAnimation",Sf,this),Qn(this,"isShowAdjustPoint",jf,this),bo(this,"graphModel",void 0),Qn(this,"zIndex",Pf,this),bo(this,"BaseType",Jn.EDGE),bo(this,"modelType",Zt.EDGE),Qn(this,"state",mh,this),bo(this,"additionStateData",void 0),bo(this,"sourceAnchorId",""),bo(this,"targetAnchorId",""),bo(this,"menu",void 0),bo(this,"customTextPosition",!1),Qn(this,"style",_h,this),Qn(this,"arrowConfig",Oh,this),this.graphModel=s,this.initEdgeData(i),this.setAttributes()}var e,n;return e=t,n=[{key:"initEdgeData",value:function(i){if(i.properties||(i.properties={}),!i.id){var s=this.graphModel.idGenerator,c=s&&s(i.type),p=this.createId();i.id=p||c||Zi()}this.arrowConfig.markerEnd="url(#marker-end-".concat(i.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(i.id,")");var v=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=v,br(this,Xs(i)),this.graphModel.overlapMode===$n.INCREASE&&(this.zIndex=i.zIndex||Mf()),this.setAnchors(),this.initPoints(),this.formatText(i)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Xr(Xr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return Xr({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var i=this.graphModel.theme.edgeText;return In(i)}},{key:"getEdgeAnimationStyle",value:function(){var i=this.graphModel.theme.edgeAnimation;return In(i)}},{key:"getArrowStyle",value:function(){var i=this.getEdgeStyle(),s=this.getEdgeAnimationStyle(),c=this.graphModel.theme.arrow,p=this.isAnimation?s.stroke:i.stroke;return Xr(Xr({},i),{},{fill:p,stroke:p},c)}},{key:"getOutlineStyle",value:function(){var i=this.graphModel.theme.outline;return In(i)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var i,s;return(i=this.graphModel)===null||i===void 0||(s=i.nodesMap[this.sourceNodeId])===null||s===void 0?void 0:s.model}},{key:"targetNode",get:function(){var i,s;return(i=this.graphModel)===null||i===void 0||(s=i.nodesMap[this.targetNodeId])===null||s===void 0?void 0:s.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(i,s,c){var p,v,m=Hr(i);return c&&(p=yf(m,function(x){return x.id===c}))||m.forEach(function(x){var S=Tc(x,s);(v===void 0||S<v)&&(v=S,p=x)}),p}},{key:"getEndAnchor",value:function(i,s){var c,p,v=this,m=Hr(i);return s&&(c=yf(m,function(x){return x.id===s}))||m.forEach(function(x){var S=Tc(x,v.startPoint);(p===void 0||S<p)&&(p=S,c=x)}),c}},{key:"getProperties",value:function(){return Object(d.I)(this.properties)}},{key:"getData",value:function(){var i=this.text,s=i.x,c=i.y,p=i.value,v={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(d.I)(this.properties)};return p&&(v.text={x:s,y:c,value:p}),this.graphModel.overlapMode===$n.INCREASE&&(v.zIndex=this.zIndex),v}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(i,s){this.properties[i]=_r(s),this.setAttributes()}},{key:"deleteProperty",value:function(i){delete this.properties[i],this.setAttributes()}},{key:"setProperties",value:function(i){this.properties=Xr(Xr({},Object(d.I)(this.properties)),_r(i)),this.setAttributes()}},{key:"changeEdgeId",value:function(i){var s=this.arrowConfig,c=s.markerEnd,p=s.markerStart;p&&p==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(i,")")),c&&c==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(i,")")),this.id=i}},{key:"setStyle",value:function(i,s){this.style=Xr(Xr({},this.style),{},bo({},i,_r(s)))}},{key:"setStyles",value:function(i){this.style=Xr(Xr({},this.style),_r(i))}},{key:"updateStyles",value:function(i){this.style=Xr({},_r(i))}},{key:"formatText",value:function(i){var s=this.textPosition,c=s.x,p=s.y;i.text&&typeof i.text!="string"?Object.prototype.toString.call(i.text)==="[object Object]"&&(this.text={x:i.text.x||c,y:i.text.y||p,value:i.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:i.text||"",x:c,y:p,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var i=this.textPosition,s=i.x,c=i.y;this.text.x=s,this.text.y=c}},{key:"moveText",value:function(i,s){if(this.text){var c=this.text,p=c.x,v=c.y,m=c.value,x=c.draggable,S=c.editable;this.text={value:m,draggable:x,x:p+i,y:v+s,editable:S}}}},{key:"setText",value:function(i){i&&br(this.text,i)}},{key:"updateText",value:function(i){this.text=Xr(Xr({},Object(d.I)(this.text)),{},{value:i})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var i=this.getBeginAnchor(this.sourceNode,this.targetNode,this.sourceAnchorId);if(!i)throw new Error("无法获取beginAnchor，请检查anchors相关逻辑，anchors不能为空");this.startPoint||(this.startPoint={x:i.x,y:i.y}),this.sourceAnchorId||(this.sourceAnchorId=i.id)}if(!this.targetAnchorId||!this.endPoint){var s=this.getEndAnchor(this.targetNode,this.targetAnchorId);if(!s)throw new Error("无法获取endAnchor，请检查anchors相关逻辑，anchors不能为空");this.endPoint||(this.endPoint={x:s.x,y:s.y}),this.targetAnchorId||(this.targetAnchorId=s.id)}}},{key:"setSelected",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=i}},{key:"setHovered",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=i}},{key:"setHitable",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=i}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(i,s){this.state=i,this.additionStateData=s}},{key:"updateStartPoint",value:function(i){this.startPoint=i}},{key:"moveStartPoint",value:function(i,s){this.startPoint.x+=i,this.startPoint.y+=s}},{key:"updateEndPoint",value:function(i){this.endPoint=i}},{key:"moveEndPoint",value:function(i,s){this.endPoint.x+=i,this.endPoint.y+=s}},{key:"setZIndex",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=i}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(i){br(this,i)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var s=i.startPoint,c=i.endPoint;this.updateStartPoint({x:s.x,y:s.y}),this.updateEndPoint({x:c.x,y:c.y})}}],n&&Th(e.prototype,n),t}(),mf=Tt(ke.prototype,"type",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),mu=Tt(ke.prototype,"sourceNodeId",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ds=Tt(ke.prototype,"targetNodeId",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_f=Tt(ke.prototype,"startPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Of=Tt(ke.prototype,"endPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yc=Tt(ke.prototype,"text",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),wf=Tt(ke.prototype,"properties",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ko=Tt(ke.prototype,"points",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ji=Tt(ke.prototype,"pointsList",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xf=Tt(ke.prototype,"isSelected",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vh=Tt(ke.prototype,"isHovered",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gh=Tt(ke.prototype,"isHitable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),bh=Tt(ke.prototype,"draggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ef=Tt(ke.prototype,"visible",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Sf=Tt(ke.prototype,"isAnimation",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jf=Tt(ke.prototype,"isShowAdjustPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pf=Tt(ke.prototype,"zIndex",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),mh=Tt(ke.prototype,"state",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_h=Tt(ke.prototype,"style",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Oh=Tt(ke.prototype,"arrowConfig",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),Tt(ke.prototype,"sourceNode",[d.m],Object.getOwnPropertyDescriptor(ke.prototype,"sourceNode"),ke.prototype),Tt(ke.prototype,"targetNode",[d.m],Object.getOwnPropertyDescriptor(ke.prototype,"targetNode"),ke.prototype),Tt(ke.prototype,"textPosition",[d.m],Object.getOwnPropertyDescriptor(ke.prototype,"textPosition"),ke.prototype),Tt(ke.prototype,"setProperty",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setProperty"),ke.prototype),Tt(ke.prototype,"deleteProperty",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"deleteProperty"),ke.prototype),Tt(ke.prototype,"setProperties",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setProperties"),ke.prototype),Tt(ke.prototype,"changeEdgeId",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"changeEdgeId"),ke.prototype),Tt(ke.prototype,"setStyle",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setStyle"),ke.prototype),Tt(ke.prototype,"setStyles",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setStyles"),ke.prototype),Tt(ke.prototype,"updateStyles",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateStyles"),ke.prototype),Tt(ke.prototype,"formatText",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"formatText"),ke.prototype),Tt(ke.prototype,"resetTextPosition",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"resetTextPosition"),ke.prototype),Tt(ke.prototype,"moveText",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveText"),ke.prototype),Tt(ke.prototype,"setText",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setText"),ke.prototype),Tt(ke.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateText"),ke.prototype),Tt(ke.prototype,"setAnchors",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setAnchors"),ke.prototype),Tt(ke.prototype,"setSelected",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setSelected"),ke.prototype),Tt(ke.prototype,"setHovered",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setHovered"),ke.prototype),Tt(ke.prototype,"setHitable",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setHitable"),ke.prototype),Tt(ke.prototype,"openEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"openEdgeAnimation"),ke.prototype),Tt(ke.prototype,"closeEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"closeEdgeAnimation"),ke.prototype),Tt(ke.prototype,"setElementState",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setElementState"),ke.prototype),Tt(ke.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateStartPoint"),ke.prototype),Tt(ke.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveStartPoint"),ke.prototype),Tt(ke.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateEndPoint"),ke.prototype),Tt(ke.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveEndPoint"),ke.prototype),Tt(ke.prototype,"setZIndex",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"setZIndex"),ke.prototype),Tt(ke.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"initPoints"),ke.prototype),Tt(ke.prototype,"updateAttributes",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateAttributes"),ke.prototype),Tt(ke.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"getAdjustStart"),ke.prototype),Tt(ke.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"getAdjustEnd"),ke.prototype),Tt(ke.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateAfterAdjustStartAndEnd"),ke.prototype),ke),_u=kf;function Df(t){return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function Mh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function bc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mh(Object(n),!0).forEach(function(i){Rh(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mh(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function kh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dh(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function mc(){return mc=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var i=Nh(t,e);if(i){var s=Object.getOwnPropertyDescriptor(i,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},mc.apply(this,arguments)}function Nh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Si(t))!==null;);return t}function Cs(t,e){return Cs=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Cs(t,e)}function qy(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Si(t);if(e){var s=Si(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Zy(this,n)}}function Zy(t,e){if(e&&(Df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _c(t)}function _c(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Si(t){return Si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Si(t)}function Rh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ct,Nf,Is=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Cs(c,p)})(s,t);var e,n,i=qy(s);function s(){var c;kh(this,s);for(var p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];return Rh(_c(c=i.call.apply(i,[this].concat(v))),"modelType",Zt.LINE_EDGE),c}return e=s,(n=[{key:"getEdgeStyle",value:function(){var c=this.graphModel.theme.line;return bc(bc({},mc(Si(s.prototype),"getEdgeStyle",this).call(this)),In(c))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&Dh(e.prototype,n),s}(_u);function oo(t){return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(t)}function Jy(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return Ch(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Ch(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ch(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Qi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qi(Object(n),!0).forEach(function(i){Fn(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qi(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Qy(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Yr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function er(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function mo(){return mo=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var i=ev(t,e);if(i){var s=Object.getOwnPropertyDescriptor(i,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},mo.apply(this,arguments)}function ev(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=wn(t))!==null;);return t}function Oc(t,e){return Oc=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Oc(t,e)}function ji(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=wn(t);if(e){var s=wn(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Ih(this,n)}}function Ih(t,e){if(e&&(oo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ea(t)}function ea(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wn(t){return wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wn(t)}function Fn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Or(t,e,n,i,s){var c={};return Object.keys(i).forEach(function(p){c[p]=i[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var wc=(Ct=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Oc(c,p)})(s,t);var e,n,i=ji(s);function s(){var c;Yr(this,s);for(var p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];return Fn(ea(c=i.call.apply(i,[this].concat(v))),"modelType",Zt.POLYLINE_EDGE),Fn(ea(c),"draggingPointList",void 0),Qy(ea(c),"dbClickPosition",Nf,ea(c)),c}return e=s,(n=[{key:"initEdgeData",value:function(c){this.offset=30,mo(wn(s.prototype),"initEdgeData",this).call(this,c)}},{key:"getEdgeStyle",value:function(){var c=this.graphModel.theme.polyline;return Ut(Ut({},mo(wn(s.prototype),"getEdgeStyle",this).call(this)),In(c))}},{key:"getTextPosition",value:function(){var c,p=(c=this.text)===null||c===void 0?void 0:c.value;if(this.dbClickPosition&&!p){var v=this.dbClickPosition;return{x:v.x,y:v.y}}var m=na(this.points),x=Jy(Xh(m),2),S=x[0],D=x[1];return{x:(S.x+D.x)/2,y:(S.y+D.y)/2}}},{key:"getAfterAnchor",value:function(c,p,v){var m,x;return v.forEach(function(S){var D;c===Tn.HORIZONTAL?D=Math.abs(p.y-S.y):c===Tn.VERTICAL&&(D=Math.abs(p.x-S.x)),(!x||x>D)&&(x=D,m=S)}),m}},{key:"getCrossPoint",value:function(c,p,v){var m;return c===Tn.HORIZONTAL?m={x:v.x,y:p.y}:c===Tn.VERTICAL&&(m={x:p.x,y:v.y}),m}},{key:"removeCrossPoints",value:function(c,p,v){var m=v.map(function(ye){return ye});if(c===1){var x=m[c],S=m[p],D=m[c-1];if(zf(D,x,this.sourceNode)){if($f(x,S,this.sourceNode)){var I=Ff(x,S,this.sourceNode);I&&(m[c]=I,m.splice(c-1,1),c--,p--)}}else this.sourceNode.anchors.forEach(function(ye){(ye.x===D.x&&ye.x===x.x||ye.y===D.y&&ye.y===x.y)&&Do(ye.x,ye.y,x.x,x.y)<Do(D.x,D.y,x.x,x.y)&&(m[c-1]=ye)})}if(p===v.length-2){var H=m[c],ee=m[p],ne=m[p+1];if(zf(ee,ne,this.targetNode)){if($f(H,ee,this.targetNode)){var de=Ff(H,ee,this.targetNode);de&&(m[p]=de,m.splice(p+1,1))}}else this.targetNode.anchors.forEach(function(ye){(ye.x===ne.x&&ye.x===ee.x||ye.y===ne.y&&ye.y===ee.y)&&Do(ye.x,ye.y,ee.x,ee.y)<Do(ne.x,ne.y,ee.x,ee.y)&&(m[p+1]=ye)})}return m}},{key:"getDraggingPoints",value:function(c,p,v,m,x){var S=x.map(function(H){return H}),D=this.getAfterAnchor(c,v,m),I=this.getCrossPoint(c,v,D);return p==="start"?(S.unshift(I),S.unshift(D)):(S.push(I),S.push(D)),S}},{key:"updateCrossPoints",value:function(c){var p=c.map(function(Ce){return Ce}),v=c[0],m=c[1],x=c[p.length-2],S=c[p.length-1],D=this.sourceNode,I=this.targetNode,H=D.modelType,ee=I.modelType,ne=Ac(v,m),de=p[0];switch(H){case Zt.RECT_NODE:D.radius!==0&&(Af(v,D)||(de=xh(v,ne,D)));break;case Zt.CIRCLE_NODE:de=vc(v,ne,D);break;case Zt.ELLIPSE_NODE:de=Eh(v,ne,D);break;case Zt.DIAMOND_NODE:case Zt.POLYGON_NODE:de=Sh(v,ne,D)}de&&(p[0]=de);var ye=Ac(x,S),xe=p[p.length-1];switch(ee){case Zt.RECT_NODE:I.radius!==0&&(Af(S,I)||(xe=xh(S,ye,I)));break;case Zt.CIRCLE_NODE:xe=vc(S,ye,I);break;case Zt.ELLIPSE_NODE:xe=Eh(S,ye,I);break;case Zt.DIAMOND_NODE:case Zt.POLYGON_NODE:xe=Sh(S,ye,I)}return xe&&(p[p.length-1]=xe),p}},{key:"getData",value:function(){var c=mo(wn(s.prototype),"getData",this).call(this),p=this.pointsList.map(function(v){return{x:v.x,y:v.y}});return Object.assign({},c,{pointsList:p})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(c){return"".concat(c.x,",").concat(c.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var c=Gs({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=c,this.points=c.map(function(p){return"".concat(p.x,",").concat(p.y)}).join(" ")}},{key:"updateStartPoint",value:function(c){this.startPoint=Object.assign({},c),this.updatePoints()}},{key:"moveStartPoint",value:function(c,p){this.startPoint.x+=c,this.startPoint.y+=p,this.updatePoints()}},{key:"updateEndPoint",value:function(c){this.endPoint=Object.assign({},c),this.updatePoints()}},{key:"moveEndPoint",value:function(c,p){this.endPoint.x+=c,this.endPoint.y+=p,this.updatePoints()}},{key:"updatePointsList",value:function(c,p){this.pointsList.forEach(function(x){x.x+=c,x.y+=p});var v=this.pointsList[0];this.startPoint=Object.assign({},v);var m=this.pointsList[this.pointsList.length-1];this.endPoint=Object.assign({},m),this.initPoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(c){return c})}},{key:"dragAppendSimple",value:function(c,p){this.isDragging=!0;var v=c.start,m=c.end,x=c.startIndex,S=c.endIndex,D=c.direction,I=this.pointsList,H=I;return D===Tn.HORIZONTAL?(I[x]={x:v.x,y:v.y+p.y},I[S]={x:m.x,y:m.y+p.y},H=this.pointsList.map(function(ee){return ee})):D===Tn.VERTICAL&&(I[x]={x:v.x+p.x,y:v.y},I[S]={x:m.x+p.x,y:m.y},H=this.pointsList.map(function(ee){return ee})),this.updatePointsAfterDrag(H),this.draggingPointList=H,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},I[x]),end:Object.assign({},I[S]),startIndex:x,endIndex:S,direction:D}}},{key:"dragAppend",value:function(c,p){this.isDragging=!0;var v=c.start,m=c.end,x=c.startIndex,S=c.endIndex,D=c.direction,I=this.pointsList;if(D===Tn.HORIZONTAL){I[x]={x:v.x,y:v.y+p.y},I[S]={x:m.x,y:m.y+p.y};var H=this.pointsList.map(function(qe){return qe});if(x!==0&&S!==this.pointsList.length-1&&(H=this.removeCrossPoints(x,S,H)),x===0){var ee={x:v.x,y:v.y+p.y};if(!Qo(ee,this.sourceNode)){var ne=this.sourceNode.anchors;H=this.getDraggingPoints(D,"start",ee,ne,H)}}if(S===this.pointsList.length-1){var de={x:m.x,y:m.y+p.y};if(!Qo(de,this.targetNode)){var ye=this.targetNode.anchors;H=this.getDraggingPoints(D,"end",de,ye,H)}}this.updatePointsAfterDrag(H),this.draggingPointList=H}else if(D===Tn.VERTICAL){I[x]={x:v.x+p.x,y:v.y},I[S]={x:m.x+p.x,y:m.y};var xe=this.pointsList.map(function(qe){return qe});if(x!==0&&S!==this.pointsList.length-1&&(xe=this.removeCrossPoints(x,S,xe)),x===0){var Ce={x:v.x+p.x,y:v.y};if(!Qo(Ce,this.sourceNode)){var Qe=this.sourceNode.anchors;xe=this.getDraggingPoints(D,"start",Ce,Qe,xe)}}if(S===this.pointsList.length-1){var Ze={x:m.x+p.x,y:m.y};if(!Qo(Ze,this.targetNode)){var _t=this.targetNode.anchors;xe=this.getDraggingPoints(D,"end",Ze,_t,xe)}}this.updatePointsAfterDrag(xe),this.draggingPointList=xe}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},I[x]),end:Object.assign({},I[S]),startIndex:x,endIndex:S,direction:D}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var c=Ws(na(this.points));this.pointsList=c.map(function(m){return m}),this.draggingPointList=[];var p=c[0];this.startPoint=Object.assign({},p);var v=c[c.length-1];this.endPoint=Object.assign({},v)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(c){var p=this.updateCrossPoints(c);this.points=p.map(function(v){return"".concat(v.x,",").concat(v.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var c=this.pointsList;return c[c.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(c){var p=c.startPoint,v=c.endPoint,m=c.sourceNode,x=c.targetNode,S=Gs({x:p.x,y:p.y},{x:v.x,y:v.y},m,x,this.offset||0);this.pointsList=S,this.initPoints()}}])&&er(e.prototype,n),s}(_u),Nf=Or(Ct.prototype,"dbClickPosition",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Or(Ct.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"initPoints"),Ct.prototype),Or(Ct.prototype,"updatePoints",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"updatePoints"),Ct.prototype),Or(Ct.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"updateStartPoint"),Ct.prototype),Or(Ct.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"moveStartPoint"),Ct.prototype),Or(Ct.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"updateEndPoint"),Ct.prototype),Or(Ct.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"moveEndPoint"),Ct.prototype),Or(Ct.prototype,"updatePointsList",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"updatePointsList"),Ct.prototype),Or(Ct.prototype,"dragAppendStart",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"dragAppendStart"),Ct.prototype),Or(Ct.prototype,"dragAppendSimple",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"dragAppendSimple"),Ct.prototype),Or(Ct.prototype,"dragAppend",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"dragAppend"),Ct.prototype),Or(Ct.prototype,"dragAppendEnd",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"dragAppendEnd"),Ct.prototype),Or(Ct.prototype,"updatePointsAfterDrag",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"updatePointsAfterDrag"),Ct.prototype),Or(Ct.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"getAdjustStart"),Ct.prototype),Or(Ct.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"getAdjustEnd"),Ct.prototype),Or(Ct.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(Ct.prototype,"updateAfterAdjustStartAndEnd"),Ct.prototype),Ct),Pi=function(t){var e=t.start,n=t.end,i=t.offset,s=t.verticalLength,c=t.type,p={leftX:0,leftY:0,rightX:0,rightY:0},v=Math.atan((n.y-e.y)/(n.x-e.x)),m=Math.atan(i/s),x=Math.sqrt(s*s+i*i);return c==="start"?n.x>=e.x?(p.leftX=e.x+x*Math.sin(v+m),p.leftY=e.y-x*Math.cos(v+m),p.rightX=e.x-x*Math.sin(v-m),p.rightY=e.y+x*Math.cos(v-m)):(p.leftX=e.x-x*Math.sin(v+m),p.leftY=e.y+x*Math.cos(v+m),p.rightX=e.x+x*Math.sin(v-m),p.rightY=e.y-x*Math.cos(v-m)):c==="end"&&(n.x>=e.x?(p.leftX=n.x+x*Math.sin(v-m),p.leftY=n.y-x*Math.cos(v-m),p.rightX=n.x-x*Math.sin(v+m),p.rightY=n.y+x*Math.cos(v+m)):(p.leftX=n.x-x*Math.sin(v-m),p.leftY=n.y+x*Math.cos(v-m),p.rightX=n.x+x*Math.sin(v+m),p.rightY=n.y-x*Math.cos(v+m))),p},Rf={x:1,y:0,z:0};function Cf(t,e,n,i,s){for(var c=function(ee){if(ee<0||ee>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-ee,3)+3*e.x*ee*Math.pow(1-ee,2)+3*n.x*Math.pow(ee,2)*(1-ee)+i.x*Math.pow(ee,3),y:t.y*Math.pow(1-ee,3)+3*e.y*ee*Math.pow(1-ee,2)+3*n.y*Math.pow(ee,2)*(1-ee)+i.y*Math.pow(ee,3)}},p=0,v=2,m=i.x,x=i.y,S=i;p<s&&v<50;){var D=S=c(1-v/100),I=D.x,H=D.y;p=Do(m,x,I,H),v++}return S}function xc(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function Vr(t){return i=function(c,p){return c.x*p.y-c.y*p.x}(e=Rf,n=t),s=Math.acos(function(c,p){var v=[c.x,c.y,c.z];return[p.x,p.y,p.z].reduce(function(m,x,S){return m+x*v[S]})}(xc(e),xc(n))),i>=0?s:-s;var e,n,i,s}function Ma(t){return t*(180/Math.PI)}function Lh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Ls(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lh(Object(n),!0).forEach(function(i){Bh(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lh(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Bh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ai(t){return function(e){if(Array.isArray(e))return Bs(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||io(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(t){return Xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(t)}function Ec(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||io(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function io(t,e){if(t){if(typeof t=="string")return Bs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bs(t,e):void 0}}function Bs(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var xn=function(t,e){var n;switch(t.type){case"line":default:n=new Is(t,e);break;case"polyline":n=new wc(t,e)}return n},zh=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},Ou=function(t){var e=[],n={};return t.forEach(function(i){var s="".concat(i.x,"-").concat(i.y);i.id=s,n[s]=i}),Object.keys(n).forEach(function(i){e.push(n[i])}),e},zs=function(t,e){var n=[t,{x:t.x,y:e.y},e];return Ou(n)},Sc=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},$h=function(t,e){var n=Math.abs(t.x-e.centerX),i=Math.abs(t.y-e.centerY);return n/e.width>i/e.height?Tn.HORIZONTAL:Tn.VERTICAL},jc=function(t,e,n){return $h(n,e)===Tn.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},If=function(t,e){var n=Math.min(t.minX,e.minX),i=Math.min(t.minY,e.minY),s=Math.max(t.maxX,e.maxX),c=Math.max(t.maxY,e.maxY);return{centerX:(n+s)/2,centerY:(i+c)/2,minX:n,minY:i,maxX:s,maxY:c,height:c-i,width:s-n}},ta=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],i=[];t.forEach(function(S){n.push(S.x),i.push(S.y)});var s=Math.min.apply(Math,n),c=Math.max.apply(Math,n),p=Math.min.apply(Math,i),v=Math.max.apply(Math,i),m=c-s,x=v-p;return e&&(m+=e,x+=e),{centerX:(s+c)/2,centerY:(p+v)/2,maxX:c,maxY:v,minX:s,minY:p,x:(s+c)/2,y:(p+v)/2,height:x,width:m}},ka=function(t){var e=t.minX,n=t.minY,i=t.maxX,s=t.maxY;return[{x:e,y:n},{x:i,y:n},{x:i,y:s},{x:e,y:s}]},Pc=function(t,e){var n=t.x,i=t.y;return n<e.minX||n>e.maxX||i<e.minY||i>e.maxY},Fh=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},Wh=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},hr=function(t,e){return Fh(t,e.x).concat(Wh(t,e.y))},wr=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Gh=function(t,e){var n=0;return e.forEach(function(i){i&&(t.x===i.x&&(n+=-2),t.y===i.y&&(n+=-2))}),n},$s=function(t,e,n,i,s){return wr(t,e)+wr(t,n)+Gh(t,[e,n,i,s])},Uh=function t(e,n,i,s,c){c||(c=0),e.unshift(n[s]),i[s]&&i[s]!==s&&c<=100&&t(e,n,i,i[s],c+1)},Hh=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},Da=function(t,e,n,i){var s=e.x-t.x,c=e.y-t.y,p=i.x-n.x,v=i.y-n.y,m=(-c*(t.x-n.x)+s*(t.y-n.y))/(-p*c+s*v),x=(p*(t.y-n.y)-v*(t.x-n.x))/(-p*c+s*v);return m>=0&&m<=1&&x>=0&&x<=1},Fs=function(t,e,n){if(n.width===0&&n.height===0)return!1;var i=Ec(ka(n),4),s=i[0],c=i[1],p=i[2],v=i[3];return Da(t,e,s,c)||Da(t,e,s,v)||Da(t,e,c,p)||Da(t,e,p,v)},Lf=function(t,e,n,i){var s=[];return t.forEach(function(c){c!==e&&(c.x!==e.x&&c.y!==e.y||Fs(c,e,n)||Fs(c,e,i)||s.push(c))}),Ou(s)},Na=function(t,e,n,i,s,c,p){var v=[],m=[e],x={},S={},D={};S[e.id]=0,D[e.id]=$s(e,n,e);var I={};t.forEach(function(ne){I[ne.id]=ne});for(var H=function(){var ne=void 0,de=1/0;if(m.forEach(function(xe){D[xe.id]<de&&(de=D[xe.id],ne=xe)}),ne===n){var ye=[];return Uh(ye,I,x,n.id),{v:ye}}Hh(m,ne),v.push(ne),Lf(t,ne,i,s).forEach(function(xe){if(v.indexOf(xe)===-1){m.indexOf(xe)===-1&&m.push(xe);var Ce=D[ne.id]+wr(ne,xe);S[xe.id]&&Ce>=S[xe.id]||(x[xe.id]=ne.id,S[xe.id]=Ce,D[xe.id]=S[xe.id]+$s(xe,n,e,c,p))}})};m.length;){var ee=H();if(Xt(ee)==="object")return ee.v}return[e,n]},Bf=function(t){return ro(t)},Ws=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],i=t[e],s=t[e+1];n.x===i.x&&i.x===s.x||n.y===i.y&&i.y===s.y?t.splice(e,1):e++}return t},Gs=function(t,e,n,i,s){var c=Bf(n),p=Bf(i),v=Sc(c,s),m=Sc(p,s),x=jc(v,c,t),S=jc(m,p,e);if(zh(v,m)){var D=Us(t,e,x,S);return[t,x].concat(Ai(D),[S,e])}var I=ta([x,S]),H=If(v,I),ee=If(m,I),ne=[];ne=(ne=ne.concat(ka(H))).concat(ka(ee));var de={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[I,H,ee].forEach(function(xe){ne=ne.concat(hr(xe,de).filter(function(Ce){return Pc(Ce,v)&&Pc(Ce,m)}))}),[{x:x.x,y:S.y},{x:S.x,y:x.y}].forEach(function(xe){Pc(xe,v)&&Pc(xe,m)&&ne.push(xe)}),ne.unshift(x),ne.push(S),ne=Ou(ne);var ye=Na(ne,x,S,c,p,t,e);return ye.unshift(t),ye.push(e),ye.length>2&&(ye=Ws(ye)),Ou(ye)},Xh=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],i=t[1],s=Do(n.x,n.y,i.x,i.y),c=1;c<t.length-1;c++){var p=t[c],v=t[c+1],m=Do(p.x,p.y,v.x,v.y);m>s&&(s=m,n=p,i=v)}e=[n,i]}return e},zf=function(t,e,n){var i=Qo(t,n),s=Qo(e,n);return i&&s},$f=function(t,e,n){var i=Qo(t,n),s=Qo(e,n);return!(i&&s)&&(i||s)},Ff=function(t,e,n){for(var i,s,c=ro(n),p=ka(c),v=0;v<p.length;v++)Da(t,e,p[v],p[(v+1)%p.length])&&(s=[p[v],p[(v+1)%p.length]]);return s&&(i=function(m,x,S,D){var I=(x.y-m.y)*(D.x-S.x)-(m.x-x.x)*(S.y-D.y);if(I===0)return!1;var H=((x.x-m.x)*(D.x-S.x)*(S.y-m.y)+(x.y-m.y)*(D.x-S.x)*m.x-(D.y-S.y)*(x.x-m.x)*S.x)/I,ee=-((x.y-m.y)*(D.y-S.y)*(S.x-m.x)+(x.x-m.x)*(D.y-S.y)*m.y-(D.x-S.x)*(x.y-m.y)*S.y)/I;return(H-m.x)*(H-x.x)<=0&&(ee-m.y)*(ee-x.y)<=0&&(H-S.x)*(H-D.x)<=0&&(ee-S.y)*(ee-D.y)<=0&&{x:H,y:ee}}(t,e,s[0],s[1])),i},Ac=function(t,e){var n;return t.x===e.x?n=Tn.VERTICAL:t.y===e.y&&(n=Tn.HORIZONTAL),n},na=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(i){var s=Ec(i.split(","),2),c=s[0],p=s[1];n.push({x:Number(c),y:Number(p)})}),n},Us=function(t,e,n,i){var s=[];if(Ac(t,n)===Ac(e,i))t.y===n.y?(s.push({x:n.x,y:(n.y+i.y)/2}),s.push({x:i.x,y:(n.y+i.y)/2})):(s.push({x:(n.x+i.x)/2,y:n.y}),s.push({x:(n.x+i.x)/2,y:i.y}));else{var c={x:n.x,y:i.y},p=bu(c,t,n),v=bu(c,e,i);if(p||v)c={x:i.x,y:n.y};else{var m=Wf(c,t,n),x=Wf(c,e,i);m&&x&&(c={x:i.x,y:n.y})}s.push(c)}return s},Wf=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},Hs=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=i>=1&&i<=126||i>=65376&&i<=65439?1:2}return e},Gf=null,Uf=function(t,e){Gf||(Gf=document.createElement("canvas"));var n=Gf.getContext("2d");return n.font=e,n.measureText(t).width},Yh=function(t){var e,n=t.start,i=t.end;if(n.x===i.x&&n.y===i.y)e="";else{var s={start:n,end:i,offset:10,verticalLength:5},c=Pi(Ls(Ls({},s),{},{type:"start"})),p=Pi(Ls(Ls({},s),{},{type:"end"}));e="M".concat(c.leftX," ").concat(c.leftY," \n    L").concat(c.rightX," ").concat(c.rightY," \n    L").concat(p.rightX," ").concat(p.rightY,"\n    L").concat(p.leftX," ").concat(p.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Hf=function(t){var e=t.start,n=t.end,i=t.sourceNode,s=t.targetNode,c=t.offset,p=ro(i),v=ro(s),m=Sc(p,c),x=Sc(v,c);return{sNext:jc(m,p,e),ePre:jc(x,v,n)}},xr=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[wu(e[0]),wu(e[1]),wu(e[2]),wu(e[3])]},wu=function(t){var e=Ec(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Xf=function(t,e){var n=Ec(t,4);return[Cf(n[0],n[1],n[2],n[3],e),t[3]]},Yf=function(t,e){for(var n,i=t.x,s=t.y,c=na(e),p=Number.MAX_SAFE_INTEGER,v=[],m=0;m<c.length;m++)v.push({start:c[m],end:c[(m+1)%c.length]});if(v.forEach(function(I){var H=I.start,ee=I.end;if(H.x===ee.x){var ne={x:H.x,y:s};if(bu(ne,H,ee)){var de=Math.abs(H.x-i);de<p&&(p=de,n=ne)}}else if(H.y===ee.y){var ye={x:i,y:H.y};if(bu(ye,H,ee)){var xe=Math.abs(H.y-s);xe<p&&(p=xe,n=ye)}}}),!n){var x=v[0],S=x.start,D=x.end;n={x:S.x+(D.x-S.x)/2,y:S.y+(D.y-S.y)/2}}return n},Xs=function(t){return mi(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Tc=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function Vh(t,e){return typeof e!="function"?function(n,i,s){return Object.assign({type:t.edgeType},s)}:function(n,i,s){var c=e(n,i,s);return c?typeof c=="string"?Object.assign({},s,{type:c}):Object.assign({type:c},s):{type:t.edgeType}}}o(208);var Vf=function(){};function tv(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function tr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ei=function(){function t(i){var s=this,c=i.onDragStart,p=c===void 0?Vf:c,v=i.onDragging,m=v===void 0?Vf:v,x=i.onDragEnd,S=x===void 0?Vf:x,D=i.eventType,I=D===void 0?"":D,H=i.eventCenter,ee=H===void 0?null:H,ne=i.step,de=ne===void 0?1:ne,ye=i.isStopPropagation,xe=ye===void 0||ye,Ce=i.model,Qe=Ce===void 0?null:Ce,Ze=i.data,_t=Ze===void 0?null:Ze;(function(qe,dt){if(!(qe instanceof dt))throw new TypeError("Cannot call a class as a function")})(this,t),tr(this,"onDragStart",void 0),tr(this,"onDragging",void 0),tr(this,"onDragEnd",void 0),tr(this,"step",void 0),tr(this,"isStopPropagation",void 0),tr(this,"isDragging",!1),tr(this,"isStartDragging",!1),tr(this,"startX",0),tr(this,"startY",0),tr(this,"sumDeltaX",0),tr(this,"sumDeltaY",0),tr(this,"eventType",void 0),tr(this,"eventCenter",void 0),tr(this,"model",void 0),tr(this,"data",void 0),tr(this,"startTime",void 0),tr(this,"handleMouseDown",function(qe){var dt,rt,tn,an=(dt=window)===null||dt===void 0?void 0:dt.document;if(qe.button===0){s.isStopPropagation&&qe.stopPropagation(),s.isStartDragging=!0,s.startX=qe.clientX,s.startY=qe.clientY,an.addEventListener("mousemove",s.handleMouseMove,!1),an.addEventListener("mouseup",s.handleMouseUp,!1);var It=(rt=s.model)===null||rt===void 0?void 0:rt.getData();(tn=s.eventCenter)===null||tn===void 0||tn.emit(ht["".concat(s.eventType,"_MOUSEDOWN")],{e:qe,data:s.data||It}),s.startTime=new Date().getTime()}}),tr(this,"handleMouseMove",function(qe){if(s.isStopPropagation&&qe.stopPropagation(),s.isStartDragging&&(s.sumDeltaX+=qe.clientX-s.startX,s.sumDeltaY+=qe.clientY-s.startY,s.startX=qe.clientX,s.startY=qe.clientY,s.step<=1||Math.abs(s.sumDeltaX)>s.step||Math.abs(s.sumDeltaY)>s.step)){var dt,rt=s.sumDeltaX%s.step,tn=s.sumDeltaY%s.step,an=s.sumDeltaX-rt,It=s.sumDeltaY-tn;s.sumDeltaX=rt,s.sumDeltaY=tn;var fn,nr=(dt=s.model)===null||dt===void 0?void 0:dt.getData();s.isDragging||((fn=s.eventCenter)===null||fn===void 0||fn.emit(ht["".concat(s.eventType,"_DRAGSTART")],{e:qe,data:s.data||nr}),s.onDragStart({event:qe})),s.isDragging=!0,Promise.resolve().then(function(){var rr,Br;s.onDragging({deltaX:an,deltaY:It,event:qe}),(rr=s.eventCenter)===null||rr===void 0||rr.emit(ht["".concat(s.eventType,"_MOUSEMOVE")],{e:qe,data:s.data||nr}),(Br=s.eventCenter)===null||Br===void 0||Br.emit(ht["".concat(s.eventType,"_DRAG")],{e:qe,data:s.data||nr})})}}),tr(this,"handleMouseUp",function(qe){var dt=window.document;s.isStartDragging=!1,s.isStopPropagation&&qe.stopPropagation(),Promise.resolve().then(function(){var rt,tn,an;dt.removeEventListener("mousemove",s.handleMouseMove,!1),dt.removeEventListener("mouseup",s.handleMouseUp,!1);var It=(rt=s.model)===null||rt===void 0?void 0:rt.getData();(tn=s.eventCenter)===null||tn===void 0||tn.emit(ht["".concat(s.eventType,"_MOUSEUP")],{e:qe,data:s.data||It}),s.isDragging&&(s.isDragging=!1,s.onDragEnd({event:qe}),(an=s.eventCenter)===null||an===void 0||an.emit(ht["".concat(s.eventType,"_DROP")],{e:qe,data:s.data||It}))})}),tr(this,"cancelDrag",function(){var qe,dt=(qe=window)===null||qe===void 0?void 0:qe.document;dt.removeEventListener("mousemove",s.handleMouseMove,!1),dt.removeEventListener("mouseup",s.handleMouseUp,!1),s.onDragEnd({event:null}),s.isDragging=!1}),this.onDragStart=p,this.onDragging=m,this.onDragEnd=S,this.step=de,this.isStopPropagation=xe,this.eventType=I,this.eventCenter=ee,this.model=Qe,this.data=_t}var e,n;return e=t,(n=[{key:"setStep",value:function(i){this.step=i}},{key:"setModel",value:function(i){this.model=i}}])&&tv(e.prototype,n),t}();function Kf(t){return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function Mc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ys(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function qf(t,e,n){return e&&Ys(t.prototype,e),n&&Ys(t,n),t}function Zf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function Jf(t){var e=Kh();return function(){var n,i=y(t);if(e){var s=y(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return nv(this,n)}}function nv(t,e){if(e&&(Kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ti(t)}function Ti(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qf(t){var e=typeof Map=="function"?new Map:void 0;return Qf=function(n){if(n===null||(i=n,Function.toString.call(i).indexOf("[native code]")===-1))return n;var i;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,s)}function s(){return ep(n,arguments,y(this).constructor)}return s.prototype=Object.create(n.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),f(s,n)},Qf(t)}function ep(t,e,n){return ep=Kh()?Reflect.construct:function(i,s,c){var p=[null];p.push.apply(p,s);var v=new(Function.bind.apply(i,p));return c&&f(v,c.prototype),v},ep.apply(null,arguments)}function Kh(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(t,e){return f=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},f(t,e)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(t)}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A(t,e){return t instanceof W&&e instanceof W}var R=function(t){Zf(n,t);var e=Jf(n);function n(i,s,c){var p;return Mc(this,n),_(Ti(p=e.call(this,3)),"x",void 0),_(Ti(p),"y",void 0),_(Ti(p),"z",void 0),p[0]=i,p[1]=s,p[2]=c,p.x=i,p.y=s,p.z=c,Object.setPrototypeOf(Ti(p),n.prototype),p}return qf(n,[{key:"add",value:function(i){if(A(this,i))return new W(this.x+i.x,this.y+i.y);var s=this.z+i.z;return new oe((this.x+i.x)/s,(this.y+i.y)/s)}},{key:"subtract",value:function(i){if(A(this,i))return new W(this.x-i.x,this.y-i.y);var s=this.z-i.z;return s===0?new W(this.x-i.x,this.y-i.y):new oe((this.x-i.x)/s,(this.y-i.y)/s)}}]),n}(Qf(Array)),W=function(t){Zf(n,t);var e=Jf(n);function n(i,s,c){var p;return Mc(this,n),p=e.call(this,i,s,c!=null?c:0),Object.setPrototypeOf(Ti(p),n.prototype),p}return qf(n,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(i){var s=this;return i.reduce(function(c,p,v){return c+p*s[v]})}},{key:"cross",value:function(i){return new n(this.y*i.z-this.z*i.y,this.z*i.x-this.x*i.z,this.x*i.y-this.y*i.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var i=this.getLength();return new n(this.x/i,this.y/i)}},{key:"crossZ",value:function(i){return this.x*i.y-this.y*i.x}},{key:"angle",value:function(i){var s=this.crossZ(i),c=Math.acos(this.normalize().dot(i.normalize()));return s>=0?c:-c}}]),n}(R),oe=function(t){Zf(n,t);var e=Jf(n);function n(i,s){var c;return Mc(this,n),c=e.call(this,i,s,1),Object.setPrototypeOf(Ti(c),n.prototype),c}return qf(n,[{key:"toString",value:function(){return"Point"}}]),n}(R);o(67),o(218);function le(t){return le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(t)}function Oe(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||Re(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(t){return function(e){if(Array.isArray(e))return Ge(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Re(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(t,e){if(t){if(typeof t=="string")return Ge(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(t,e):void 0}}function Ge(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function st(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function jt(t,e,n){return e&&vt(t.prototype,e),n&&vt(t,n),t}function Be(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bt(t,e)}function He(t){var e=nn();return function(){var n,i=Pt(t);if(e){var s=Pt(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return zt(this,n)}}function zt(t,e){if(e&&(le(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nt(t)}function nt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dt(t){var e=typeof Map=="function"?new Map:void 0;return Dt=function(n){if(n===null||(i=n,Function.toString.call(i).indexOf("[native code]")===-1))return n;var i;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,s)}function s(){return Mt(n,arguments,Pt(this).constructor)}return s.prototype=Object.create(n.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),bt(s,n)},Dt(t)}function Mt(t,e,n){return Mt=nn()?Reflect.construct:function(i,s,c){var p=[null];p.push.apply(p,s);var v=new(Function.bind.apply(i,p));return c&&bt(v,c.prototype),v},Mt.apply(null,arguments)}function nn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function bt(t,e){return bt=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},bt(t,e)}function Pt(t){return Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pt(t)}function Wn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var be,No,ar,ti,Mi,xu,kc,Ra,ra,tp,np,Dc,Vs,oa=function(t){Be(n,t);var e=He(n);function n(){var i;st(this,n);for(var s=arguments.length,c=new Array(s),p=0;p<s;p++)c[p]=arguments[p];return Wn(nt(i=e.call(this,c.length)),"rows",void 0),Wn(nt(i),"columns",void 0),i.fill(new Array(3)),c.forEach(function(v,m){i[m]=v}),i.columns=c[0].length,i.rows=c.length,Object.setPrototypeOf(nt(i),n.prototype),i}return jt(n,[{key:"getRow",value:function(i){return this[i]}},{key:"getColumn",value:function(i){return Le(this.map(function(s){return s[i]}))}},{key:"transpose",value:function(){for(var i=[],s=0;s<this.columns;s++)i.push(this.getColumn(s));return Mt(n,i)}},{key:"cross",value:function(i){var s=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===i.rows)for(var c=0;c<this.rows;c++)for(var p=this.getRow(c),v=function(x){var S=i.getColumn(x);s[c][x]=p.reduce(function(D,I,H){return D+I*S[H]},0)},m=0;m<i.columns;m++)v(m);return Mt(n,Le(s))}},{key:"to2D",value:function(){return this.map(function(i){return[i[0],i[1]]})}},{key:"toPoints",value:function(){return this.map(function(i){return new oe(i[0],i[1])})}},{key:"toString",value:function(){var i=Oe(this[0],2),s=i[0],c=i[1],p=Oe(this[1],2),v=p[0],m=p[1],x=Oe(this[2],2),S=x[0],D=x[1];return"matrix(".concat(s," ").concat(c," ").concat(v," ").concat(m," ").concat(S," ").concat(D,")")}},{key:"translate",value:function(i,s){return this.cross(new ia(i,s))}},{key:"rotate",value:function(i){return this.cross(new Nc(i))}},{key:"scale",value:function(i,s){return this.cross(new rp(i,s))}}]),n}(Dt(Array)),Nc=function(t){Be(n,t);var e=He(n);function n(i){var s;return st(this,n),s=e.call(this,new W(+Math.cos(i).toFixed(2),+Math.sin(i).toFixed(2),0),new W(-Math.sin(i).toFixed(2),+Math.cos(i).toFixed(2),0),new W(0,0,1)),Object.setPrototypeOf(nt(s),n.prototype),s}return jt(n,[{key:"inverse",value:function(){return this.transpose()}}]),n}(oa),rp=function(t){Be(n,t);var e=He(n);function n(i,s){var c;return st(this,n),Wn(nt(c=e.call(this,new W(i,0,0),new W(0,s,0),new W(0,0,1))),"sx",void 0),Wn(nt(c),"sy",void 0),c.sx=i,c.sy=s,Object.setPrototypeOf(nt(c),n.prototype),c}return jt(n,[{key:"inverse",value:function(){return new n(1/this.sx,1/this.sy)}}]),n}(oa),ia=function(t){Be(n,t);var e=He(n);function n(i,s){var c;return st(this,n),Wn(nt(c=e.call(this,new W(1,0,0),new W(0,1,0),new W(i,s,1))),"tx",void 0),Wn(nt(c),"ty",void 0),c.tx=i,c.ty=s,Object.setPrototypeOf(nt(c),n.prototype),c}return jt(n,[{key:"inverse",value:function(){return new n(-this.tx,-this.ty)}}]),n}(oa),Rc={node:!1,edge:!1},BE={node:!0,edge:!0};function qm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function qh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qm(Object(n),!0).forEach(function(i){ki(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qm(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Ks(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||Zm(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qs(t){return function(e){if(Array.isArray(e))return rv(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Zm(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zm(t,e){if(t){if(typeof t=="string")return rv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rv(t,e):void 0}}function rv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Zh(t){return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function ni(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function zE(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ki(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wt(t,e,n,i,s){var c={};return Object.keys(i).forEach(function(p){c[p]=i[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var Jm,Qm=200,e0=(be=function(){function t(i){(function(H,ee){if(!(H instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,t),ki(this,"rootEl",void 0),ni(this,"width",No,this),ni(this,"height",ar,this),ki(this,"theme",void 0),ki(this,"eventCenter",void 0),ki(this,"modelMap",new Map),ki(this,"topElement",void 0),ki(this,"animation",void 0),ki(this,"idGenerator",void 0),ki(this,"edgeGenerator",void 0),ki(this,"nodeMoveRules",[]),ki(this,"customTrajectory",void 0),ni(this,"edgeType",ti,this),ni(this,"nodes",Mi,this),ni(this,"edges",xu,this),ni(this,"overlapMode",kc,this),ni(this,"background",Ra,this),ni(this,"transformModel",ra,this),ni(this,"editConfigModel",tp,this),ni(this,"gridSize",np,this),ni(this,"partial",Dc,this),ni(this,"fakerNode",Vs,this);var s,c=i.container,p=i.background,v=p===void 0?{}:p,m=i.grid,x=i.idGenerator,S=i.edgeGenerator,D=i.animation,I=i.customTrajectory;this.background=v,Zh(m)==="object"&&(this.gridSize=m.size),this.rootEl=c,this.editConfigModel=new Vl(i),this.eventCenter=new Ss,this.transformModel=new Vp(this.eventCenter,i),this.theme=fc(i.style),this.edgeType=i.edgeType||"polyline",this.width=i.width,this.height=i.height,this.animation=(s=D)&&typeof s!="boolean"?Aa(In(Rc),s):In(s===!0?BE:Rc),this.partial=i.partial,this.overlapMode=i.overlapMode||0,this.idGenerator=x,this.customTrajectory=I,this.edgeGenerator=Vh(this,S),this.width=i.width||this.rootEl.getBoundingClientRect().width,this.height=i.height||this.rootEl.getBoundingClientRect().height,this.flowId=Zi()}var e,n;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(i,s,c){return i[s.id]={index:c,model:s},i},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(i,s,c){return i[s.id]={index:c,model:s},i},{})}},{key:"modelsMap",get:function(){return[].concat(qs(this.nodes),qs(this.edges)).reduce(function(i,s){return i[s.id]=s,i},{})}},{key:"sortElements",get:function(){var i=[];this.nodes.forEach(function(x){return i.push(x)}),this.edges.forEach(function(x){return i.push(x)}),i=i.sort(function(x,S){return x.zIndex-S.zIndex});for(var s=[],c=[-200,-200],p=[this.width+Qm,this.height+Qm],v=0;v<i.length;v++){var m=i[v];m.visible&&(!this.partial||m.isSelected||this.isElementInArea(m,c,p,!1,!1))&&s.push(m)}return s}},{key:"textEditElement",get:function(){var i=this.nodes.find(function(c){return c.state===vn.TEXT_EDIT}),s=this.edges.find(function(c){return c.state===vn.TEXT_EDIT});return i||s}},{key:"selectElements",get:function(){var i=new Map;return this.nodes.forEach(function(s){s.isSelected&&i.set(s.id,s)}),this.edges.forEach(function(s){s.isSelected&&i.set(s.id,s)}),i}},{key:"selectNodes",get:function(){var i=[];return this.nodes.forEach(function(s){s.isSelected&&i.push(s)}),i}},{key:"getAreaElement",value:function(i,s){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],p=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],v=arguments.length>4&&arguments[4]!==void 0&&arguments[4],m=[],x=[];this.nodes.forEach(function(I){return x.push(I)}),this.edges.forEach(function(I){return x.push(I)});for(var S=0;S<x.length;S++){var D=x[S];v&&!D.visible||!this.isElementInArea(D,i,s,c,p)||m.push(D)}return m}},{key:"getModel",value:function(i){return this.modelMap.get(i)}},{key:"getNodeModelById",value:function(i){var s;return this.fakerNode&&i===this.fakerNode.id?this.fakerNode:(s=this.nodesMap[i])===null||s===void 0?void 0:s.model}},{key:"getPointByClient",value:function(i){var s=i.x,c=i.y,p=this.rootEl.getBoundingClientRect(),v={x:s-p.left,y:c-p.top},m=Ks(this.transformModel.HtmlPointToCanvasPoint([v.x,v.y]),2);return{domOverlayPosition:v,canvasOverlayPosition:{x:m[0],y:m[1]}}}},{key:"isElementInArea",value:function(i,s,c){var p=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],v=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(i.BaseType===Jn.NODE){for(var m=ro(i=i),x=m.minX,S=m.minY,D=m.maxX,I=m.maxY,H=[{x,y:S},{x:D,y:S},{x:D,y:I},{x,y:I}],ee=v,ne=0;ne<H.length;ne++){var de=H[ne],ye=de.x,xe=de.y,Ce=this.transformModel.CanvasPointToHtmlPoint([ye,xe]),Qe=Ks(Ce,2);if(ye=Qe[0],xe=Qe[1],sf([ye,xe],s,c)!==v){ee=!v;break}}return ee}if(i.BaseType===Jn.EDGE){var Ze=i=i,_t=Ze.startPoint,qe=Ze.endPoint,dt=this.transformModel.CanvasPointToHtmlPoint([_t.x,_t.y]),rt=this.transformModel.CanvasPointToHtmlPoint([qe.x,qe.y]),tn=sf(dt,s,c),an=sf(rt,s,c);return p?tn&&an:tn||an}return!1}},{key:"graphDataToModel",value:function(i){var s=this;if(this.width&&this.height||this.resize(),!i)return this.nodes=[],void(this.edges=[]);i.nodes?this.nodes=us(i.nodes,function(c){return s.getModelAfterSnapToGrid(c)}):this.nodes=[],i.edges?this.edges=us(i.edges,function(c){var p=s.getModel(c.type);if(!p)throw new Error("找不到".concat(c.type,"对应的边。"));return new p(c,s)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var i=[];this.edges.forEach(function(c){var p=c.getData();p&&!c.virtual&&i.push(p)});var s=[];return this.nodes.forEach(function(c){var p=c.getData();p&&!c.virtual&&s.push(p)}),{nodes:s,edges:i}}},{key:"modelToHistoryData",value:function(){for(var i=!1,s=[],c=0;c<this.nodes.length;c++){var p=this.nodes[c];if(p.isDragging){i=!0;break}s.push(p.getHistoryData())}if(i)return!1;for(var v=!1,m=[],x=0;x<this.edges.length;x++){var S=this.edges[x];if(S.isDragging){v=!0;break}m.push(S.getHistoryData())}return!v&&{nodes:s,edges:m}}},{key:"getEdgeModelById",value:function(i){var s;return(s=this.edgesMap[i])===null||s===void 0?void 0:s.model}},{key:"getElement",value:function(i){return this.modelsMap[i]}},{key:"getNodeEdges",value:function(i){for(var s=[],c=0;c<this.edges.length;c++){var p=this.edges[c],v=this.edges[c].sourceNodeId===i,m=this.edges[c].targetNodeId===i;(v||m)&&s.push(p)}return s}},{key:"getSelectElements",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],s=this.selectElements,c={nodes:[],edges:[]};return s.forEach(function(p){if(p.BaseType===Jn.NODE&&c.nodes.push(p.getData()),p.BaseType===Jn.EDGE){var v=p.getData(),m=s.get(v.sourceNodeId)&&s.get(v.targetNodeId);(i||m)&&c.edges.push(v)}}),c}},{key:"updateAttributes",value:function(i,s){this.getElement(i).updateAttributes(s)}},{key:"changeNodeId",value:function(i,s){return s||(s=Zi()),this.nodesMap[s]?"":this.nodesMap[i]?(this.edges.forEach(function(c){c.sourceNodeId===i&&(c.sourceNodeId=s),c.targetNodeId===i&&(c.targetNodeId=s)}),this.nodesMap[i].model.id=s,this.nodesMap[s]=this.nodesMap[i],s):""}},{key:"changeEdgeId",value:function(i,s){return s||(s=Zi()),this.edgesMap[s]?"":this.edgesMap[i]?(this.edges.forEach(function(c){c.id===i&&c.changeEdgeId(s)}),s):""}},{key:"setFakerNode",value:function(i){this.fakerNode=i}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(i,s){return this.modelMap.set(i,s)}},{key:"toFront",value:function(i){var s,c,p,v=((s=this.nodesMap[i])===null||s===void 0?void 0:s.model)||((c=this.edgesMap[i])===null||c===void 0?void 0:c.model);v&&(this.overlapMode===$n.DEFAULT&&((p=this.topElement)===null||p===void 0||p.setZIndex(),v.setZIndex(9999),this.topElement=v),this.overlapMode===$n.INCREASE&&this.setElementZIndex(i,"top"))}},{key:"setElementZIndex",value:function(i,s){var c,p,v,m=((c=this.nodesMap[i])===null||c===void 0?void 0:c.model)||((p=this.edgesMap[i])===null||p===void 0?void 0:p.model);m&&(typeof s=="number"&&(v=s),s==="top"&&(v=Mf()),s==="bottom"&&(v=--Ky),m.setZIndex(v))}},{key:"deleteNode",value:function(i){var s=this.nodesMap[i].model.getData();this.deleteEdgeBySource(i),this.deleteEdgeByTarget(i),this.nodes.splice(this.nodesMap[i].index,1),this.eventCenter.emit(ht.NODE_DELETE,{data:s})}},{key:"addNode",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ht.NODE_ADD,c=arguments.length>2?arguments[2]:void 0,p=_r(i);p.id&&this.nodesMap[i.id]&&delete p.id;var v=this.getModelAfterSnapToGrid(p);this.nodes.push(v);var m=v.getData(),x={data:m};return c&&(x.e=c),this.eventCenter.emit(s,x),v}},{key:"getModelAfterSnapToGrid",value:function(i){var s=this.getModel(i.type);if(!s)throw new Error("找不到".concat(i.type,"对应的节点，请确认是否已注册此类型节点。"));var c=i.x,p=i.y;return c&&p&&(i.x=Ki(c,this.gridSize),i.y=Ki(p,this.gridSize),Zh(i.text)==="object"&&(i.text.x+=i.x-c,i.text.y+=i.y-p)),new s(i,this)}},{key:"cloneNode",value:function(i){var s=this.getNodeModelById(i),c=s.getData();c.x+=30,c.y+=30,delete c.id,c.text&&(c.text.x+=30,c.text.y+=30);var p=this.addNode(c);return p.setSelected(!0),s.setSelected(!1),p.getData()}},{key:"moveNode",value:function(i,s,c){var p=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=this.nodesMap[i];if(v){var m=v.model,x=m.getMoveDistance(s,c,p),S=Ks(x,2);s=S[0],c=S[1],this.moveEdge(i,s,c)}}},{key:"moveNode2Coordinate",value:function(i,s,c){var p=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=this.nodesMap[i];if(v){var m=v.model,x=m.x,S=m.y,D=s-x,I=c-S;this.moveNode(i,D,I,p)}}},{key:"editText",value:function(i){this.setElementStateById(i,vn.TEXT_EDIT)}},{key:"addEdge",value:function(i){var s=_r(i),c=s.type;c||(c=this.edgeType),s.id&&this.edgesMap[s.id]&&delete s.id;var p=this.getModel(c);if(!p)throw new Error("找不到".concat(c,"对应的边，请确认是否已注册此类型边。"));var v=new p(qh(qh({},s),{},{type:c}),this),m=v.getData();return this.edges.push(v),this.eventCenter.emit(ht.EDGE_ADD,{data:m}),v}},{key:"moveEdge",value:function(i,s,c){for(var p=0;p<this.edges.length;p++){var v=this.edges[p],m=v.textPosition,x=m.x,S=m.y,D=this.edges[p].sourceNodeId===i,I=this.edges[p].targetNodeId===i;D&&v.moveStartPoint(s,c),I&&v.moveEndPoint(s,c),(D||I)&&this.handleEdgeTextMove(v,x,S)}}},{key:"handleEdgeTextMove",value:function(i,s,c){var p;if(i.customTextPosition===!0)i.resetTextPosition();else if(i.modelType===Zt.POLYLINE_EDGE&&(p=i.text)!==null&&p!==void 0&&p.value){var v=i.text,m=Yf(v,i.points);i.moveText(m.x-v.x,m.y-v.y)}else{var x=i.textPosition,S=x.x,D=x.y;i.moveText(S-s,D-c)}}},{key:"deleteEdgeBySourceAndTarget",value:function(i,s){for(var c=0;c<this.edges.length;c++)if(this.edges[c].sourceNodeId===i&&this.edges[c].targetNodeId===s){var p=this.edges[c].getData();this.edges.splice(c,1),c--,this.eventCenter.emit(ht.EDGE_DELETE,{data:p})}}},{key:"deleteEdgeById",value:function(i){if(this.edgesMap[i]){var s=this.edgesMap[i].index,c=this.edgesMap[i].model.getData();this.edges.splice(s,1),this.eventCenter.emit(ht.EDGE_DELETE,{data:c})}}},{key:"deleteEdgeBySource",value:function(i){for(var s=0;s<this.edges.length;s++)if(this.edges[s].sourceNodeId===i){var c=this.edges[s].getData();this.edges.splice(s,1),s--,this.eventCenter.emit(ht.EDGE_DELETE,{data:c})}}},{key:"deleteEdgeByTarget",value:function(i){for(var s=0;s<this.edges.length;s++)if(this.edges[s].targetNodeId===i){var c=this.edges[s].getData();this.edges.splice(s,1),s--,this.eventCenter.emit(ht.EDGE_DELETE,{data:c})}}},{key:"setElementStateById",value:function(i,s,c){this.nodes.forEach(function(p){p.id===i?p.setElementState(s,c):p.setElementState(vn.DEFAULT)}),this.edges.forEach(function(p){p.id===i?p.setElementState(s,c):p.setElementState(vn.DEFAULT)})}},{key:"updateText",value:function(i,s){this.nodes.forEach(function(c){c.id===i&&c.updateText(s)}),this.edges.forEach(function(c){c.id===i&&c.updateText(s)})}},{key:"selectNodeById",value:function(i){var s,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c||this.clearSelectElements();var p=(s=this.nodesMap[i])===null||s===void 0?void 0:s.model;p==null||p.setSelected(!0)}},{key:"selectEdgeById",value:function(i){var s,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c||this.clearSelectElements();var p=(s=this.edgesMap[i])===null||s===void 0?void 0:s.model;p==null||p.setSelected(!0)}},{key:"selectElementById",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];s||this.clearSelectElements();var c=this.getElement(i);c==null||c.setSelected(!0)}},{key:"clearSelectElements",value:function(){var i;this.selectElements.forEach(function(s){s==null||s.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===$n.DEFAULT&&((i=this.topElement)===null||i===void 0||i.setZIndex())}},{key:"moveNodes",value:function(i,s,c){for(var p=this,v=arguments.length>3&&arguments[3]!==void 0&&arguments[3],m=i.reduce(function(Ze,_t){var qe=p.nodesMap[_t].model.getMoveDistance(s,c,v);return Ze[_t]=qe,Ze},{}),x=0;x<this.edges.length;x++){var S=this.edges[x],D=S.textPosition,I=D.x,H=D.y,ee=m[S.sourceNodeId],ne=m[S.targetNodeId],de=void 0,ye=void 0;if(ee&&ne&&S.modelType===Zt.POLYLINE_EDGE){var xe=Ks(ee,2);de=xe[0],ye=xe[1],S.updatePointsList(de,ye)}else{if(ee){var Ce=Ks(ee,2);de=Ce[0],ye=Ce[1],S.moveStartPoint(de,ye)}if(ne){var Qe=Ks(ne,2);de=Qe[0],ye=Qe[1],S.moveEndPoint(de,ye)}}(ee||ne)&&this.handleEdgeTextMove(S,I,H)}}},{key:"addNodeMoveRules",value:function(i){this.nodeMoveRules.includes(i)||this.nodeMoveRules.push(i)}},{key:"setDefaultEdgeType",value:function(i){this.edgeType=i}},{key:"changeNodeType",value:function(i,s){var c=this.getNodeModelById(i);if(c){var p=c.getData();p.type=s;var v=this.getModel(s);if(!v)throw new Error("找不到".concat(s,"对应的节点，请确认是否已注册此类型节点。"));var m=new v(p,this);this.nodes.splice(this.nodesMap[i].index,1,m),this.getNodeEdges(i).forEach(function(x){if(x.sourceNodeId===i){var S=jh(m,x.startPoint,m.width,m.height);x.updateStartPoint(S)}if(x.targetNodeId===i){var D=jh(m,x.endPoint,m.width,m.height);x.updateEndPoint(D)}})}}},{key:"changeEdgeType",value:function(i,s){var c=this.getEdgeModelById(i);if(c&&c.type!==s){var p=c.getData();p.type=s;var v=this.getModel(s);if(!v)throw new Error("找不到".concat(s,"对应的节点，请确认是否已注册此类型节点。"));delete p.pointsList;var m=new v(p,this);this.edges.splice(this.edgesMap[i].index,1,m)}}},{key:"getNodeIncomingEdge",value:function(i){var s=[];return this.edges.forEach(function(c){c.targetNodeId===i&&s.push(c)}),s}},{key:"getNodeOutgoingEdge",value:function(i){var s=[];return this.edges.forEach(function(c){c.sourceNodeId===i&&s.push(c)}),s}},{key:"getAnchorIncomingEdge",value:function(i){var s=[];return this.edges.forEach(function(c){c.targetAnchorId===i&&s.push(c)}),s}},{key:"getAnchorOutcomingEdge",value:function(i){var s=[];return this.edges.forEach(function(c){c.sourceAnchorId===i&&s.push(c)}),s}},{key:"getNodeIncomingNode",value:function(i){var s=this,c=[];return this.edges.forEach(function(p){p.targetNodeId===i&&c.push(s.nodesMap[p.sourceNodeId].model)}),c}},{key:"getNodeOutgoingNode",value:function(i){var s=this,c=[];return this.edges.forEach(function(p){p.sourceNodeId===i&&c.push(s.nodesMap[p.targetNodeId].model)}),c}},{key:"setTheme",value:function(i){this.theme=fc(qh(qh({},this.theme),i))}},{key:"resize",value:function(i,s){this.width=i||this.rootEl.getBoundingClientRect().width,this.height=s||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var i=this.nodes,s=[],c=[];i.forEach(function(D){var I=D.x,H=D.y,ee=D.width,ne=D.height,de=D.getNodeStyle().strokeWidth,ye=de===void 0?0:de,xe=I+ee/2+ye,Ce=I-ee/2-ye,Qe=H+ne/2+ye,Ze=H-ne/2-ye;s=s.concat([xe,Ce].filter(function(_t){return!Number.isNaN(_t)})),c=c.concat([Qe,Ze].filter(function(_t){return!Number.isNaN(_t)}))});var p=Math.min.apply(Math,qs(s)),v=Math.max.apply(Math,qs(s)),m=Math.min.apply(Math,qs(c)),x=v-p||0,S=Math.max.apply(Math,qs(c))-m||0;return{virtualRectWidth:x,virtualRectHeight:S,virtualRectCenterPositionX:p+x/2,virtualRectCenterPositionY:m+S/2}}},{key:"translateCenter",value:function(){var i=this.nodes,s=this.width,c=this.height,p=this.rootEl,v=this.transformModel;if(i.length){var m=s||p.clientWidth,x=c||p.clientHeight,S=this.getVirtualRectSize(),D=S.virtualRectCenterPositionX,I=S.virtualRectCenterPositionY;v.focusOn(D,I,m,x)}}},{key:"fitView",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,c=this.nodes,p=this.width,v=this.height,m=this.rootEl,x=this.transformModel;if(c.length){var S=p||m.clientWidth,D=v||m.clientHeight,I=this.getVirtualRectSize(),H=I.virtualRectWidth,ee=I.virtualRectHeight,ne=I.virtualRectCenterPositionX,de=I.virtualRectCenterPositionY,ye=(H+s)/S,xe=(ee+i)/D,Ce=0;Ce=1/Math.max(ye,xe);var Qe=[S/2,D/2];x.zoom(Ce,Qe),x.focusOn(ne,de,S,D)}}},{key:"openEdgeAnimation",value:function(i){this.getEdgeModelById(i).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(i){this.getEdgeModelById(i).closeEdgeAnimation()}}],n&&zE(e.prototype,n),t}(),No=wt(be.prototype,"width",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ar=wt(be.prototype,"height",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ti=wt(be.prototype,"edgeType",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mi=wt(be.prototype,"nodes",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xu=wt(be.prototype,"edges",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kc=wt(be.prototype,"overlapMode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $n.DEFAULT}}),Ra=wt(be.prototype,"background",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ra=wt(be.prototype,"transformModel",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tp=wt(be.prototype,"editConfigModel",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),np=wt(be.prototype,"gridSize",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Dc=wt(be.prototype,"partial",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vs=wt(be.prototype,"fakerNode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt(be.prototype,"nodesMap",[d.m],Object.getOwnPropertyDescriptor(be.prototype,"nodesMap"),be.prototype),wt(be.prototype,"edgesMap",[d.m],Object.getOwnPropertyDescriptor(be.prototype,"edgesMap"),be.prototype),wt(be.prototype,"modelsMap",[d.m],Object.getOwnPropertyDescriptor(be.prototype,"modelsMap"),be.prototype),wt(be.prototype,"sortElements",[d.m],Object.getOwnPropertyDescriptor(be.prototype,"sortElements"),be.prototype),wt(be.prototype,"textEditElement",[d.m],Object.getOwnPropertyDescriptor(be.prototype,"textEditElement"),be.prototype),wt(be.prototype,"selectElements",[d.m],Object.getOwnPropertyDescriptor(be.prototype,"selectElements"),be.prototype),wt(be.prototype,"selectNodes",[d.m],Object.getOwnPropertyDescriptor(be.prototype,"selectNodes"),be.prototype),wt(be.prototype,"setFakerNode",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"setFakerNode"),be.prototype),wt(be.prototype,"removeFakerNode",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"removeFakerNode"),be.prototype),wt(be.prototype,"setModel",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"setModel"),be.prototype),wt(be.prototype,"toFront",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"toFront"),be.prototype),wt(be.prototype,"setElementZIndex",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"setElementZIndex"),be.prototype),wt(be.prototype,"deleteNode",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"deleteNode"),be.prototype),wt(be.prototype,"addNode",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"addNode"),be.prototype),wt(be.prototype,"cloneNode",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"cloneNode"),be.prototype),wt(be.prototype,"moveNode",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"moveNode"),be.prototype),wt(be.prototype,"moveNode2Coordinate",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"moveNode2Coordinate"),be.prototype),wt(be.prototype,"editText",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"editText"),be.prototype),wt(be.prototype,"addEdge",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"addEdge"),be.prototype),wt(be.prototype,"moveEdge",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"moveEdge"),be.prototype),wt(be.prototype,"deleteEdgeBySourceAndTarget",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"deleteEdgeBySourceAndTarget"),be.prototype),wt(be.prototype,"deleteEdgeById",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"deleteEdgeById"),be.prototype),wt(be.prototype,"deleteEdgeBySource",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"deleteEdgeBySource"),be.prototype),wt(be.prototype,"deleteEdgeByTarget",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"deleteEdgeByTarget"),be.prototype),wt(be.prototype,"setElementStateById",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"setElementStateById"),be.prototype),wt(be.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"updateText"),be.prototype),wt(be.prototype,"selectNodeById",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"selectNodeById"),be.prototype),wt(be.prototype,"selectEdgeById",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"selectEdgeById"),be.prototype),wt(be.prototype,"selectElementById",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"selectElementById"),be.prototype),wt(be.prototype,"clearSelectElements",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"clearSelectElements"),be.prototype),wt(be.prototype,"moveNodes",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"moveNodes"),be.prototype),wt(be.prototype,"setDefaultEdgeType",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"setDefaultEdgeType"),be.prototype),wt(be.prototype,"changeNodeType",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"changeNodeType"),be.prototype),wt(be.prototype,"changeEdgeType",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"changeEdgeType"),be.prototype),wt(be.prototype,"getNodeIncomingEdge",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"getNodeIncomingEdge"),be.prototype),wt(be.prototype,"getNodeOutgoingEdge",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"getNodeOutgoingEdge"),be.prototype),wt(be.prototype,"getAnchorIncomingEdge",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"getAnchorIncomingEdge"),be.prototype),wt(be.prototype,"getAnchorOutcomingEdge",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"getAnchorOutcomingEdge"),be.prototype),wt(be.prototype,"getNodeIncomingNode",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"getNodeIncomingNode"),be.prototype),wt(be.prototype,"getNodeOutgoingNode",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"getNodeOutgoingNode"),be.prototype),wt(be.prototype,"setTheme",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"setTheme"),be.prototype),wt(be.prototype,"resize",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"resize"),be.prototype),wt(be.prototype,"clearData",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"clearData"),be.prototype),wt(be.prototype,"translateCenter",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"translateCenter"),be.prototype),wt(be.prototype,"fitView",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"fitView"),be.prototype),wt(be.prototype,"openEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"openEdgeAnimation"),be.prototype),wt(be.prototype,"closeEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(be.prototype,"closeEdgeAnimation"),be.prototype),be),$E=e0;function ov(t){return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ov(t)}function iv(){return iv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},iv.apply(this,arguments)}function FE(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function av(t,e){return av=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},av(t,e)}function WE(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Jh(t);if(e){var s=Jh(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return GE(this,n)}}function GE(t,e){if(e&&(ov(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aa(t)}function aa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jh(t){return Jh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jh(t)}function Ca(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var t0,UE=Ci(Jm=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&av(c,p)})(s,t);var e,n,i=WE(s);function s(c){var p;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,s),Ca(aa(p=i.call(this)),"stepDrag",void 0),Ca(aa(p),"stepScrollX",0),Ca(aa(p),"stepScrollY",0),Ca(aa(p),"onDragging",function(S){var D=S.deltaX,I=S.deltaY;p.setState({isDragging:!0});var H=p.props.graphModel,ee=H.transformModel;H.editConfigModel.stopMoveGraph!==!0&&ee.translate(D,I)}),Ca(aa(p),"onDragEnd",function(){p.setState({isDragging:!1})}),Ca(aa(p),"zoomHandler",function(S){var D=p.props,I=D.graphModel,H=I.editConfigModel,ee=I.transformModel,ne=I.gridSize,de=D.graphModel,ye=S.deltaX,xe=S.deltaY;if(H.stopScrollGraph||S.ctrlKey===!0){if(!H.stopZoomGraph){S.preventDefault();var Ce=de.getPointByClient({x:S.clientX,y:S.clientY}).canvasOverlayPosition,Qe=Ce.x,Ze=Ce.y;ee.zoom(S.deltaY<0,[Qe,Ze])}}else{if(S.preventDefault(),p.stepScrollX+=ye,p.stepScrollY+=xe,Math.abs(p.stepScrollX)>=ne){var _t=p.stepScrollX%ne,qe=p.stepScrollX-_t;ee.translate(-qe*ee.SCALE_X,0),p.stepScrollX=_t}if(Math.abs(p.stepScrollY)>=ne){var dt=p.stepScrollY%ne,rt=p.stepScrollY-dt;ee.translate(0,-rt*ee.SCALE_Y),p.stepScrollY=dt}}}),Ca(aa(p),"clickHandler",function(S){if(S.target.getAttribute("name")==="canvas-overlay"){var D=p.props.graphModel;D.selectElements.size>0&&D.clearSelectElements(),D.eventCenter.emit(ht.BLANK_CLICK,{e:S})}}),Ca(aa(p),"handleContextMenu",function(S){if(S.target.getAttribute("name")==="canvas-overlay"){S.preventDefault();var D=p.props.graphModel,I=D.getPointByClient({x:S.clientX,y:S.clientY});D.eventCenter.emit(ht.BLANK_CONTEXTMENU,{e:S,position:I})}}),Ca(aa(p),"mouseDownHandler",function(S){var D=p.props.graphModel,I=D.eventCenter,H=D.editConfigModel,ee=D.transformModel.SCALE_X,ne=D.gridSize,de=S.target,ye=!H.adjustEdge&&!H.adjustNodePosition;(de.getAttribute("name")==="canvas-overlay"||ye)&&(H.stopMoveGraph!==!0?(p.stepDrag.setStep(ne*ee),p.stepDrag.handleMouseDown(S)):I.emit(ht.BLANK_MOUSEDOWN,{e:S}),p.clickHandler(S))});var v=c.graphModel,m=v.gridSize,x=v.eventCenter;return p.stepDrag=new ei({onDragging:p.onDragging,onDragEnd:p.onDragEnd,step:m,eventType:"BLANK",isStopPropagation:!1,eventCenter:x,model:null}),p.state={isDragging:!1},p}return e=s,(n=[{key:"render",value:function(){var c=this.props.graphModel.transformModel.getTransformStyle().transform,p=this.props,v=p.children,m=p.dnd,x=this.state.isDragging;return Object(fe.g)("svg",iv({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:x?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},m.eventMap()),Object(fe.g)("g",{transform:c},v))}}])&&FE(e.prototype,n),s}(fe.a))||Jm;function uv(t){return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}function HE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XE(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function cv(t,e){return cv=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},cv(t,e)}function YE(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Qh(t);if(e){var s=Qh(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return VE(this,n)}}function VE(t,e){if(e&&(uv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Qh(t){return Qh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qh(t)}var KE=Ci(t0=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&cv(c,p)})(s,t);var e,n,i=YE(s);function s(){return HE(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var c=this.props,p=c.tool,v=c.graphModel,m=p.getTools().map(function(x){return Object(fe.g)(x,{graphModel:v,logicFlow:p.instance})});return p.components=m,m}},{key:"triggerToolRender",value:function(){var c=this.props,p=c.tool,v=c.graphModel,m=document.querySelector("#ToolOverlay_".concat(v.flowId)),x=p.getInstance();x.components.forEach(function(S){return S(x,m)}),x.components=[]}},{key:"render",value:function(){var c=this.props.graphModel;return Object(fe.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(c.flowId)},this.getTools())}}])&&XE(e.prototype,n),s}(fe.a))||t0;function sv(t){return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv(t)}function qE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZE(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function lv(t,e){return lv=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},lv(t,e)}function JE(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ed(t);if(e){var s=ed(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return QE(this,n)}}function QE(t,e){if(e&&(sv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ed(t){return ed=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ed(t)}var n0,eS=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&lv(c,p)})(s,t);var e,n,i=JE(s);function s(){return qE(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"render",value:function(){var c=this.props.background;return Object(fe.g)("div",{className:"lf-background"},Object(fe.g)("div",{style:c,className:"lf-background-area"}))}}])&&ZE(e.prototype,n),s}(fe.a);function fv(t){return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fv(t)}function tS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nS(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function pv(t,e){return pv=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},pv(t,e)}function rS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=td(t);if(e){var s=td(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return oS(this,n)}}function oS(t,e){if(e&&(fv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r0(t)}function r0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function td(t){return td=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},td(t)}function iS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o0=Ci(n0=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&pv(c,p)})(s,t);var e,n,i=rS(s);function s(){var c;tS(this,s);for(var p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];return iS(r0(c=i.call.apply(i,[this].concat(v))),"id",Zi()),c}return e=s,(n=[{key:"renderDot",value:function(){var c=this.props,p=c.config,v=p.color,m=p.thickness,x=m===void 0?2:m,S=c.size,D=c.visible,I=Math.min(Math.max(2,x),S/2),H=1;return D||(H=0),Object(fe.g)("rect",{width:I,height:I,rx:I/2,ry:I/2,fill:v,opacity:H})}},{key:"renderMesh",value:function(){var c=this.props,p=c.config,v=p.color,m=p.thickness,x=m===void 0?1:m,S=c.size,D=c.visible,I=Math.min(Math.max(1,x),S/2),H="M ".concat(S," 0 H0 M0 0 V0 ").concat(S),ee=1;return D||(ee=0),Object(fe.g)("path",{d:H,stroke:v,strokeWidth:I,opacity:ee})}},{key:"render",value:function(){var c=this.props,p=c.type,v=c.size,m=c.graphModel.transformModel,x=[m.SCALE_X,m.SKEW_Y,m.SKEW_X,m.SCALE_Y,m.TRANSLATE_X,m.TRANSLATE_Y].join(","),S="matrix(".concat(x,")");return Object(fe.g)("div",{className:"lf-grid"},Object(fe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(fe.g)("defs",null,Object(fe.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:S,x:"0",y:"0",width:v,height:v},p==="dot"&&this.renderDot(),p==="mesh"&&this.renderMesh())),Object(fe.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&nS(e.prototype,n),s}(fe.a))||n0;o0.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(53);function hv(t){return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hv(t)}function aS(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return i0(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return i0(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var a0,Zs=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var i=aS(n,2),s=i[0],c=i[1];(s==="style"||hv(c)!=="object")&&(e[s]=c)}),Object(fe.g)("line",e)};function dv(t){return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}function u0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function nd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u0(Object(n),!0).forEach(function(i){uS(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u0(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function uS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sS(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function yv(t,e){return yv=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},yv(t,e)}function lS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=rd(t);if(e){var s=rd(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return fS(this,n)}}function fS(t,e){if(e&&(dv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function rd(t){return rd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rd(t)}var c0,pS=Ci(a0=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&yv(c,p)})(s,t);var e,n,i=lS(s);function s(){return cS(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"render",value:function(){var c=this.props.snaplineModel,p=c.position,v=c.isShowHorizontal,m=c.isShowVertical,x=c.getStyle(),S=p.x,D=S===void 0?0:S,I=p.y,H=I===void 0?0:I,ee=nd(nd({x1:-1e5,y1:H,x2:1e5,y2:H},x),{},{stroke:v?x.stroke:"none"}),ne=nd(nd({x1:D,y1:-1e5,x2:D,y2:1e5},x),{},{stroke:m?x.stroke:"none"});return Object(fe.g)("g",{className:"lf-snapline"},Object(fe.g)(Zs,ee),Object(fe.g)(Zs,ne))}}])&&sS(e.prototype,n),s}(fe.a))||a0;function vv(t){return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}function hS(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return s0(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return s0(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Eu(t){var e=t.x,n=t.y,i=t.width,s=t.height,c=t.className,p=t.radius,v=e-i/2,m=n-s/2,x={};return Object.entries(t).forEach(function(S){var D=hS(S,2),I=D[0],H=D[1];vv(H)!=="object"&&(x[I]=H)}),x.className=c?"lf-basic-shape ".concat(c):"lf-basic-shape",p&&(x.rx=p,x.ry=p),x.x=v,x.y=m,Object(fe.g)("rect",x)}function gv(t){return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function Js(){return Js=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Js.apply(this,arguments)}function l0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function f0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l0(Object(n),!0).forEach(function(i){dS(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l0(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function dS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vS(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function bv(t,e){return bv=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},bv(t,e)}function gS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=od(t);if(e){var s=od(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return bS(this,n)}}function bS(t,e){if(e&&(gv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function od(t){return od=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},od(t)}Eu.defaultProps={className:"",radius:""};var p0,mS=Ci(c0=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&bv(c,p)})(s,t);var e,n,i=gS(s);function s(){return yS(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"getNodesOutline",value:function(){var c=this.props.graphModel,p=c.nodes,v=c.editConfigModel,m=v.hoverOutline,x=v.nodeSelectedOutline,S=[];return p.forEach(function(D){if(D.isHovered||D.isSelected){var I=D.isHovered,H=D.isSelected,ee=D.x,ne=D.y,de=D.width,ye=D.height;if(x&&H||m&&I){var xe=D.getOutlineStyle(),Ce={};if(Object.keys(xe).forEach(function(Ze){Ze!=="hover"&&(Ce[Ze]=xe[Ze])}),I){var Qe=xe.hover;Ce=f0(f0({},Ce),Qe)}S.push(Object(fe.g)(Eu,Js({transform:D.transform,className:"lf-outline-node",x:ee,y:ne,width:de+10,height:ye+10},Ce)))}}}),S}},{key:"getEdgeOutline",value:function(){for(var c=this.props.graphModel,p=c.edges,v=c.editConfigModel,m=v.edgeSelectedOutline,x=v.hoverOutline,S=[],D=0;D<p.length;D++){var I=p[D];(m&&I.isSelected||x&&I.isHovered)&&(I.modelType===Zt.LINE_EDGE?S.push(this.getLineOutline(I)):I.modelType===Zt.POLYLINE_EDGE?S.push(this.getPolylineOutline(I)):I.modelType===Zt.BEZIER_EDGE&&S.push(this.getBezierOutline(I)))}return S}},{key:"getLineOutline",value:function(c){var p=c.startPoint,v=c.endPoint,m=(p.x+v.x)/2,x=(p.y+v.y)/2,S=Math.abs(p.x-v.x)+10,D=Math.abs(p.y-v.y)+10,I=c.getOutlineStyle();return Object(fe.g)(Eu,Js({className:"lf-outline-edge",x:m,y:x,width:S,height:D},I))}},{key:"getPolylineOutline",value:function(c){var p=c.points,v=na(p),m=ta(v,8),x=m.x,S=m.y,D=m.width,I=m.height,H=c.getOutlineStyle();return Object(fe.g)(Eu,Js({className:"lf-outline",x,y:S,width:D,height:I},H))}},{key:"getBezierOutline",value:function(c){var p=c.path,v=xr(p),m=ta(v,8),x=m.x,S=m.y,D=m.width,I=m.height,H=c.getOutlineStyle();return Object(fe.g)(Eu,Js({className:"lf-outline",x,y:S,width:D,height:I},H))}},{key:"render",value:function(){return Object(fe.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&vS(e.prototype,n),s}(fe.a))||c0;function mv(t){return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function _S(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return h0(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return h0(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Qs(t){var e=t.x,n=e===void 0?0:e,i=t.y,s=i===void 0?0:i,c=t.r,p=c===void 0?4:c,v=t.className,m={cx:n,cy:s,r:p,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(x){var S=_S(x,2),D=S[0],I=S[1];mv(I)!=="object"&&(m[D]=I)}),m.className=v?"lf-basic-shape ".concat(v):"lf-basic-shape",Object(fe.g)("circle",m)}function _v(t){return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(t)}function OS(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return d0(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return d0(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function op(){return op=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},op.apply(this,arguments)}function y0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v0(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function g0(t,e,n){return e&&v0(t.prototype,e),n&&v0(t,n),t}function b0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ov(t,e)}function Ov(t,e){return Ov=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ov(t,e)}function m0(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ad(t);if(e){var s=ad(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return wS(this,n)}}function wS(t,e){if(e&&(_v(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return id(t)}function id(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ad(t){return ad=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ad(t)}function wv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _0,O0=function(t){b0(n,t);var e=m0(n);function n(){var i;return y0(this,n),wv(id(i=e.call(this)),"dragHandler",void 0),wv(id(i),"onDragging",function(s){var c=s.event,p=i.props,v=p.graphModel,m=p.bezierModel,x=p.type,S=v.getPointByClient({x:c.clientX,y:c.clientY}).canvasOverlayPosition,D=S.x,I=S.y;m.updateAdjustAnchor({x:D,y:I},x),v.eventCenter.emit(ht.EDGE_ADJUST,{data:m.getData()})}),wv(id(i),"onDragEnd",function(){i.props.bezierModel.isDragging=!1}),i.dragHandler=new ei({onDragging:i.onDragging,onDragEnd:i.onDragEnd}),i}return g0(n,[{key:"render",value:function(){var i=this,s=this.props.position,c=s.x,p=s.y,v=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(fe.g)(Qs,op({className:"lf-bezier-adjust-anchor",x:c,y:p},v,{onMouseDown:function(m){i.dragHandler.handleMouseDown(m)}}))}}]),n}(fe.a),xS=Ci(p0=function(t){b0(n,t);var e=m0(n);function n(){return y0(this,n),e.apply(this,arguments)}return g0(n,[{key:"getBezierAdjust",value:function(i,s){var c=i.path,p=i.id,v=OS(xr(c),4),m=v[0],x=v[1],S=v[2],D=v[3],I=i.getEdgeStyle().adjustLine,H=[];return H.push(Object(fe.g)(Zs,op({x1:m.x,y1:m.y,x2:x.x,y2:x.y},I))),H.push(Object(fe.g)(O0,{position:x,bezierModel:i,graphModel:s,key:"".concat(p,"_ePre"),type:"sNext"})),H.push(Object(fe.g)(Zs,op({x1:D.x,y1:D.y,x2:S.x,y2:S.y},I))),H.push(Object(fe.g)(O0,{position:S,bezierModel:i,graphModel:s,key:"".concat(p,"_sNext"),type:"ePre"})),H}},{key:"selectedBezierEdge",value:function(){for(var i=this.props.graphModel,s=i.edges,c=[],p=0;p<s.length;p++){var v=s[p];v.isSelected&&v.modelType===Zt.BEZIER_EDGE&&v.draggable&&c.push(this.getBezierAdjust(v,i))}return c}},{key:"render",value:function(){return Object(fe.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(fe.a))||p0;function xv(t){return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(t)}function ES(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SS(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ev(t,e){return Ev=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ev(t,e)}function jS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ud(t);if(e){var s=ud(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return PS(this,n)}}function PS(t,e){if(e&&(xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ud(t){return ud=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ud(t)}var w0,AS=Ci(_0=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Ev(c,p)})(s,t);var e,n,i=jS(s);function s(){return ES(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"render",value:function(){var c=this.props.graphModel.transformModel.getTransformStyle().transform,p=this.props.children;return Object(fe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(fe.g)("g",{transform:c},p))}}])&&SS(e.prototype,n),s}(fe.a))||_0;function Sv(t){return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function jv(){return jv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},jv.apply(this,arguments)}function TS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MS(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Pv(t,e){return Pv=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Pv(t,e)}function kS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=cd(t);if(e){var s=cd(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return DS(this,n)}}function DS(t,e){if(e&&(Sv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function cd(t){return cd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cd(t)}var NS=Ci(w0=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Pv(c,p)})(s,t);var e,n,i=kS(s);function s(){return TS(this,s),i.apply(this,arguments)}return e=s,n=[{key:"getComponent",value:function(c,p){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",m=this.props.getView,x=m(c.type);return Object(fe.g)(x,{key:c.id,model:c,graphModel:p,overlay:v})}},{key:"render",value:function(){var c=this,p=this.props,v=p.graphModel,m=p.tool,x=p.options,S=p.dnd,D=p.snaplineModel,I={};x.width&&(I.width="".concat(v.width,"px")),x.height&&(I.height="".concat(v.height,"px"));var H=x.grid,ee=v.fakerNode,ne=v.editConfigModel.adjustEdge;return Object(fe.g)("div",{className:"lf-graph","flow-id":v.flowId,style:I},Object(fe.g)(UE,{graphModel:v,dnd:S},Object(fe.g)("g",{className:"lf-base"},us(v.sortElements,function(de){return c.getComponent(de,v)})),ee?this.getComponent(ee,v):""),Object(fe.g)(AS,{graphModel:v},Object(fe.g)(mS,{graphModel:v}),ne?Object(fe.g)(xS,{graphModel:v}):"",x.snapline!==!1?Object(fe.g)(pS,{snaplineModel:D}):""),Object(fe.g)(KE,{graphModel:v,tool:m}),x.background&&Object(fe.g)(eS,{background:x.background}),x.grid&&Object(fe.g)(o0,jv({},H,{graphModel:v})))}}],n&&MS(e.prototype,n),s}(fe.a))||w0,RS=NS;function x0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function sd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x0(Object(n),!0).forEach(function(i){Ia(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x0(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function CS(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ia(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var IS=function(){function t(i){var s=this;(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,t),Ia(this,"nodeConfig",void 0),Ia(this,"lf",void 0),Ia(this,"fakerNode",void 0),Ia(this,"stopDrag",function(){s.nodeConfig=null,window.document.removeEventListener("mouseup",s.stopDrag)}),Ia(this,"dragEnter",function(p){s.nodeConfig&&!s.fakerNode&&(s.fakerNode=s.lf.createFakerNode(sd(sd({},s.nodeConfig),s.clientToLocalPoint({x:p.clientX,y:p.clientY}))))}),Ia(this,"onDragOver",function(p){if(p.preventDefault(),s.fakerNode){var v=s.clientToLocalPoint({x:p.clientX,y:p.clientY}),m=v.x,x=v.y;s.fakerNode.moveTo(m,x);var S=s.fakerNode.getData();s.lf.setNodeSnapLine(S),s.lf.graphModel.eventCenter.emit(ht.NODE_DND_DRAG,{data:S})}return!1}),Ia(this,"onDragLeave",function(){s.fakerNode&&(s.lf.removeNodeSnapLine(),s.lf.graphModel.removeFakerNode(),s.fakerNode=null)}),Ia(this,"onDrop",function(p){s.lf.graphModel&&p&&s.nodeConfig&&(s.lf.addNode(sd(sd({},s.nodeConfig),s.clientToLocalPoint({x:p.clientX,y:p.clientY})),ht.NODE_DND_ADD,p),p.preventDefault(),p.stopPropagation(),s.nodeConfig=null,s.lf.removeNodeSnapLine(),s.lf.graphModel.removeFakerNode(),s.fakerNode=null)});var c=i.lf;this.lf=c}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(i){var s=i.x,c=i.y,p=au(this.lf.options,["grid","size"]),v=this.lf.graphModel.getPointByClient({x:s,y:c}).canvasOverlayPosition,m=v.x,x=v.y;return{x:Ki(m,p),y:Ki(x,p)}}},{key:"startDrag",value:function(i){var s=this.lf.graphModel.editConfigModel;s!=null&&s.isSilentMode||(this.nodeConfig=i,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&CS(e.prototype,n),t}();function E0(t){var e=t.container,n=t.grid,i=t.width,s=t.height;if(!e)throw new Error("请检查 container 参数是否有效");if(typeof i=="string"||typeof s=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(t.grid=Aa({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),Aa({},j0,t)}var bn,S0,j0={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Av(t){return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}function Tv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return P0(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return P0(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function A0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A0(Object(n),!0).forEach(function(i){T0(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A0(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function LS(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function BS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zS(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ip(){return ip=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var i=$S(t,e);if(i){var s=Object.getOwnPropertyDescriptor(i,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},ip.apply(this,arguments)}function $S(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Su(t))!==null;);return t}function Mv(t,e){return Mv=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Mv(t,e)}function FS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Su(t);if(e){var s=Su(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return WS(this,n)}}function WS(t,e){if(e&&(Av(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fd(t)}function fd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Su(t){return Su=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Su(t)}function T0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Di(t,e,n,i,s){var c={};return Object.keys(i).forEach(function(p){c[p]=i[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var kv=(bn=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Mv(c,p)})(s,t);var e,n,i=FS(s);function s(){var c;BS(this,s);for(var p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];return T0(fd(c=i.call.apply(i,[this].concat(v))),"modelType",Zt.BEZIER_EDGE),LS(fd(c),"path",S0,fd(c)),c}return e=s,(n=[{key:"initEdgeData",value:function(c){this.offset=100,ip(Su(s.prototype),"initEdgeData",this).call(this,c)}},{key:"getEdgeStyle",value:function(){var c=this.graphModel.theme.bezier;return ld(ld({},ip(Su(s.prototype),"getEdgeStyle",this).call(this)),In(c))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var c=0,p=0;return this.pointsList.forEach(function(v){var m=v.x,x=v.y;c+=m,p+=x}),{x:c/this.pointsList.length,y:p/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var c=ip(Su(s.prototype),"getData",this).call(this),p=this.pointsList.map(function(v){return{x:v.x,y:v.y}});return ld(ld({},c),{},{pointsList:p})}},{key:"getControls",value:function(){var c=this.startPoint,p=this.endPoint;return Hf({start:c,end:p,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(c){var p=Tv(c,4),v=p[0],m=p[1],x=p[2],S=p[3];return"M ".concat(v.x," ").concat(v.y,"\n    C ").concat(m.x," ").concat(m.y,",\n    ").concat(x.x," ").concat(x.y,",\n    ").concat(S.x," ").concat(S.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var c=this.getControls(),p=c.sNext,v=c.ePre;this.updatePath(p,v)}},{key:"updatePath",value:function(c,p){c=In(c),p=In(p);var v={x:this.startPoint.x,y:this.startPoint.y},m={x:this.endPoint.x,y:this.endPoint.y};if(!c||!p){var x=this.getControls();c=x.sNext,p=x.ePre}this.pointsList=[v,c,p,m],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(c){this.startPoint=Object.assign({},c),this.updatePoints()}},{key:"updateEndPoint",value:function(c){this.endPoint=Object.assign({},c),this.updatePoints()}},{key:"moveStartPoint",value:function(c,p){this.startPoint.x+=c,this.startPoint.y+=p;var v=Tv(this.pointsList,3),m=v[1],x=v[2];m.x+=c,m.y+=p,this.updatePath(m,x)}},{key:"moveEndPoint",value:function(c,p){this.endPoint.x+=c,this.endPoint.y+=p;var v=Tv(this.pointsList,3),m=v[1],x=v[2];x.x+=c,x.y+=p,this.updatePath(m,x)}},{key:"updateAdjustAnchor",value:function(c,p){p==="sNext"?this.pointsList[1]=c:p==="ePre"&&(this.pointsList[2]=c),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var c=this.pointsList;return c[c.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(c){var p=c.startPoint,v=c.endPoint,m=c.sourceNode,x=c.targetNode,S=Hf({start:p,end:v,sourceNode:m,targetNode:x,offset:this.offset}),D=S.sNext,I=S.ePre;this.pointsList=[p,D,I,v],this.initPoints()}}])&&zS(e.prototype,n),s}(_u),S0=Di(bn.prototype,"path",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Di(bn.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(bn.prototype,"initPoints"),bn.prototype),Di(bn.prototype,"updatePoints",[d.k],Object.getOwnPropertyDescriptor(bn.prototype,"updatePoints"),bn.prototype),Di(bn.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(bn.prototype,"updateStartPoint"),bn.prototype),Di(bn.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(bn.prototype,"updateEndPoint"),bn.prototype),Di(bn.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(bn.prototype,"moveStartPoint"),bn.prototype),Di(bn.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(bn.prototype,"moveEndPoint"),bn.prototype),Di(bn.prototype,"updateAdjustAnchor",[d.k],Object.getOwnPropertyDescriptor(bn.prototype,"updateAdjustAnchor"),bn.prototype),Di(bn.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(bn.prototype,"getAdjustStart"),bn.prototype),Di(bn.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(bn.prototype,"getAdjustEnd"),bn.prototype),Di(bn.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(bn.prototype,"updateAfterAdjustStartAndEnd"),bn.prototype),bn),Xe,M0,k0,D0,N0,R0,C0,I0,L0,B0,z0,$0,F0,W0,G0,U0,H0,X0,Y0,V0,K0,q0,Z0,GS=function(t){return t==null};function US(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||J0(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dv(t){return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}function J0(t,e){if(t){if(typeof t=="string")return Q0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q0(t,e):void 0}}function Q0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function e_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e_(Object(n),!0).forEach(function(i){_o(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function ur(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function HS(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vt(t,e,n,i,s){var c={};return Object.keys(i).forEach(function(p){c[p]=i[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var La,t_,Ba=(Xe=function(){function t(i,s){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),_o(this,"id",""),ur(this,"type",M0,this),ur(this,"x",k0,this),ur(this,"y",D0,this),ur(this,"text",N0,this),ur(this,"properties",R0,this),ur(this,"_width",C0,this),ur(this,"_height",I0,this),ur(this,"anchorsOffset",L0,this),ur(this,"isSelected",B0,this),ur(this,"isHovered",z0,this),ur(this,"isShowAnchor",$0,this),ur(this,"isDragging",F0,this),ur(this,"isHitable",W0,this),ur(this,"draggable",G0,this),ur(this,"visible",U0,this),ur(this,"enableRotate",H0,this),_o(this,"virtual",!1),_o(this,"graphModel",void 0),ur(this,"zIndex",X0,this),ur(this,"state",Y0,this),ur(this,"autoToFront",V0,this),ur(this,"style",K0,this),ur(this,"transform",q0,this),ur(this,"_rotate",Z0,this),_o(this,"BaseType",Jn.NODE),_o(this,"modelType",Zt.NODE),_o(this,"additionStateData",void 0),_o(this,"targetRules",[]),_o(this,"sourceRules",[]),_o(this,"moveRules",[]),_o(this,"hasSetTargetRules",!1),_o(this,"hasSetSourceRules",!1),this.graphModel=s,this.initNodeData(i),this.setAttributes()}var e,n;return e=t,n=[{key:"width",get:function(){return this._width},set:function(i){this._width=i}},{key:"height",get:function(){return this._height},set:function(i){this._height=i}},{key:"rotate",get:function(){return this._rotate},set:function(i){this._rotate=i;var s=this.x,c=s===void 0?0:s,p=this.y,v=p===void 0?0:p;this.transform=new ia(-c,-v).rotate(i).translate(c,v).toString()}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(i){if(i.properties||(i.properties={}),!i.id){var s=this.graphModel.idGenerator,c=s&&s(i.type),p=this.createId();i.id=p||c||Zi()}this.formatText(i),br(this,function(v){return mi(v,["id","type","x","y","text","properties","virtual","rotate"])}(i)),this.graphModel.overlapMode===$n.INCREASE&&(this.zIndex=i.zIndex||Mf())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(i){i.text||(i.text={value:"",x:i.x,y:i.y,draggable:!1,editable:!0}),i.text&&typeof i.text=="string"?i.text={value:i.text,x:i.x,y:i.y,draggable:!1,editable:!0}:i.text&&i.text.editable===void 0&&(i.text.editable=!0)}},{key:"getData",value:function(){var i=this.text,s=i.x,c=i.y,p=i.value,v=this.properties;Object(d.x)(v)&&(v=Object(d.I)(v));var m={id:this.id,type:this.type,x:this.x,y:this.y,properties:v};return this.rotate&&(m.rotate=this.rotate),this.graphModel.overlapMode===$n.INCREASE&&(m.zIndex=this.zIndex),p&&(m.text={x:s,y:c,value:p}),m}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(d.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return ao(ao({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var i=this.graphModel.theme.nodeText;return In(i)}},{key:"getRotateControlStyle",value:function(){var i=this.graphModel.theme.rotateControl;return In(i)}},{key:"getAnchorStyle",value:function(i){var s=this.graphModel.theme.anchor;return In(s)}},{key:"getAnchorLineStyle",value:function(i){var s=this.graphModel.theme.anchorLine;return In(s)}},{key:"getOutlineStyle",value:function(){var i=this.graphModel.theme.outline;return In(i)}},{key:"isAllowConnectedAsSource",value:function(i,s,c,p){var v=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var m,x=!0,S=0;S<v.length;S++){var D=v[S];if(!D.validate.call(this,this,i,s,c,p)){x=!1,m=D.message;break}}return{isAllPass:x,msg:m}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(i,s,c,p){var v=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var m,x=!0,S=0;S<v.length;S++){var D=v[S];if(!D.validate.call(this,i,this,s,c,p)){x=!1,m=D.message;break}}return{isAllPass:x,msg:m}}},{key:"isAllowMoveNode",value:function(i,s){var c,p=!0,v=!0,m=function(D,I){var H=typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(!H){if(Array.isArray(D)||(H=J0(D))||I&&D&&typeof D.length=="number"){H&&(D=H);var ee=0,ne=function(){};return{s:ne,n:function(){return ee>=D.length?{done:!0}:{done:!1,value:D[ee++]}},e:function(Ce){throw Ce},f:ne}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var de,ye=!0,xe=!1;return{s:function(){H=H.call(D)},n:function(){var Ce=H.next();return ye=Ce.done,Ce},e:function(Ce){xe=!0,de=Ce},f:function(){try{ye||H.return==null||H.return()}finally{if(xe)throw de}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(m.s();!(c=m.n()).done;){var x=(0,c.value)(this,i,s);if(!x)return!1;if(Dv(x)==="object"){var S=x;if(S.x===!1&&S.y===!1)return!1;p=p&&S.x,v=v&&S.y}}}catch(D){m.e(D)}finally{m.f()}return{x:p,y:v}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var i=this.anchorsOffset,s=this.id,c=this.x,p=this.y;return i&&i.length>0?i.map(function(v,m){return v.length?(v=v,{id:"".concat(s,"_").concat(m),x:c+v[0],y:p+v[1]}):ao(ao({},v=v),{},{x:c+v.x,y:p+v.y,id:v.id||"".concat(s,"_").concat(m)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(i){return function(s,c){for(var p,v=Hr(c),m=Number.MAX_SAFE_INTEGER,x=0;x<v.length;x++){var S=Do(s.x,s.y,v[x].x,v[x].y);S<m&&(m=S,p={index:x,anchor:bf(bf({},v[x]),{},{x:v[x].x,y:v[x].y,id:v[x].id})})}return p}(i,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var i=this.getAnchorsByOffset(),s=this.x,c=this.y,p=this.rotate;return i.forEach(function(v){var m=v.x,x=v.y,S=US(new oa([m,x,1]).translate(-s,-c).rotate(p).translate(s,c)[0],2),D=S[0],I=S[1];v.x=D,v.y=I}),i}},{key:"getAnchorInfo",value:function(i){if(!GS(i))for(var s=0;s<this.anchors.length;s++){var c=this.anchors[s];if(c.id===i)return c}}},{key:"addNodeMoveRules",value:function(i){this.moveRules.includes(i)||this.moveRules.push(i)}},{key:"move",value:function(i,s){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=!1,v=!1;if(c)p=!0,v=!0;else{var m=this.isAllowMoveNode(i,s);typeof m=="boolean"?(p=m,v=m):(p=m.x,v=m.y)}if(p){var x=this.x+i;this.x=x,this.text&&this.moveText(i,0)}if(v){var S=this.y+s;this.y=S,this.text&&this.moveText(0,s)}return p||v}},{key:"getMoveDistance",value:function(i,s){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=!1,v=!1,m=0,x=0;if(c)p=!0,v=!0;else{var S=this.isAllowMoveNode(i,s);typeof S=="boolean"?(p=S,v=S):(p=S.x,v=S.y)}if(p&&i){var D=this.x+i;this.x=D,this.text&&this.moveText(i,0),m=i}if(v&&s){var I=this.y+s;this.y=I,this.text&&this.moveText(0,s),x=s}return[m,x]}},{key:"moveTo",value:function(i,s){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=i-this.x,v=s-this.y;return!(!c&&!this.isAllowMoveNode(p,v)||(this.text&&this.text&&this.moveText(p,v),this.x=i,this.y=s,0))}},{key:"moveText",value:function(i,s){var c=this.text,p=c.x,v=c.y,m=c.value,x=c.draggable,S=c.editable;this.text={value:m,editable:S,draggable:x,x:p+i,y:v+s}}},{key:"updateText",value:function(i){this.text=ao(ao({},Object(d.I)(this.text)),{},{value:i})}},{key:"setSelected",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=i}},{key:"setHovered",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=i,this.setIsShowAnchor(i)}},{key:"setIsShowAnchor",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=i}},{key:"setEnableRotate",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.enableRotate=i}},{key:"setHitable",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=i}},{key:"setElementState",value:function(i,s){this.state=i,this.additionStateData=s}},{key:"setProperty",value:function(i,s){this.properties=ao(ao({},Object(d.I)(this.properties)),{},_o({},i,_r(s))),this.setAttributes()}},{key:"setProperties",value:function(i){this.properties=ao(ao({},Object(d.I)(this.properties)),_r(i)),this.setAttributes()}},{key:"deleteProperty",value:function(i){delete this.properties[i],this.setAttributes()}},{key:"setStyle",value:function(i,s){this.style=ao(ao({},this.style),{},_o({},i,_r(s)))}},{key:"setStyles",value:function(i){this.style=ao(ao({},this.style),_r(i))}},{key:"updateStyles",value:function(i){this.style=ao({},_r(i))}},{key:"setZIndex",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=i}},{key:"updateAttributes",value:function(i){br(this,i)}}],n&&HS(e.prototype,n),t}(),M0=Vt(Xe.prototype,"type",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),k0=Vt(Xe.prototype,"x",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D0=Vt(Xe.prototype,"y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N0=Vt(Xe.prototype,"text",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),R0=Vt(Xe.prototype,"properties",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),C0=Vt(Xe.prototype,"_width",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),I0=Vt(Xe.prototype,"_height",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),L0=Vt(Xe.prototype,"anchorsOffset",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B0=Vt(Xe.prototype,"isSelected",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z0=Vt(Xe.prototype,"isHovered",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$0=Vt(Xe.prototype,"isShowAnchor",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F0=Vt(Xe.prototype,"isDragging",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W0=Vt(Xe.prototype,"isHitable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),G0=Vt(Xe.prototype,"draggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),U0=Vt(Xe.prototype,"visible",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),H0=Vt(Xe.prototype,"enableRotate",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),X0=Vt(Xe.prototype,"zIndex",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Y0=Vt(Xe.prototype,"state",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),V0=Vt(Xe.prototype,"autoToFront",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),K0=Vt(Xe.prototype,"style",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),q0=Vt(Xe.prototype,"transform",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z0=Vt(Xe.prototype,"_rotate",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vt(Xe.prototype,"incoming",[d.m],Object.getOwnPropertyDescriptor(Xe.prototype,"incoming"),Xe.prototype),Vt(Xe.prototype,"outgoing",[d.m],Object.getOwnPropertyDescriptor(Xe.prototype,"outgoing"),Xe.prototype),Vt(Xe.prototype,"addNodeMoveRules",[d.k],Object.getOwnPropertyDescriptor(Xe.prototype,"addNodeMoveRules"),Xe.prototype),Vt(Xe.prototype,"move",[d.k],Object.getOwnPropertyDescriptor(Xe.prototype,"move"),Xe.prototype),Vt(Xe.prototype,"getMoveDistance",[d.k],Object.getOwnPropertyDescriptor(Xe.prototype,"getMoveDistance"),Xe.prototype),Vt(Xe.prototype,"moveTo",[d.k],Object.getOwnPropertyDescriptor(Xe.prototype,"moveTo"),Xe.prototype),Vt(Xe.prototype,"moveText",[d.k],Object.getOwnPropertyDescriptor(Xe.prototype,"moveText"),Xe.prototype),Vt(Xe.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(Xe.prototype,"updateText"),Xe.prototype),Vt(Xe.prototype,"setSelected",[d.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setSelected"),Xe.prototype),Vt(Xe.prototype,"setHovered",[d.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setHovered"),Xe.prototype),Vt(Xe.prototype,"setIsShowAnchor",[d.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setIsShowAnchor"),Xe.prototype),Vt(Xe.prototype,"setEnableRotate",[d.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setEnableRotate"),Xe.prototype),Vt(Xe.prototype,"setHitable",[d.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setHitable"),Xe.prototype),Vt(Xe.prototype,"setElementState",[d.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setElementState"),Xe.prototype),Vt(Xe.prototype,"setProperty",[d.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setProperty"),Xe.prototype),Vt(Xe.prototype,"setProperties",[d.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setProperties"),Xe.prototype),Vt(Xe.prototype,"deleteProperty",[d.k],Object.getOwnPropertyDescriptor(Xe.prototype,"deleteProperty"),Xe.prototype),Vt(Xe.prototype,"setStyle",[d.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setStyle"),Xe.prototype),Vt(Xe.prototype,"setStyles",[d.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setStyles"),Xe.prototype),Vt(Xe.prototype,"updateStyles",[d.k],Object.getOwnPropertyDescriptor(Xe.prototype,"updateStyles"),Xe.prototype),Vt(Xe.prototype,"setZIndex",[d.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setZIndex"),Xe.prototype),Vt(Xe.prototype,"updateAttributes",[d.k],Object.getOwnPropertyDescriptor(Xe.prototype,"updateAttributes"),Xe.prototype),Xe);function Nv(t){return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}function n_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function r_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n_(Object(n),!0).forEach(function(i){o_(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function XS(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function YS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VS(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Rv(){return Rv=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var i=KS(t,e);if(i){var s=Object.getOwnPropertyDescriptor(i,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},Rv.apply(this,arguments)}function KS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=el(t))!==null;);return t}function Cv(t,e){return Cv=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Cv(t,e)}function qS(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=el(t);if(e){var s=el(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return ZS(this,n)}}function ZS(t,e){if(e&&(Nv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pd(t)}function pd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function el(t){return el=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},el(t)}function o_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iv(t,e,n,i,s){var c={};return Object.keys(i).forEach(function(p){c[p]=i[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var Kr,i_,a_,Lv=(La=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Cv(c,p)})(s,t);var e,n,i=qS(s);function s(){var c;YS(this,s);for(var p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];return o_(pd(c=i.call.apply(i,[this].concat(v))),"modelType",Zt.CIRCLE_NODE),XS(pd(c),"r",t_,pd(c)),c}return e=s,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var c=Rv(el(s.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.circle;return r_(r_({},c),In(p))}},{key:"getDefaultAnchor",value:function(){var c=this.x,p=this.y,v=this.r;return[{x:c,y:p-v,id:"".concat(this.id,"_0")},{x:c+v,y:p,id:"".concat(this.id,"_1")},{x:c,y:p+v,id:"".concat(this.id,"_2")},{x:c-v,y:p,id:"".concat(this.id,"_3")}]}}])&&VS(e.prototype,n),s}(Ba),t_=Iv(La.prototype,"r",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Iv(La.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(La.prototype,"width"),La.prototype),Iv(La.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(La.prototype,"height"),La.prototype),La);o(129);function Bv(t){return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(t)}function zv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return u_(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return u_(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function c_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function s_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c_(Object(n),!0).forEach(function(i){f_(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function l_(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function JS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QS(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function $v(){return $v=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var i=ej(t,e);if(i){var s=Object.getOwnPropertyDescriptor(i,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},$v.apply(this,arguments)}function ej(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=nl(t))!==null;);return t}function Fv(t,e){return Fv=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Fv(t,e)}function tj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=nl(t);if(e){var s=nl(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return nj(this,n)}}function nj(t,e){if(e&&(Bv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tl(t)}function tl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nl(t){return nl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nl(t)}function f_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rl(t,e,n,i,s){var c={};return Object.keys(i).forEach(function(p){c[p]=i[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var ua,p_,h_,Wv=(Kr=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Fv(c,p)})(s,t);var e,n,i=tj(s);function s(){var c;JS(this,s);for(var p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];return f_(tl(c=i.call.apply(i,[this].concat(v))),"modelType",Zt.DIAMOND_NODE),l_(tl(c),"rx",i_,tl(c)),l_(tl(c),"ry",a_,tl(c)),c}return e=s,(n=[{key:"getNodeStyle",value:function(){var c=$v(nl(s.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.diamond;return s_(s_({},c),In(p))}},{key:"points",get:function(){var c=this.x,p=this.y,v=this.rx,m=this.ry;return[[c,p-m],[c+v,p],[c,p+m],[c-v,p]]}},{key:"pointsPosition",get:function(){return this.points.map(function(c){return{x:c[0],y:c[1]}})}},{key:"width",get:function(){var c=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var m=zv(v,1)[0];m<c&&(c=m),m>p&&(p=m)}),p-c}},{key:"height",get:function(){var c=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var m=zv(v,2)[1];m<c&&(c=m),m>p&&(p=m)}),p-c}},{key:"getDefaultAnchor",value:function(){var c=this;return this.points.map(function(p,v){var m=zv(p,2);return{x:m[0],y:m[1],id:"".concat(c.id,"_").concat(v)}})}}])&&QS(e.prototype,n),s}(Ba),i_=rl(Kr.prototype,"rx",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),a_=rl(Kr.prototype,"ry",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),rl(Kr.prototype,"points",[d.m],Object.getOwnPropertyDescriptor(Kr.prototype,"points"),Kr.prototype),rl(Kr.prototype,"pointsPosition",[d.m],Object.getOwnPropertyDescriptor(Kr.prototype,"pointsPosition"),Kr.prototype),rl(Kr.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Kr.prototype,"width"),Kr.prototype),rl(Kr.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Kr.prototype,"height"),Kr.prototype),Kr);function Gv(t){return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}function d_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function y_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d_(Object(n),!0).forEach(function(i){g_(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function v_(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function rj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oj(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Uv(){return Uv=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var i=ij(t,e);if(i){var s=Object.getOwnPropertyDescriptor(i,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},Uv.apply(this,arguments)}function ij(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=il(t))!==null;);return t}function Hv(t,e){return Hv=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Hv(t,e)}function aj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=il(t);if(e){var s=il(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return uj(this,n)}}function uj(t,e){if(e&&(Gv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ol(t)}function ol(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function il(t){return il=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},il(t)}function g_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hd(t,e,n,i,s){var c={};return Object.keys(i).forEach(function(p){c[p]=i[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var ri,b_,Xv=(ua=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Hv(c,p)})(s,t);var e,n,i=aj(s);function s(){var c;rj(this,s);for(var p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];return g_(ol(c=i.call.apply(i,[this].concat(v))),"modelType",Zt.ELLIPSE_NODE),v_(ol(c),"rx",p_,ol(c)),v_(ol(c),"ry",h_,ol(c)),c}return e=s,(n=[{key:"getNodeStyle",value:function(){var c=Uv(il(s.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.ellipse;return y_(y_({},c),In(p))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var c=this.x,p=this.y,v=this.rx,m=this.ry;return[{x:c,y:p-m,id:"".concat(this.id,"_0")},{x:c+v,y:p,id:"".concat(this.id,"_1")},{x:c,y:p+m,id:"".concat(this.id,"_2")},{x:c-v,y:p,id:"".concat(this.id,"_3")}]}}])&&oj(e.prototype,n),s}(Ba),p_=hd(ua.prototype,"rx",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),h_=hd(ua.prototype,"ry",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),hd(ua.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(ua.prototype,"width"),ua.prototype),hd(ua.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(ua.prototype,"height"),ua.prototype),ua);function Yv(t){return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function Vv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return m_(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return m_(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function __(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function O_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?__(Object(n),!0).forEach(function(i){w_(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):__(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function cj(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function sj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lj(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Kv(){return Kv=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var i=fj(t,e);if(i){var s=Object.getOwnPropertyDescriptor(i,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},Kv.apply(this,arguments)}function fj(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=al(t))!==null;);return t}function qv(t,e){return qv=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},qv(t,e)}function pj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=al(t);if(e){var s=al(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return hj(this,n)}}function hj(t,e){if(e&&(Yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dd(t)}function dd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function al(t){return al=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},al(t)}function w_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yd(t,e,n,i,s){var c={};return Object.keys(i).forEach(function(p){c[p]=i[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var Zv,x_,Jv=(ri=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&qv(c,p)})(s,t);var e,n,i=pj(s);function s(){var c;sj(this,s);for(var p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];return w_(dd(c=i.call.apply(i,[this].concat(v))),"modelType",Zt.POLYGON_NODE),cj(dd(c),"points",b_,dd(c)),c}return e=s,(n=[{key:"getNodeStyle",value:function(){var c=Kv(al(s.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.polygon;return O_(O_({},c),In(p))}},{key:"pointsPosition",get:function(){var c=this.x,p=this.y,v=this.width,m=this.height;return this.points.map(function(x){return{x:x[0]+c-v/2,y:x[1]+p-m/2}})}},{key:"width",get:function(){var c=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var m=Vv(v,1)[0];m<c&&(c=m),m>p&&(p=m)}),p-c}},{key:"height",get:function(){var c=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var m=Vv(v,2)[1];m<c&&(c=m),m>p&&(p=m)}),p-c}},{key:"getDefaultAnchor",value:function(){var c=this,p=this.x,v=this.y,m=this.width,x=this.height;return this.points.map(function(S,D){var I=Vv(S,2),H=I[0],ee=I[1];return{x:p+H-m/2,y:v+ee-x/2,id:"".concat(c.id,"_").concat(D)}})}}])&&lj(e.prototype,n),s}(Ba),b_=yd(ri.prototype,"points",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),yd(ri.prototype,"pointsPosition",[d.m],Object.getOwnPropertyDescriptor(ri.prototype,"pointsPosition"),ri.prototype),yd(ri.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(ri.prototype,"width"),ri.prototype),yd(ri.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(ri.prototype,"height"),ri.prototype),ri);function Qv(t){return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function E_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function S_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E_(Object(n),!0).forEach(function(i){j_(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function dj(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function yj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vj(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function eg(){return eg=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var i=gj(t,e);if(i){var s=Object.getOwnPropertyDescriptor(i,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},eg.apply(this,arguments)}function gj(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ul(t))!==null;);return t}function tg(t,e){return tg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},tg(t,e)}function bj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=ul(t);if(e){var s=ul(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return mj(this,n)}}function mj(t,e){if(e&&(Qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vd(t)}function vd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ul(t){return ul=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ul(t)}function j_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ju,ng=(Zv=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&tg(c,p)})(s,t);var e,n,i=bj(s);function s(){var c;yj(this,s);for(var p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];return j_(vd(c=i.call.apply(i,[this].concat(v))),"modelType",Zt.RECT_NODE),dj(vd(c),"radius",x_,vd(c)),c}return e=s,(n=[{key:"getDefaultAnchor",value:function(){var c=this.x,p=this.y,v=this.width,m=this.height;return[{x:c,y:p-m/2,id:"".concat(this.id,"_0")},{x:c+v/2,y:p,id:"".concat(this.id,"_1")},{x:c,y:p+m/2,id:"".concat(this.id,"_2")},{x:c-v/2,y:p,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var c=eg(ul(s.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.rect;return S_(S_({},c),In(p))}}])&&vj(e.prototype,n),s}(Ba),x_=function(t,e,n,i,s){var c={};return Object.keys(i).forEach(function(p){c[p]=i[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}(Zv.prototype,"radius",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zv);function rg(t){return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}function P_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function A_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P_(Object(n),!0).forEach(function(i){M_(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oj(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function og(){return og=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(t,e,n){var i=wj(t,e);if(i){var s=Object.getOwnPropertyDescriptor(i,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},og.apply(this,arguments)}function wj(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=cl(t))!==null;);return t}function ig(t,e){return ig=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ig(t,e)}function xj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=cl(t);if(e){var s=cl(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Ej(this,n)}}function Ej(t,e){if(e&&(rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T_(t)}function T_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cl(t){return cl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cl(t)}function M_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k_(t,e,n,i,s){var c={};return Object.keys(i).forEach(function(p){c[p]=i[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var ag=(ju=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&ig(c,p)})(s,t);var e,n,i=xj(s);function s(){var c;_j(this,s);for(var p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];return M_(T_(c=i.call.apply(i,[this].concat(v))),"modelType",Zt.TEXT_NODE),c}return e=s,(n=[{key:"getTextStyle",value:function(){var c=og(cl(s.prototype),"getTextStyle",this).call(this),p=this.graphModel.theme.text;return A_(A_({},c),In(p))}},{key:"width",get:function(){var c=String(this.text.value).split(/[\r\n]/g),p=this.getTextStyle().fontSize;return Tf({rows:c,fontSize:p,rowsLength:c.length}).width}},{key:"height",get:function(){var c=String(this.text.value).split(/[\r\n]/g),p=this.getTextStyle().fontSize;return Tf({rows:c,fontSize:p,rowsLength:c.length}).height}}])&&Oj(e.prototype,n),s}(Ba),k_(ju.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(ju.prototype,"width"),ju.prototype),k_(ju.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(ju.prototype,"height"),ju.prototype),ju);function ug(t){return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function Sj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jj(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function cg(t,e){return cg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},cg(t,e)}function Pj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=gd(t);if(e){var s=gd(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Aj(this,n)}}function Aj(t,e){if(e&&(ug(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D_(t)}function D_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gd(t){return gd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gd(t)}function Tj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ni,N_,R_,C_,sg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&cg(c,p)})(s,t);var e,n,i=Pj(s);function s(){var c;Sj(this,s);for(var p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];return Tj(D_(c=i.call.apply(i,[this].concat(v))),"modelType",Zt.HTML_NODE),c}return e=s,(n=[{key:"getDefaultAnchor",value:function(){var c=this.x,p=this.y,v=this.width,m=this.height;return[{x:c,y:p-m/2,id:"".concat(this.id,"_0")},{x:c+v/2,y:p,id:"".concat(this.id,"_1")},{x:c,y:p+m/2,id:"".concat(this.id,"_2")},{x:c-v/2,y:p,id:"".concat(this.id,"_3")}]}}])&&jj(e.prototype,n),s}(Ba);function I_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function lg(t,e,n,i){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Mj(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function L_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ap(t,e,n,i,s){var c={};return Object.keys(i).forEach(function(p){c[p]=i[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var B_=(Ni=function(){function t(i){(function(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),L_(this,"graphModel",void 0),lg(this,"isShowHorizontal",N_,this),lg(this,"isShowVertical",R_,this),lg(this,"position",C_,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=i}var e,n;return e=t,n=[{key:"getStyle",value:function(){return function(i){for(var s=1;s<arguments.length;s++){var c=arguments[s]!=null?arguments[s]:{};s%2?I_(Object(c),!0).forEach(function(p){L_(i,p,c[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(c)):I_(Object(c)).forEach(function(p){Object.defineProperty(i,p,Object.getOwnPropertyDescriptor(c,p))})}return i}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(i,s){for(var c=i.x,p=i.y,v=!1,m=!1,x=0;x<s.length;x++){var S=s[x];if(S.id!==i.id&&(c===S.x&&(v=!0),p===S.y&&(m=!0),v&&m))break}return{isShowVertical:v,isShowHorizontal:m,position:{x:c,y:p}}}},{key:"getHorizontalSnapline",value:function(i,s){var c,p,v=!1,m=i.id;if(m){var x=this.graphModel.fakerNode;if(x&&x.id===m)p=ro(x);else{var S=this.graphModel.getNodeModelById(m);p=ro(S)}}for(var D=0;D<s.length;D++){var I=s[D];if(I.id!==i.id){var H=ro(I);if(H.minY===p.minY||H.maxY===p.minY){v=!0,c=p.minY;break}if(H.minY===p.maxY||H.maxY===p.maxY){v=!0,c=p.maxY;break}}}return br({isShowHorizontal:v,position:{y:c}})}},{key:"getVerticalSnapline",value:function(i,s){var c,p,v=!1,m=i.id;if(m){var x=this.graphModel.fakerNode;if(x&&x.id===m)p=ro(x);else{var S=this.graphModel.getNodeModelById(m);p=ro(S)}}for(var D=0;D<s.length;D++){var I=s[D];if(I.id!==i.id){var H=ro(I);if(H.minX===p.minX||H.maxX===p.minX){v=!0,c=p.minX;break}if(H.minX===p.maxX||H.maxX===p.maxX){v=!0,c=p.maxX;break}}}return br({isShowVertical:v,position:{x:c}})}},{key:"getSnapLinePosition",value:function(i,s){var c=this.getCenterSnapLine(i,s),p=c.isShowHorizontal,v=c.isShowVertical;if(!p){var m=this.getHorizontalSnapline(i,s);m.isShowHorizontal&&(c.isShowHorizontal=m.isShowHorizontal,c.position.y=m.position.y)}if(!v){var x=this.getVerticalSnapline(i,s);x.isShowVertical&&(c.isShowVertical=x.isShowVertical,c.position.x=x.position.x)}return c}},{key:"setSnaplineInfo",value:function(i){var s=i.isShowHorizontal,c=i.isShowVertical,p=i.position;this.position=p,this.isShowHorizontal=s,this.isShowVertical=c}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(i){var s=this.graphModel.nodes,c=this.getSnapLinePosition(i,s);this.setSnaplineInfo(c)}}],n&&Mj(e.prototype,n),t}(),N_=ap(Ni.prototype,"isShowHorizontal",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R_=ap(Ni.prototype,"isShowVertical",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C_=ap(Ni.prototype,"position",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ap(Ni.prototype,"clearSnapline",[d.k],Object.getOwnPropertyDescriptor(Ni.prototype,"clearSnapline"),Ni.prototype),ap(Ni.prototype,"setNodeSnapLine",[d.k],Object.getOwnPropertyDescriptor(Ni.prototype,"setNodeSnapLine"),Ni.prototype),Ni),up=new Map,z_=function(t){var e=Zi(),n=window.requestAnimationFrame(function i(){if(t(),up.get(e)){var s=window.requestAnimationFrame(i);up.set(e,s)}});return up.set(e,n),e},bd=function(t){var e=up.get(t);e&&(window.cancelAnimationFrame(e),up.delete(t))};function fg(t){return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}function cp(){return cp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},cp.apply(this,arguments)}function $_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function sp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$_(Object(n),!0).forEach(function(i){sa(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function kj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return F_(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return F_(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Dj(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function pg(t,e){return pg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},pg(t,e)}function Nj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=md(t);if(e){var s=md(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Rj(this,n)}}function Rj(t,e){if(e&&(fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ca(t)}function ca(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function md(t){return md=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},md(t)}function sa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cj=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&pg(c,p)})(s,t);var e,n,i=Nj(s);function s(){var c;return function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}(this,s),sa(ca(c=i.call(this)),"preTargetNode",void 0),sa(ca(c),"sourceRuleResults",void 0),sa(ca(c),"targetRuleResults",void 0),sa(ca(c),"dragHandler",void 0),sa(ca(c),"t",void 0),sa(ca(c),"onDragStart",function(p){var v=p.event,m=c.props,x=m.anchorData,S=m.nodeModel,D=m.graphModel;D.overlapMode,D.selectNodeById(S.id),S.autoToFront&&D.toFront(S.id),D.eventCenter.emit(ht.ANCHOR_DRAGSTART,{data:x,e:v,nodeModel:S}),c.setState({startX:x.x,startY:x.y,endX:x.x,endY:x.y})}),sa(ca(c),"onDragging",function(p){var v=p.event,m=c.props,x=m.graphModel,S=m.nodeModel,D=m.anchorData,I=x.transformModel,H=x.eventCenter,ee=x.width,ne=x.height,de=x.editConfigModel,ye=de.autoExpand,xe=de.stopMoveGraph,Ce=v.clientX,Qe=v.clientY,Ze=x.getPointByClient({x:Ce,y:Qe}),_t=Ze.domOverlayPosition,qe=_t.x,dt=_t.y,rt=Ze.canvasOverlayPosition,tn=rt.x,an=rt.y;c.t&&bd(c.t);var It=[];qe<10?It=[10,0]:qe+10>ee?It=[-10,0]:dt<10?It=[0,10]:dt+10>ne&&(It=[0,-10]),c.setState({endX:tn,endY:an,dragging:!0}),c.moveAnchorEnd(tn,an),It.length>0&&!xe&&ye&&(c.t=z_(function(){var fn=kj(It,2),nr=fn[0],rr=fn[1];I.translate(nr,rr);var Br=c.state,Io=Br.endX,Lo=Br.endY;c.setState({endX:Io-nr,endY:Lo-rr}),c.moveAnchorEnd(Io-nr,Lo-rr)})),H.emit(ht.ANCHOR_DRAG,{data:D,e:v,nodeModel:S})}),sa(ca(c),"onDragEnd",function(p){var v=p.event;c.t&&bd(c.t);var m=c.checkEnd(v);c.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),c.sourceRuleResults.clear(),c.targetRuleResults.clear();var x=c.props,S=x.graphModel,D=x.nodeModel,I=x.anchorData;S.eventCenter.emit(ht.ANCHOR_DRAGEND,{data:I,e:v,nodeModel:D,edgeModel:m})}),sa(ca(c),"checkEnd",function(p){var v=c.props,m=v.graphModel,x=v.nodeModel,S=v.anchorData,D=S.x,I=S.y,H=S.id,ee=(m.edgeType,c.state),ne=ee.endX,de=ee.endY,ye=ee.dragging,xe=Ns({x:ne,y:de},m);if(c.preTargetNode&&c.preTargetNode.state!==vn.DEFAULT&&c.preTargetNode.setElementState(vn.DEFAULT),ye&&xe&&xe.node){var Ce=xe.node,Qe=xe.anchor.id,Ze="".concat(x.id,"_").concat(Ce.id,"_").concat(Qe,"_").concat(H),_t=c.sourceRuleResults.get(Ze)||{},qe=_t.isAllPass,dt=_t.msg,rt=c.targetRuleResults.get(Ze)||{},tn=rt.isAllPass,an=rt.msg;if(qe&&tn){Ce.setElementState(vn.DEFAULT);var It=m.edgeGenerator(x.getData(),m.getNodeModelById(xe.node.id).getData()),fn=m.addEdge(sp(sp({},It),{},{sourceNodeId:x.id,sourceAnchorId:H,startPoint:{x:D,y:I},targetNodeId:xe.node.id,targetAnchorId:xe.anchor.id,endPoint:{x:xe.anchor.x,y:xe.anchor.y}})),nr=c.props.anchorData;return m.eventCenter.emit(ht.ANCHOR_DROP,{data:nr,e:p,nodeModel:x,edgeModel:fn}),fn}var rr=Ce.getData();return m.eventCenter.emit(ht.CONNECTION_NOT_ALLOWED,{data:rr,msg:an||dt||"不允许添加连线"}),null}}),c.sourceRuleResults=new Map,c.targetRuleResults=new Map,c.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},c.dragHandler=new ei({onDragStart:c.onDragStart,onDragging:c.onDragging,onDragEnd:c.onDragEnd}),c}return e=s,(n=[{key:"getAnchorShape",value:function(){var c=this.props,p=c.anchorData,v=c.style,m=c.node.getAnchorShape(p);if(m)return m;var x=p.x,S=p.y,D=sp(sp({},v),v.hover);return Object(fe.g)("g",null,Object(fe.g)(Qs,cp({className:"lf-node-anchor-hover"},D,{x,y:S})),Object(fe.g)(Qs,cp({className:"lf-node-anchor"},v,{x,y:S})))}},{key:"customTrajectory",get:function(){return this.props.graphModel.customTrajectory}},{key:"relateEdges",get:function(){var c=this.props,p=c.graphModel,v=p.getAnchorIncomingEdge,m=p.getAnchorOutcomingEdge,x=c.anchorData.id;return{incomingEdgeList:v(x),outcomingEdgeList:m(x)}}},{key:"moveAnchorEnd",value:function(c,p){var v=this.props,m=v.graphModel,x=v.nodeModel,S=v.anchorData,D=Ns({x:c,y:p},m);if(D){var I=D.node,H=D.anchor.id;if(this.preTargetNode&&this.preTargetNode!==D.node&&this.preTargetNode.setElementState(vn.DEFAULT),S.id===H)return;this.preTargetNode=I;var ee="".concat(x.id,"_").concat(I.id,"_").concat(H,"_").concat(S.id);if(!this.targetRuleResults.has(ee)){var ne=D.anchor,de=x.isAllowConnectedAsSource(I,S,ne),ye=I.isAllowConnectedAsTarget(x,S,ne);this.sourceRuleResults.set(ee,gc(de)),this.targetRuleResults.set(ee,gc(ye))}var xe=this.sourceRuleResults.get(ee).isAllPass,Ce=this.targetRuleResults.get(ee).isAllPass;xe&&Ce?I.setElementState(vn.ALLOW_CONNECT):I.setElementState(vn.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==vn.DEFAULT&&this.preTargetNode.setElementState(vn.DEFAULT)}},{key:"isShowLine",value:function(){var c=this.state,p=c.startX,v=c.startY,m=c.endX,x=c.endY;return Do(p,v,m,x)>10}},{key:"render",value:function(){var c=this,p=this.state,v=p.startX,m=p.startY,x=p.endX,S=p.endY,D=this.props,I=D.anchorData.edgeAddable,H=D.edgeStyle;return Object(fe.g)("g",{className:"lf-anchor"},Object(fe.g)("g",{onMouseDown:function(ee){I!==!1&&c.dragHandler.handleMouseDown(ee)}},this.getAnchorShape()),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(sp({sourcePoint:{x:v,y:m},targetPoint:{x,y:S}},H)):Object(fe.g)(Zs,cp({x1:v,y1:m,x2:x,y2:S},H,{"pointer-events":"none"}))))}}])&&Dj(e.prototype,n),s}(fe.a);function W_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Ij(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W_(Object(n),!0).forEach(function(i){Lj(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Lj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hg(t){return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}function Bj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return G_(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return G_(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function U_(t){var e=t.x,n=e===void 0?0:e,i=t.y,s=i===void 0?0:i,c=t.value,p=t.fontSize,v=t.fill,m=v===void 0?"currentColor":v,x=t.overflowMode,S=x===void 0?"default":x,D=t.textWidth,I=D===void 0?"":D,H=t.model,ee={textAnchor:"middle","dominant-baseline":"middle",x:n,y:s,fill:m};if(Object.entries(t).forEach(function(Qe){var Ze=Bj(Qe,2),_t=Ze[0],qe=Ze[1];hg(qe)!=="object"&&(ee[_t]=qe)}),c){var ne=String(c).split(/[\r\n]/g),de=ne.length;if(S!=="default"){var ye=H.BaseType,xe=H.modelType;if(ye===Jn.NODE&&xe!==Zt.TEXT_NODE||ye===Jn.EDGE&&I)return function(Qe){var Ze=Qe.value,_t=Qe.fontSize,qe=Qe.model,dt=Qe.fontFamily,rt=dt===void 0?"":dt,tn=Qe.lineHeight,an=Qe.wrapPadding,It=an===void 0?"0, 0":an,fn=Qe.overflowMode,nr=Qe.x,rr=Qe.y,Br=qe.width,Io=qe.textHeight,Lo=Qe.textWidth||Br,pa=String(Ze).split(/[\r\n]/g),zc=pa.length,Ud=Ph({rows:pa,style:{fontSize:"".concat(_t,"px"),width:"".concat(Lo,"px"),fontFamily:rt,lineHeight:tn,padding:It},rowsLength:zc,className:"lf-get-text-height"}),$c=qe.height>Ud?qe.height:Ud;Io&&($c=Io);var Tu=fn==="ellipsis";return Tu&&($c=_t+2),Object(fe.g)("g",null,Object(fe.g)("foreignObject",{width:Lo,height:$c,x:nr-Lo/2,y:rr-$c/2},Object(fe.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:$c,width:Lo,padding:It}},Object(fe.g)("div",{className:Tu?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Tu?pa.join(""):"",style:Ij({},Qe)},pa.map(function(Mu){return Object(fe.g)("div",{className:"lf-node-text--auto-wrap-inner"},Mu)})))))}(t)}if(de>1){var Ce=ne.map(function(Qe,Ze){var _t=(Ze-(de-1)/2)*(p+2);return Object(fe.g)("tspan",{className:"lf-text-tspan",x:n,y:s+_t},Qe)});return Object(fe.g)("text",ee,Ce)}return Object(fe.g)("text",ee,c)}}function dg(t){return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(t)}function yg(){return yg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},yg.apply(this,arguments)}function zj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return H_(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return H_(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function $j(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function vg(t,e){return vg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},vg(t,e)}function Fj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=_d(t);if(e){var s=_d(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Wj(this,n)}}function Wj(t,e){if(e&&(dg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pu(t)}function Pu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _d(t){return _d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_d(t)}function Cc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var X_=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&vg(c,p)})(s,t);var e,n,i=Fj(s);function s(c){var p;(function(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")})(this,s),Cc(Pu(p=i.call(this)),"dragHandler",void 0),Cc(Pu(p),"sumDeltaX",0),Cc(Pu(p),"sumDeltaY",0),Cc(Pu(p),"stepDrag",void 0),Cc(Pu(p),"onDragging",function(m){var x=m.deltaX,S=m.deltaY,D=p.props,I=D.model,H=zj(D.graphModel.transformModel.fixDeltaXY(x,S),2),ee=H[0],ne=H[1];I.moveText(ee,ne)}),Cc(Pu(p),"dblClickHandler",function(){p.props.editable&&p.props.model.setElementState(vn.TEXT_EDIT)}),Cc(Pu(p),"mouseDownHandle",function(m){var x=p.props,S=x.draggable,D=x.model,I=x.graphModel.editConfigModel.nodeTextDraggable;(S||I)&&(p.stepDrag.model=D,p.stepDrag.handleMouseDown(m))}),c.model;var v=c.draggable;return p.stepDrag=new ei({onDragging:p.onDragging,step:1,isStopPropagation:v}),p}return e=s,(n=[{key:"getShape",value:function(){var c=this.props,p=c.model,v=c.graphModel,m=p.text,x=v.editConfigModel,S=m.value,D=m.x,I=m.y,H=m.editable,ee=m.draggable,ne={x:D,y:I,className:"",value:S};H?ne.className="lf-element-text":ee||x.nodeTextDraggable?ne.className="lf-text-draggable":ne.className="lf-text-disabled";var de=p.getTextStyle();return Object(fe.g)(U_,yg({},ne,de,{model:p}))}},{key:"render",value:function(){if(this.props.model.text)return Object(fe.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&$j(e.prototype,n),s}(fe.a),Gj=au(window,"navigator.userAgent","").match(/MSIE|Trident/)!==null,Y_=o(130);function gg(t){return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}function bg(){return bg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bg.apply(this,arguments)}function Uj(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function mg(t,e){return mg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},mg(t,e)}function Hj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Od(t);if(e){var s=Od(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Xj(this,n)}}function Xj(t,e){if(e&&(gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sl(t)}function sl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Od(t){return Od=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Od(t)}function lp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Yj=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&mg(c,p)})(s,t);var e,n,i=Hj(s);function s(c){var p;return function(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}(this,s),lp(sl(p=i.call(this,c)),"style",{}),lp(sl(p),"defaultAngle",void 0),lp(sl(p),"normal",void 0),lp(sl(p),"stepperDrag",void 0),lp(sl(p),"onDragging",function(v){var m,x=v.event,S=p.props,D=S.graphModel,I=S.nodeModel,H=S.eventCenter,ee=D.selectNodes,ne=I.x,de=I.y,ye=x.clientX,xe=x.clientY,Ce=D.getPointByClient({x:ye,y:xe}).canvasOverlayPosition,Qe=Ce.x,Ze=Ce.y,_t=new W(Qe-ne,Ze-de),qe=((m=p.normal)===null||m===void 0?void 0:m.angle(_t))-p.defaultAngle,dt=new ia(-ne,-de).rotate(qe).translate(ne,de).toString();I.transform=dt,I.rotate=qe;var rt=Object(Y_.map)(ee,function(an){return an.id});rt.indexOf(I.id)===-1&&(rt=[I.id]);var tn=Object(Y_.reduce)(rt,function(an,It){var fn=D.getNodeModelById(It);return an[It]=fn==null?void 0:fn.getMoveDistance(0,0,!1),an},{});rt.forEach(function(an){D.getNodeEdges(an).forEach(function(It){if(tn[It.sourceNodeId]){var fn=D.getNodeModelById(It.sourceNodeId).anchors.find(function(rr){return rr.id===It.sourceAnchorId});It.updateStartPoint(fn)}if(tn[It.targetNodeId]){var nr=D.getNodeModelById(It.targetNodeId).anchors.find(function(rr){return rr.id===It.targetAnchorId});It.updateEndPoint(nr)}})}),H.emit(ht.NODE_ROTATE,{e:x,nodeModel:I})}),p.style=c.style,p.stepperDrag=new ei({onDragging:p.onDragging}),p}return e=s,(n=[{key:"render",value:function(){var c=this,p=this.props.nodeModel,v=p.x,m=p.y,x=v+p.width/2+20,S=m-p.height/2-20;return this.normal=new W(1,0),this.defaultAngle=this.normal.angle(new W(x-v,S-m)),p.defaultAngle=this.defaultAngle,Object(fe.g)("g",{className:"lf-rotate-control"},Object(fe.g)("g",{onMouseDown:function(D){c.stepperDrag.handleMouseDown(D)}},Object(fe.g)(Qs,bg({},this.style,{cx:x,cy:S}))))}}])&&Uj(e.prototype,n),s}(fe.a);function _g(t){return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(t)}var Vj=["className"];function wd(){return wd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},wd.apply(this,arguments)}function Kj(t,e){if(t==null)return{};var n,i,s=function(p,v){if(p==null)return{};var m,x,S={},D=Object.keys(p);for(x=0;x<D.length;x++)m=D[x],v.indexOf(m)>=0||(S[m]=p[m]);return S}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(i=0;i<c.length;i++)n=c[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function xd(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return V_(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return V_(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function K_(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Og(t,e){return Og=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Og(t,e)}function qj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ed(t);if(e){var s=Ed(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Zj(this,n)}}function Zj(t,e){if(e&&(_g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Er(t)}function Er(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ed(t){return Ed=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ed(t)}function Mr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var za=function(t){(function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),v&&Og(p,v)})(c,t);var e,n,i,s=qj(c);function c(p){var v;(function(I,H){if(!(I instanceof H))throw new TypeError("Cannot call a class as a function")})(this,c),Mr(Er(v=s.call(this)),"t",void 0),Mr(Er(v),"moveOffset",void 0),Mr(Er(v),"stepDrag",void 0),Mr(Er(v),"contextMenuTime",void 0),Mr(Er(v),"mouseUpDrag",void 0),Mr(Er(v),"startTime",void 0),Mr(Er(v),"clickTimer",void 0),Mr(Er(v),"modelDisposer",void 0),Mr(Er(v),"onDragStart",function(I){var H=I.event,ee=H.clientX,ne=H.clientY,de=v.props,ye=de.model,xe=de.graphModel.getPointByClient({x:ee,y:ne}).canvasOverlayPosition,Ce=xe.x,Qe=xe.y;v.moveOffset={x:ye.x-Ce,y:ye.y-Qe}}),Mr(Er(v),"onDragging",function(I){var H=I.event,ee=v.props,ne=ee.model,de=ee.graphModel,ye=de.editConfigModel,xe=ye.stopMoveGraph,Ce=ye.autoExpand,Qe=de.transformModel,Ze=de.selectNodes,_t=de.width,qe=de.height,dt=de.gridSize;ne.isDragging=!0;var rt=H.clientX,tn=H.clientY,an=de.getPointByClient({x:rt,y:tn}).canvasOverlayPosition,It=an.x,fn=an.y,nr=xd(Qe.CanvasPointToHtmlPoint([It,fn]),2),rr=nr[0],Br=nr[1];if(It+=v.moveOffset.x,fn+=v.moveOffset.y,It=Ki(It,dt),fn=Ki(fn,dt),_t&&qe){if(!Ce||xe||!(rr<0||Br<0||rr>_t||Br>qe)){var Io=xd(Qe.CanvasPointToHtmlPoint([It-ne.width/2,fn-ne.height/2]),2),Lo=Io[0],pa=Io[1],zc=xd(Qe.CanvasPointToHtmlPoint([It+ne.width/2,fn+ne.height/2]),2),Ud=zc[0],$c=zc[1],Tu=Math.max(dt,20),Mu=[];Lo<0?Mu=[Tu,0]:Ud>de.width?Mu=[-Tu,0]:pa<0?Mu=[0,Tu]:$c>de.height&&(Mu=[0,-Tu]),v.t&&bd(v.t);var RA=new ia(-It,-fn).rotate(ne.rotate).translate(It,fn).toString();ne.transform=RA;var Hd=Ze.map(function(Xd){return Xd.id});Hd.indexOf(ne.id)===-1&&(Hd=[ne.id]),Mu.length>0&&!xe&&Ce?v.t=z_(function(){var Xd=xd(Mu,2),T1=Xd[0],M1=Xd[1];Qe.translate(T1,M1);var CA=-T1/Qe.SCALE_X,IA=-M1/Qe.SCALE_X;de.moveNodes(Hd,CA,IA)}):de.moveNodes(Hd,It-ne.x,fn-ne.y)}}else de.moveNode2Coordinate(ne.id,It,fn)}),Mr(Er(v),"onDragEnd",function(){v.t&&bd(v.t),v.props.model.isDragging=!1}),Mr(Er(v),"handleMouseUp",function(){var I=v.props.model;v.mouseUpDrag=I.isDragging}),Mr(Er(v),"handleClick",function(I){var H=v.mouseUpDrag===!1;if(v.startTime){var ee=v.props,ne=ee.model,de=ee.graphModel;if(H){var ye={data:ne.getData(),e:I,position:de.getPointByClient({x:I.clientX,y:I.clientY}),isSelected:!1,isMultiple:!1},xe=I.button===2,Ce=I.detail===2;if(!xe){var Qe=de.editConfigModel,Ze=lf(I,Qe);ye.isMultiple=Ze,ne.isSelected&&!Ce&&Ze?(ye.isSelected=!1,ne.setSelected(!1)):(de.selectNodeById(ne.id,Ze),ye.isSelected=!0,v.toFront()),Ce?(Qe.nodeTextEdit&&ne.text.editable&&(ne.setSelected(!1),de.setElementStateById(ne.id,vn.TEXT_EDIT)),de.eventCenter.emit(ht.NODE_DBCLICK,ye)):(de.eventCenter.emit(ht.ELEMENT_CLICK,ye),de.eventCenter.emit(ht.NODE_CLICK,ye))}}}}),Mr(Er(v),"handleContextMenu",function(I){I.preventDefault();var H=v.props,ee=H.model,ne=H.graphModel,de=ee.getData(),ye=ne.getPointByClient({x:I.clientX,y:I.clientY});ne.setElementStateById(ee.id,vn.SHOW_MENU,ye.domOverlayPosition),ee.isSelected||ne.selectNodeById(ee.id),ne.eventCenter.emit(ht.NODE_CONTEXTMENU,{data:de,e:I,position:ye}),v.toFront()}),Mr(Er(v),"handleMouseDown",function(I){var H=v.props,ee=H.model,ne=H.graphModel;v.startTime=new Date().getTime(),ne.editConfigModel.adjustNodePosition&&ee.draggable&&v.stepDrag&&v.stepDrag.handleMouseDown(I)}),Mr(Er(v),"setHoverON",function(I){var H=v.props,ee=H.model,ne=H.graphModel;if(!ee.isHovered){var de=ee.getData();ee.setHovered(!0),ne.eventCenter.emit(ht.NODE_MOUSEENTER,{data:de,e:I})}}),Mr(Er(v),"setHoverOFF",function(I){var H=v.props,ee=H.model,ne=H.graphModel,de=ee.getData();ee.isHovered&&(ee.setHovered(!1),ne.eventCenter.emit(ht.NODE_MOUSELEAVE,{data:de,e:I}))}),Mr(Er(v),"onMouseOut",function(I){Gj&&v.setHoverOFF(I)});var m=p.graphModel,x=m.gridSize,S=m.eventCenter,D=p.model;return v.stepDrag=new ei({onDragStart:v.onDragStart,onDragging:v.onDragging,onDragEnd:v.onDragEnd,step:x,eventType:"NODE",isStopPropagation:!1,eventCenter:S,model:D}),v.modelDisposer=Object(d.F)(function(){return v.props},function(I){I&&I.model&&v.stepDrag.setModel(I.model)}),v}return e=c,i=[{key:"getModel",value:function(p){return p}}],(n=[{key:"componentWillUnmount",value:function(){this.modelDisposer&&this.modelDisposer()}},{key:"getAnchorShape",value:function(p){return null}},{key:"getAnchors",value:function(){var p=this,v=this.props,m=v.model,x=v.graphModel,S=m.isSelected,D=m.isHitable,I=m.isDragging,H=m.isShowAnchor;return D&&(S||H)&&!I?us(m.anchors,function(ee,ne){var de=m.getAnchorLineStyle(ee),ye=m.getAnchorStyle(ee);return Object(fe.g)(Cj,{anchorData:ee,node:p,style:ye,edgeStyle:de,anchorIndex:ne,nodeModel:m,graphModel:x,setHoverOFF:p.setHoverOFF})}):[]}},{key:"getRotateControl",value:function(){var p=this.props,v=p.model,m=p.graphModel,x=v.isSelected,S=v.isHitable,D=v.enableRotate,I=v.isHovered,H=v.getRotateControlStyle().style;if(S&&(x||I)&&D)return Object(fe.g)(Yj,{graphModel:m,nodeModel:v,eventCenter:m.eventCenter,style:H})}},{key:"getText",value:function(){var p=this.props,v=p.model,m=p.graphModel;if(v.state===vn.TEXT_EDIT)return"";if(v.text){var x=m.editConfigModel,S=!1;return(v.text.draggable||x.nodeTextDraggable)&&(S=!0),Object(fe.g)(X_,{editable:x.nodeTextEdit&&v.text.editable,model:v,graphModel:m,draggable:S})}}},{key:"getStateClassName",value:function(){var p=this.props.model,v=p.state,m=p.isDragging,x=p.isSelected,S="lf-node";switch(v){case vn.ALLOW_CONNECT:S+=" lf-node-allow";break;case vn.NOT_ALLOW_CONNECT:S+=" lf-node-not-allow";break;default:S+=" lf-node-default"}return m&&(S+=" lf-isDragging"),x&&(S+=" lf-node-selected"),S}},{key:"toFront",value:function(){var p=this.props,v=p.model,m=p.graphModel;v.autoToFront&&m.toFront(v.id)}},{key:"render",value:function(){var p,v=this.props,m=v.model,x=v.graphModel,S=x.editConfigModel,D=S.hideAnchors,I=S.adjustNodePosition,H=S.allowRotation,ee=x.gridSize,ne=x.transformModel.SCALE_X,de=m.isHitable,ye=m.draggable,xe=m.transform,Ce=m.getOuterGAttributes(),Qe=Ce.className,Ze=Qe===void 0?"":Qe,_t=Kj(Ce,Vj),qe=Object(fe.g)("g",{className:"lf-node-content"},Object(fe.g)("g",{transform:xe},this.getShape(),this.getText(),H&&this.getRotateControl()),!D&&this.getAnchors());return de?(I&&ye&&this.stepDrag.setStep(ee*ne),p=Object(fe.g)("g",wd({className:"".concat(this.getStateClassName()," ").concat(Ze),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},_t),qe)):p=Object(fe.g)("g",wd({className:"".concat(this.getStateClassName()," ").concat(Ze)},_t),qe),p}}])&&K_(e.prototype,n),i&&K_(e,i),c}(fe.a);function wg(t){return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}function xg(){return xg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},xg.apply(this,arguments)}function Jj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qj(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Eg(t,e){return Eg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Eg(t,e)}function eP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Sd(t);if(e){var s=Sd(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return tP(this,n)}}function tP(t,e){if(e&&(wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Sd(t){return Sd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sd(t)}var Sg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Eg(c,p)})(s,t);var e,n,i=eP(s);function s(){return Jj(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"getShape",value:function(){var c=this.props.model,p=c.getNodeStyle();return Object(fe.g)(Eu,xg({},p,{x:c.x,y:c.y,width:c.width,height:c.height,radius:c.radius}))}}])&&Qj(e.prototype,n),s}(za);function jg(t){return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}function Pg(){return Pg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pg.apply(this,arguments)}function nP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ag(t,e){return Ag=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ag(t,e)}function oP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=jd(t);if(e){var s=jd(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return iP(this,n)}}function iP(t,e){if(e&&(jg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function jd(t){return jd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jd(t)}var Tg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Ag(c,p)})(s,t);var e,n,i=oP(s);function s(){return nP(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"getShape",value:function(){var c=this.props.model,p=c.x,v=c.y,m=c.r,x=c.getNodeStyle();return Object(fe.g)(Qs,Pg({},x,{x:p,y:v,r:m}))}}])&&rP(e.prototype,n),s}(za);function Mg(t){return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(t)}function aP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return q_(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return q_(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Z_(t){var e=t.points,n=t.className,i={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(s){var c=aP(s,2),p=c[0],v=c[1];Mg(v)!=="object"&&(i[p]=v)}),i.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",i.points=e.map(function(s){return s.join(",")}).join(" "),Object(fe.g)("polygon",i)}function kg(t){return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(t)}function Dg(){return Dg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Dg.apply(this,arguments)}function uP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ng(t,e){return Ng=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ng(t,e)}function sP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Pd(t);if(e){var s=Pd(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return lP(this,n)}}function lP(t,e){if(e&&(kg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Pd(t){return Pd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pd(t)}var Rg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Ng(c,p)})(s,t);var e,n,i=sP(s);function s(){return uP(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"getShape",value:function(){var c=this.props.model,p=c.x,v=c.y,m=c.width,x=c.height,S=c.points,D=c.getNodeStyle(),I={transform:"matrix(1 0 0 1 ".concat(p-m/2," ").concat(v-x/2,")")};return Object(fe.g)("g",I,Object(fe.g)(Z_,Dg({},D,{points:S,x:p,y:v})))}}])&&cP(e.prototype,n),s}(za);function Cg(t){return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(t)}function Ig(){return Ig=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ig.apply(this,arguments)}function fP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Lg(t,e){return Lg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Lg(t,e)}function hP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Ad(t);if(e){var s=Ad(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return dP(this,n)}}function dP(t,e){if(e&&(Cg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ad(t){return Ad=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ad(t)}var Bg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Lg(c,p)})(s,t);var e,n,i=hP(s);function s(){return fP(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"getShape",value:function(){var c=this.props.model,p=c.getNodeStyle();return Object(fe.g)("g",null,Object(fe.g)(Z_,Ig({},p,{points:c.points,x:c.x,y:c.y})))}}])&&pP(e.prototype,n),s}(za);function zg(t){return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}function yP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return J_(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return J_(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function vP(t){var e=t.x,n=e===void 0?0:e,i=t.y,s=i===void 0?0:i,c=t.rx,p=c===void 0?4:c,v=t.ry,m=v===void 0?4:v,x=t.className,S={cx:n,cy:s,rx:p,ry:m,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(D){var I=yP(D,2),H=I[0],ee=I[1];zg(ee)!=="object"&&(S[H]=ee)}),S.className=x?"lf-basic-shape ".concat(x):"lf-basic-shape",Object(fe.g)("ellipse",S)}function $g(t){return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(t)}function Fg(){return Fg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fg.apply(this,arguments)}function gP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Wg(t,e){return Wg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Wg(t,e)}function mP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Td(t);if(e){var s=Td(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return _P(this,n)}}function _P(t,e){if(e&&($g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Td(t){return Td=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Td(t)}var Gg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Wg(c,p)})(s,t);var e,n,i=mP(s);function s(){return gP(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"getShape",value:function(){var c=this.props.model,p=c.getNodeStyle();return Object(fe.g)(vP,Fg({},p,{x:c.x,y:c.y,rx:c.rx,ry:c.ry}))}}])&&bP(e.prototype,n),s}(za);function Ug(t){return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function Q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function e1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q_(Object(n),!0).forEach(function(i){OP(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function OP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Hg(t,e){return Hg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Hg(t,e)}function EP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Md(t);if(e){var s=Md(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return SP(this,n)}}function SP(t,e){if(e&&(Ug(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Md(t){return Md=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Md(t)}var Xg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Hg(c,p)})(s,t);var e,n,i=EP(s);function s(){return wP(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"getBackground",value:function(){var c=this.props.model,p=c.getTextStyle(),v=c.width,m=c.height,x=c.x,S=c.y,D=e1(e1({},p.background),{},{x,y:S-1,width:v,height:m});return Object(fe.g)(Eu,D)}},{key:"getShape",value:function(){return Object(fe.g)("g",null,this.getBackground())}}])&&xP(e.prototype,n),s}(za);function Yg(t){return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yg(t)}function Vg(){return Vg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Vg.apply(this,arguments)}function jP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Kg(t,e){return Kg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Kg(t,e)}function AP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=kd(t);if(e){var s=kd(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return TP(this,n)}}function TP(t,e){if(e&&(Yg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fp(t)}function fp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kd(t){return kd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kd(t)}function Dd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Kg(c,p)})(s,t);var e,n,i=AP(s);function s(){var c;jP(this,s);for(var p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];return Dd(fp(c=i.call.apply(i,[this].concat(v))),"ref",void 0),Dd(fp(c),"currentProperties",void 0),Dd(fp(c),"preProperties",void 0),Dd(fp(c),"setRef",function(x){c.ref=x}),c}return e=s,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(c){c.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var c=this.props.model,p=c.x,v=c.y,m=c.height,x=c.width,S=c.getNodeStyle();return this.currentProperties=JSON.stringify(c.properties),Object(fe.g)("foreignObject",Vg({},S,{x:p-x/2,y:v-m/2,width:x,height:m,ref:this.setRef}))}}])&&PP(e.prototype,n),s}(za);function Zg(t){return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(t)}function Jg(){return Jg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Jg.apply(this,arguments)}function t1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Ic(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t1(Object(n),!0).forEach(function(i){tb(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function MP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Qg(t,e){return Qg=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Qg(t,e)}function kP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Nd(t);if(e){var s=Nd(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return DP(this,n)}}function DP(t,e){if(e&&(Zg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eb(t)}function eb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nd(t){return Nd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nd(t)}function tb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var NP=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Qg(c,p)})(s,t);var e,n,i=kP(s);function s(c){var p;return function(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}(this,s),tb(eb(p=i.call(this,c)),"setHoverON",function(){p.setState({isHovered:!0})}),tb(eb(p),"setHoverOFF",function(){p.setState({isHovered:!1})}),p.state={isHovered:!1},p}return e=s,(n=[{key:"getBackground",value:function(){var c=this.props.model,p=c.getTextStyle(),v=c.text,m=c.width,x=p.background||{};if(this.state.isHovered&&p.hover&&p.hover.background&&(x=Ic(Ic({},x),p.hover.background)),v&&v.value&&x.fill!=="transparent"){var S,D=p.fontSize,I=p.overflowMode,H=p.lineHeight,ee=p.wrapPadding,ne=p.textWidth,de=v.value,ye=v.x,xe=v.y,Ce=String(de).split(/[\r\n]/g),Qe=Ce.length;if(I==="autoWrap"&&ne){var Ze=Ph({rows:Ce,style:{fontSize:"".concat(D,"px"),width:"".concat(ne,"px"),lineHeight:H,padding:ee},rowsLength:Qe,className:"lf-get-text-height"});S=Ic(Ic({},x),{},{x:ye-1,y:xe-1,width:ne,height:Ze})}else{Ce&&Ce.forEach(function(tn){Hs(tn)});var _t=Tf({rows:Ce,fontSize:D,rowsLength:Qe}),qe=_t.width,dt=_t.height;if(I==="ellipsis"&&(qe=ne||m,dt=D+2),typeof x.wrapPadding=="string"){var rt=x.wrapPadding.split(",").filter(function(tn){return tn.trim()}).map(function(tn){return parseFloat(tn.trim())});rt.length>0&&rt.length<=4&&(rt.length===1?rt=[rt[0],rt[0],rt[0],rt[0]]:rt.length===2?rt=[rt[0],rt[1],rt[0],rt[1]]:rt.length===3&&(rt=[rt[0],rt[1],rt[2],rt[1]]),qe+=rt[1]+rt[3],dt+=rt[0]+rt[2],ye+=(rt[1]-rt[3])/2,xe+=(rt[2]-rt[0])/2)}S=Ic(Ic({},x),{},{x:ye-1,y:xe-1,width:qe,height:dt})}return Object(fe.g)(Eu,S)}}},{key:"getShape",value:function(){var c=this.props.model,p=c.text,v=p.value,m=p.x,x=p.y;if(v){var S=Ic({x:m,y:x,className:"lf-element-text",value:v},c.getTextStyle());return Object(fe.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(fe.g)(U_,Jg({},S,{model:c})))}}}])&&MP(e.prototype,n),s}(X_);function nb(t){return nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nb(t)}var la,RP=["text","sourceAnchorId","targetAnchorId"];function n1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function $a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n1(Object(n),!0).forEach(function(i){Co(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function CP(t,e){if(t==null)return{};var n,i,s=function(p,v){if(p==null)return{};var m,x,S={},D=Object.keys(p);for(x=0;x<D.length;x++)m=D[x],v.indexOf(m)>=0||(S[m]=p[m]);return S}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(i=0;i<c.length;i++)n=c[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function IP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return r1(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return r1(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function LP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function rb(t,e){return rb=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},rb(t,e)}function BP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Rd(t);if(e){var s=Rd(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return zP(this,n)}}function zP(t,e){if(e&&(nb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ro(t)}function Ro(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rd(t){return Rd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rd(t)}function Co(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(la||(la={}));var o1=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&rb(c,p)})(s,t);var e,n,i=BP(s);function s(c){var p;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,s),Co(Ro(p=i.call(this)),"stepDragData",void 0),Co(Ro(p),"stepDrag",void 0),Co(Ro(p),"oldEdge",void 0),Co(Ro(p),"preTargetNode",void 0),Co(Ro(p),"targetRuleResults",void 0),Co(Ro(p),"sourceRuleResults",void 0),Co(Ro(p),"handleMouseDown",function(S){p.stepDrag&&p.stepDrag.handleMouseDown(S)}),Co(Ro(p),"onDragStart",function(){var S=p.props,D=S.x,I=S.y,H=S.edgeModel,ee=H.startPoint,ne=H.endPoint,de=H.pointsList;p.oldEdge={startPoint:ee,endPoint:ne,pointsList:de},p.setState({endX:D,endY:I,dragging:!0})}),Co(Ro(p),"onDragging",function(S){var D=S.deltaX,I=S.deltaY,H=p.state,ee=H.endX,ne=H.endY,de=p.props,ye=de.graphModel,xe=de.type,Ce=ye.transformModel,Qe=ye.editConfigModel,Ze=IP(Ce.moveCanvasPointByHtml([ee,ne],D,I),2),_t=Ze[0],qe=Ze[1];p.setState({endX:_t,endY:qe,dragging:!0});var dt=p.props.edgeModel,rt=Ns({x:ee,y:ne},ye);if(rt&&rt.node&&p.isAllowAdjust(rt).pass){var tn,an=dt.startPoint,It=dt.endPoint,fn=dt.sourceNode,nr=dt.targetNode;xe===la.SOURCE?tn={startPoint:{x:rt.anchor.x,y:rt.anchor.y},endPoint:{x:It.x,y:It.y},sourceNode:rt.node,targetNode:nr}:xe===la.TARGET&&(tn={startPoint:{x:an.x,y:an.y},endPoint:{x:rt.anchor.x,y:rt.anchor.y},sourceNode:fn,targetNode:rt.node}),dt.updateAfterAdjustStartAndEnd(tn)}else xe===la.SOURCE?dt.updateStartPoint({x:_t,y:qe}):xe===la.TARGET&&dt.updateEndPoint({x:_t,y:qe});dt.text.value&&Qe.adjustEdge&&dt.setText(Object.assign({},dt.text,dt.textPosition))}),Co(Ro(p),"onDragEnd",function(S){var D=S.event;try{var I;p.setState({dragging:!1});var H=p.props,ee=H.graphModel,ne=H.edgeModel,de=H.type,ye=p.state,xe=ye.endX,Ce=ye.endY,Qe=ye.dragging,Ze=Ns({x:xe,y:Ce},ee);if(!Qe)return;var _t,qe=!1;if(Ze&&Ze.node){var dt=p.isAllowAdjust(Ze),rt=dt.pass,tn=dt.msg,an=dt.newTargetNode;if(rt){var It=ne.getData(),fn=It.text,nr=It.sourceAnchorId,rr=nr===void 0?"":nr,Br=It.targetAnchorId;_t=$a($a({sourceAnchorId:rr,targetAnchorId:Br===void 0?"":Br},CP(It,RP)),{},{text:(fn==null?void 0:fn.value)||""}),de===la.SOURCE?(_t=$a($a({},ee.edgeGenerator(ee.getNodeModelById(Ze.node.id).getData(),ee.getNodeModelById(ne.targetNodeId).getData(),_t)),{},{sourceNodeId:Ze.node.id,sourceAnchorId:Ze.anchor.id,startPoint:{x:Ze.anchor.x,y:Ze.anchor.y},targetNodeId:ne.targetNodeId,endPoint:$a({},ne.endPoint)}),ne.sourceNodeId===Ze.node.id&&ne.sourceAnchorId===Ze.anchor.id&&(qe=!0)):de===la.TARGET&&(_t=$a($a({},ee.edgeGenerator(ee.getNodeModelById(ne.sourceNodeId).getData(),ee.getNodeModelById(Ze.node.id).getData(),_t)),{},{sourceNodeId:ne.sourceNodeId,startPoint:$a({},ne.startPoint),targetNodeId:Ze.node.id,targetAnchorId:Ze.anchor.id,endPoint:{x:Ze.anchor.x,y:Ze.anchor.y}}),ne.targetNodeId===Ze.node.id&&ne.targetAnchorId===Ze.anchor.id&&(qe=!0))}else{qe=!0;var Io=an.getData();ee.eventCenter.emit(ht.CONNECTION_NOT_ALLOWED,{data:Io,msg:tn})}}else qe=!0;if(qe)p.recoveryEdge();else{var Lo=ne.getData();ee.deleteEdgeById(ne.id);var pa=ee.addEdge($a({},_t));ee.eventCenter.emit(ht.EDGE_EXCHANGE_NODE,{data:{newEdge:pa.getData(),oldEdge:Lo}})}(I=p.preTargetNode)===null||I===void 0||I.setElementState(vn.DEFAULT)}finally{p.props.graphModel.eventCenter.emit(ht.ADJUST_POINT_DRAGEND,{e:D,data:p.stepDragData})}}),Co(Ro(p),"recoveryEdge",function(){var S=p.props.edgeModel,D=p.oldEdge,I=D.startPoint,H=D.endPoint,ee=D.pointsList;S.updateStartPoint(I),S.updateEndPoint(H),S.modelType!==Zt.LINE_EDGE&&(S.pointsList=ee,S.initPoints())}),Co(Ro(p),"getAdjustPointStyle",function(){var S=p.props,D=S.graphModel.theme;return S.edgeModel,D.edgeAdjust}),p.state={dragging:!1,endX:0,endY:0},p.targetRuleResults=new Map,p.sourceRuleResults=new Map;var v=c.type,m=c.edgeModel,x=c.graphModel.eventCenter;return p.stepDragData={type:v,edgeData:m.getData()},p.stepDrag=new ei({onDragStart:p.onDragStart,onDragging:p.onDragging,onDragEnd:p.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:x,data:p.stepDragData}),p}return e=s,(n=[{key:"isAllowAdjust",value:function(c){var p=this.props,v=p.edgeModel,m=v.id,x=v.sourceNode,S=v.targetNode,D=v.sourceAnchorId,I=v.targetAnchorId,H=p.type,ee=null,ne=null,de=null,ye=null;if(H===la.SOURCE?(ee=c.node,ne=S,de=c.anchor,ye=S.getAnchorInfo(I)):(ee=x,ne=c.node,ye=c.anchor,de=x.getAnchorInfo(D)),this.preTargetNode&&this.preTargetNode!==c.node&&this.preTargetNode.setElementState(vn.DEFAULT),this.preTargetNode=c.node,ye.id===de.id)return{pass:!1,msg:"",newTargetNode:ne};var xe="".concat(ee.id,"_").concat(ne.id,"_").concat(de.id,"_").concat(ye.id);if(!this.targetRuleResults.has(xe)){var Ce=ee.isAllowConnectedAsSource(ne,de,ye,m),Qe=ne.isAllowConnectedAsTarget(ee,de,ye,m);this.sourceRuleResults.set(xe,gc(Ce)),this.targetRuleResults.set(xe,gc(Qe))}var Ze=this.sourceRuleResults.get(xe),_t=Ze.isAllPass,qe=Ze.msg,dt=this.targetRuleResults.get(xe),rt=dt.isAllPass,tn=dt.msg,an=_t&&rt?vn.ALLOW_CONNECT:vn.NOT_ALLOW_CONNECT;return H===la.SOURCE?ee.setElementState(an):ne.setElementState(an),{pass:_t&&rt,msg:tn||qe,newTargetNode:ne}}},{key:"render",value:function(){var c=this.props,p=c.x,v=c.y,m=c.getAdjustPointShape,x=c.edgeModel,S=this.state.dragging;return Object(fe.g)("g",{pointerEvents:S?"none":"",onMouseDown:this.handleMouseDown},S?"":m(p,v,x))}}])&&LP(e.prototype,n),s}(fe.a);function ob(t){return ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ob(t)}function pp(){return pp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pp.apply(this,arguments)}function $P(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return i1(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return i1(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function FP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ib(t,e){return ib=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ib(t,e)}function GP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Cd(t);if(e){var s=Cd(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return UP(this,n)}}function UP(t,e){if(e&&(ob(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ri(t)}function Ri(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cd(t){return Cd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cd(t)}function fa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hp=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&ib(c,p)})(s,t);var e,n,i=GP(s);function s(){var c;FP(this,s);for(var p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];return fa(Ri(c=i.call.apply(i,[this].concat(v))),"startTime",void 0),fa(Ri(c),"contextMenuTime",void 0),fa(Ri(c),"clickTimer",void 0),fa(Ri(c),"textRef",Object(fe.f)()),fa(Ri(c),"handleHover",function(x,S){var D=c.props,I=D.model,H=D.graphModel.eventCenter;I.setHovered(x);var ee=x?ht.EDGE_MOUSEENTER:ht.EDGE_MOUSELEAVE,ne=I.getData();H.emit(ee,{data:ne,e:S})}),fa(Ri(c),"setHoverON",function(x){c.props.model.isHovered||(c.textRef&&c.textRef.current&&c.textRef.current.setHoverON(),c.handleHover(!0,x))}),fa(Ri(c),"setHoverOFF",function(x){c.props.model.isHovered&&(c.textRef&&c.textRef.current&&c.textRef.current.setHoverOFF(),c.handleHover(!1,x))}),fa(Ri(c),"handleContextMenu",function(x){x.preventDefault(),c.contextMenuTime=new Date().getTime(),c.clickTimer&&clearTimeout(c.clickTimer);var S=c.props,D=S.model,I=S.graphModel,H=I.getPointByClient({x:x.clientX,y:x.clientY});I.setElementStateById(D.id,vn.SHOW_MENU,H.domOverlayPosition),c.toFront(),D.isSelected||I.selectEdgeById(D.id);var ee=D==null?void 0:D.getData();I.eventCenter.emit(ht.EDGE_CONTEXTMENU,{data:ee,e:x,position:H})}),fa(Ri(c),"handleMouseDown",function(x){x.stopPropagation(),c.startTime=new Date().getTime()}),fa(Ri(c),"handleMouseUp",function(x){if(c.startTime&&!(new Date().getTime()-c.startTime>200||x.button===2)){var S=x.detail===2,D=c.props,I=D.model,H=D.graphModel,ee=I==null?void 0:I.getData(),ne=H.getPointByClient({x:x.clientX,y:x.clientY});if(S){var de=H.editConfigModel,ye=H.textEditElement;if(ye&&ye.id===I.id&&H.setElementStateById(I.id,vn.DEFAULT),de.edgeTextEdit&&I.text.editable&&H.setElementStateById(I.id,vn.TEXT_EDIT),I.modelType===Zt.POLYLINE_EDGE){var xe=I,Ce=H.getPointByClient({x:x.x,y:x.y}).canvasOverlayPosition,Qe=Ce.x,Ze=Ce.y,_t=Yf({x:Qe,y:Ze},xe.points);xe.dbClickPosition=_t}H.eventCenter.emit(ht.EDGE_DBCLICK,{data:ee,e:x,position:ne})}else H.eventCenter.emit(ht.ELEMENT_CLICK,{data:ee,e:x,position:ne}),H.eventCenter.emit(ht.EDGE_CLICK,{data:ee,e:x,position:ne});var qe=H.editConfigModel;H.selectEdgeById(I.id,lf(x,qe)),c.toFront()}}),c}return e=s,(n=[{key:"getShape",value:function(){return Object(fe.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var c=this.props,p=c.model,v=c.graphModel;if(p.state===vn.TEXT_EDIT)return null;var m=!1,x=v.editConfigModel;return(p.text.draggable||x.edgeTextDraggable)&&(m=!0),Object(fe.g)(NP,{ref:this.textRef,editable:x.edgeTextEdit&&p.text.editable,model:p,graphModel:v,draggable:m})}},{key:"getArrowInfo",value:function(){var c=this.props.model,p=c.startPoint,v=c.endPoint,m=c.isSelected;return{start:p,end:v,hover:this.state.hover,isSelected:m}}},{key:"getLastTwoPoints",value:function(){var c=this.props.model;return[c.startPoint,c.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var c=this.props.model,p=c.id,v=c.getArrowStyle(),m=v.refY,x=m===void 0?0:m,S=v.refX,D=S===void 0?2:S,I=$P(this.getLastTwoPoints(),2),H=I[0],ee=I[1],ne="auto";return H!==null&&ee!==null&&(ne=Ma(Vr({x:ee.x-H.x,y:ee.y-H.y,z:0}))),Object(fe.g)("g",null,Object(fe.g)("defs",null,Object(fe.g)("marker",{id:"marker-start-".concat(p),refX:-D,refY:x,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(fe.g)("marker",{id:"marker-end-".concat(p),refX:D,refY:x,overflow:"visible",orient:ne,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var c=this.props.model.getArrowStyle();return c.stroke,c.strokeWidth,c.offset,c.verticalLength,Object(fe.g)("path",null)}},{key:"getEndArrow",value:function(){var c=this.props.model.getArrowStyle(),p=c.stroke,v=c.strokeWidth,m=c.offset,x=c.verticalLength;return Object(fe.g)("path",{stroke:p,fill:p,strokeWidth:v,transform:"rotate(180)",d:"M 0 0 L ".concat(m," -").concat(x," L ").concat(m," ").concat(x," Z")})}},{key:"getAdjustPointShape",value:function(c,p,v){var m=v.getAdjustPointStyle();return Object(fe.g)(Qs,pp({className:"lf-edge-adjust-point"},m,{x:c,y:p}))}},{key:"getAdjustPoints",value:function(){var c=this.props,p=c.model,v=c.graphModel,m=p.getAdjustStart(),x=p.getAdjustEnd();return Object(fe.g)("g",null,Object(fe.g)(o1,pp({type:"SOURCE"},m,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:p,graphModel:v})),Object(fe.g)(o1,pp({type:"TARGET"},x,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:p,graphModel:v})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(fe.g)("g",null)}},{key:"getAppend",value:function(){return Object(fe.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var c=this.props,p=c.graphModel,v=c.model;p.toFront(v.id)}},{key:"render",value:function(){var c=this.props,p=c.model,v=p.isSelected,m=p.isHitable,x=p.isShowAdjustPoint;return c.graphModel.animation,Object(fe.g)("g",null,Object(fe.g)("g",{className:["lf-edge",!m&&"pointer-none",v&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),x&&v?this.getAdjustPoints():"")}}])&&WP(e.prototype,n),s}(fe.a);function ab(t){return ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ab(t)}function HP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return a1(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return a1(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var dp=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var i=HP(n,2),s=i[0],c=i[1],p=ab(c);s!=="style"&&p==="object"||(e[s]=c)}),Object(fe.g)("path",e)};function ub(t){return ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ub(t)}function cb(){return cb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},cb.apply(this,arguments)}function XP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function sb(t,e){return sb=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},sb(t,e)}function VP(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Id(t);if(e){var s=Id(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return KP(this,n)}}function KP(t,e){if(e&&(ub(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Id(t){return Id=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Id(t)}var lb=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&sb(c,p)})(s,t);var e,n,i=VP(s);function s(){return XP(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"getEdge",value:function(){var c=this.props.model,p=c.startPoint,v=c.endPoint,m=c.isAnimation,x=c.arrowConfig,S=c.getEdgeStyle(),D=c.getEdgeAnimationStyle(),I=D.strokeDasharray,H=D.stroke,ee=D.strokeDashoffset,ne=D.animationName,de=D.animationDuration,ye=D.animationIterationCount,xe=D.animationTimingFunction,Ce=D.animationDirection;return Object(fe.g)(Zs,cb({},S,{x1:p.x,y1:p.y,x2:v.x,y2:v.y},x,m?{strokeDasharray:I,stroke:H,style:{strokeDashoffset:ee,animationName:ne,animationDuration:de,animationIterationCount:ye,animationTimingFunction:xe,animationDirection:Ce}}:{}))}},{key:"getAppendWidth",value:function(){var c=this.props.model,p=c.startPoint,v=c.endPoint,m=Yh({start:p,end:v}),x=m.d,S=m.strokeWidth,D=m.fill,I=m.strokeDasharray,H=m.stroke;return Object(fe.g)(dp,{d:x,fill:D,strokeWidth:S,stroke:H,strokeDasharray:I})}}])&&YP(e.prototype,n),s}(hp);function fb(t){return fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fb(t)}function qP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return u1(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return u1(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var ZP=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var i=qP(n,2),s=i[0],c=i[1];(s==="style"||fb(c)!=="object")&&(e[s]=c)}),Object(fe.g)("polyline",e)};function pb(t){return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pb(t)}function c1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c1(Object(n),!0).forEach(function(i){Wa(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function hb(){return hb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},hb.apply(this,arguments)}function JP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return s1(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return s1(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function QP(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function db(t,e){return db=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},db(t,e)}function eA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Bd(t);if(e){var s=Bd(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return tA(this,n)}}function tA(t,e){if(e&&(pb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fa(t)}function Fa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bd(t){return Bd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bd(t)}function Wa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yb=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&db(c,p)})(s,t);var e,n,i=eA(s);function s(){var c;return function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}(this,s),Wa(Fa(c=i.call(this)),"drag",void 0),Wa(Fa(c),"isDragging",void 0),Wa(Fa(c),"isShowAdjustPointTemp",void 0),Wa(Fa(c),"appendInfo",void 0),Wa(Fa(c),"onDragStart",function(){var p=c.props.model;p.dragAppendStart(),c.isShowAdjustPointTemp=p.isShowAdjustPoint,p.isShowAdjustPoint=!1}),Wa(Fa(c),"onDragging",function(p){var v=p.deltaX,m=p.deltaY,x=c.props,S=x.model,D=x.graphModel;c.isDragging=!0;var I=D.transformModel,H=D.editConfigModel,ee=JP(I.fixDeltaXY(v,m),2),ne=ee[0],de=ee[1],ye=S,xe=H.adjustEdgeMiddle;c.appendInfo=xe?ye.dragAppendSimple(c.appendInfo,{x:ne,y:de}):ye.dragAppend(c.appendInfo,{x:ne,y:de})}),Wa(Fa(c),"onDragEnd",function(){var p=c.props,v=p.model,m=p.graphModel.eventCenter,x=v;x.dragAppendEnd(),c.isDragging=!1,x.isShowAdjustPoint=c.isShowAdjustPointTemp,c.appendInfo=void 0,m.emit(ht.EDGE_ADJUST,{data:x.getData()})}),Wa(Fa(c),"beforeDragStart",function(p,v){v.dragAble&&c.drag.handleMouseDown(p),c.appendInfo=v}),c.drag=new ei({onDragStart:c.onDragStart,onDragging:c.onDragging,onDragEnd:c.onDragEnd,isStopPropagation:!1}),c}return e=s,(n=[{key:"getEdge",value:function(){var c=this.props.model,p=c.points,v=c.isAnimation,m=c.arrowConfig,x=c.getEdgeStyle(),S=c.getEdgeAnimationStyle(),D=S.strokeDasharray,I=S.stroke,H=S.strokeDashoffset,ee=S.animationName,ne=S.animationDuration,de=S.animationIterationCount,ye=S.animationTimingFunction,xe=S.animationDirection;return Object(fe.g)(ZP,hb({points:p},x,m,v?{strokeDasharray:D,stroke:I,style:{strokeDashoffset:H,animationName:ee,animationDuration:ne,animationIterationCount:de,animationTimingFunction:ye,animationDirection:xe}}:{}))}},{key:"getArrowInfo",value:function(){var c=this.props.model,p=c.points,v=c.isSelected,m={start:null,end:null,hover:this.state.hover,isSelected:v},x=na(p);return x.length>=2&&(m.start=x[x.length-2],m.end=x[x.length-1]),m}},{key:"getLastTwoPoints",value:function(){var c=this.props.model.points,p=na(c);return p.length>=2?[p[p.length-2],p[p.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(c){var p,v=c.start,m=c.end;if(v.x===m.x&&v.y===m.y)p="";else{var x={start:v,end:m,offset:10,verticalLength:5},S=Pi(Ld(Ld({},x),{},{type:"start"})),D=Pi(Ld(Ld({},x),{},{type:"end"}));p="M".concat(S.leftX," ").concat(S.leftY," \n      L").concat(S.rightX," ").concat(S.rightY," \n      L").concat(D.rightX," ").concat(D.rightY,"\n      L").concat(D.leftX," ").concat(D.leftY," z")}return{d:p,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(c){var p=this.getAppendAttributes(c),v=p.d,m=p.strokeWidth,x=p.fill,S=p.strokeDasharray,D=p.stroke;return Object(fe.g)(dp,{d:v,fill:x,strokeWidth:m,stroke:D,strokeDasharray:S})}},{key:"getAppendWidth",value:function(){for(var c=this,p=this.props,v=p.model,m=p.graphModel,x=v.pointsList,S=v.draggable,D=[],I=x.length,H=function(ne){var de="lf-polyline-append",ye={start:{x:x[ne].x,y:x[ne].y},end:{x:x[ne+1].x,y:x[ne+1].y},startIndex:ne,endIndex:ne+1,direction:"",dragAble:!0},xe=Object(fe.g)("g",{className:de},c.getAppendShape(ye)),Ce=m.editConfigModel,Qe=Ce.adjustEdge,Ze=Ce.adjustEdgeMiddle;if(Qe&&S){var _t=ye.startIndex,qe=ye.endIndex,dt=Ze&&(_t===0||qe===I-1);ye.dragAble=!dt,ye.start.x===ye.end.x?(ye.dragAble&&(de+="-ew-resize"),ye.direction=Tn.VERTICAL):ye.start.y===ye.end.y&&(ye.dragAble&&(de+="-ns-resize"),ye.direction=Tn.HORIZONTAL),xe=Object(fe.g)("g",{className:c.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(rt){return c.beforeDragStart(rt,ye)}},Object(fe.g)("g",{className:de},c.getAppendShape(ye)))}D.push(xe)},ee=0;ee<I-1;ee++)H(ee);return Object(fe.g)("g",null,D)}}])&&QP(e.prototype,n),s}(hp);function vb(t){return vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vb(t)}function nA(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return l1(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return l1(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function gb(){return gb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},gb.apply(this,arguments)}function rA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function bb(t,e){return bb=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},bb(t,e)}function iA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=zd(t);if(e){var s=zd(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return aA(this,n)}}function aA(t,e){if(e&&(vb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function zd(t){return zd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zd(t)}var mb=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&bb(c,p)})(s,t);var e,n,i=iA(s);function s(){return rA(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"getEdge",value:function(){var c=this.props.model,p=c.getEdgeStyle(),v=c.path,m=c.isAnimation,x=c.arrowConfig,S=c.getEdgeAnimationStyle(),D=S.strokeDasharray,I=S.stroke,H=S.strokeDashoffset,ee=S.animationName,ne=S.animationDuration,de=S.animationIterationCount,ye=S.animationTimingFunction,xe=S.animationDirection;return Object(fe.g)(dp,gb({d:v},p,x,m?{strokeDasharray:D,stroke:I,style:{strokeDashoffset:H,animationName:ee,animationDuration:ne,animationIterationCount:de,animationTimingFunction:ye,animationDirection:xe}}:{}))}},{key:"getAppendWidth",value:function(){var c=this.props.model.path;return Object(fe.g)(dp,{d:c,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var c=this.props.model,p=this.state.hover,v=c.isSelected,m=c.getArrowStyle().offset,x=c.pointsList.map(function(D){return{x:D.x,y:D.y}}),S=nA(Xf(x,m),2);return{start:S[0],end:S[1],hover:p,isSelected:v}}},{key:"getLastTwoPoints",value:function(){var c=this.props.model,p=c.getArrowStyle().offset,v=c.pointsList.map(function(m){return{x:m.x,y:m.y}});return Xf(v,p)}}])&&oA(e.prototype,n),s}(hp);function _b(t){return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_b(t)}function f1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function uA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ob(t,e){return Ob=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ob(t,e)}function lA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=$d(t);if(e){var s=$d(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return fA(this,n)}}function fA(t,e){if(e&&(_b(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function $d(t){return $d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$d(t)}var pA=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Ob(c,p)})(s,t);var e,n,i=lA(s);function s(){return cA(this,s),i.apply(this,arguments)}return e=s,n=[{key:"getArrowAttributes",value:function(){var c=this.props,p=c.arrowInfo,v=c.style,m=p.start,x=p.end,S={start:m,end:x,offset:v.offset,verticalLength:v.verticalLength,type:"end"},D=Pi(S),I=D.leftX,H=D.leftY,ee=D.rightX,ne=D.rightY;return function(de){for(var ye=1;ye<arguments.length;ye++){var xe=arguments[ye]!=null?arguments[ye]:{};ye%2?f1(Object(xe),!0).forEach(function(Ce){uA(de,Ce,xe[Ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(de,Object.getOwnPropertyDescriptors(xe)):f1(Object(xe)).forEach(function(Ce){Object.defineProperty(de,Ce,Object.getOwnPropertyDescriptor(xe,Ce))})}return de}({d:"M".concat(I," ").concat(H," L").concat(x.x," ").concat(x.y," L").concat(ee," ").concat(ne," z")},v)}},{key:"getShape",value:function(){var c=this.getArrowAttributes(),p=c.d,v=c.strokeWidth,m=c.stroke,x=c.fill;return Object(fe.g)(dp,{d:p,fill:x,strokeWidth:v,stroke:m})}},{key:"render",value:function(){return Object(fe.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&sA(e.prototype,n),s}(fe.a),p1=function(t,e){return Ee(t,e)},hA=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},wb=function(){return pt.a.Date.now()},dA=Math.max,yA=Math.min,vA=function(t,e,n){var i,s,c,p,v,m,x=0,S=!1,D=!1,I=!0;if(typeof t!="function")throw new TypeError("Expected a function");function H(Ce){var Qe=i,Ze=s;return i=s=void 0,x=Ce,p=t.apply(Ze,Qe)}function ee(Ce){return x=Ce,v=setTimeout(de,e),S?H(Ce):p}function ne(Ce){var Qe=Ce-m;return m===void 0||Qe>=e||Qe<0||D&&Ce-x>=c}function de(){var Ce=wb();if(ne(Ce))return ye(Ce);v=setTimeout(de,function(Qe){var Ze=e-(Qe-m);return D?yA(Ze,c-(Qe-x)):Ze}(Ce))}function ye(Ce){return v=void 0,I&&i?H(Ce):(i=s=void 0,p)}function xe(){var Ce=wb(),Qe=ne(Ce);if(i=arguments,s=this,m=Ce,Qe){if(v===void 0)return ee(m);if(D)return clearTimeout(v),v=setTimeout(de,e),H(m)}return v===void 0&&(v=setTimeout(de,e)),p}return e=qi(e)||0,Bn(n)&&(S=!!n.leading,c=(D="maxWait"in n)?dA(qi(n.maxWait)||0,e):c,I="trailing"in n?!!n.trailing:I),xe.cancel=function(){v!==void 0&&clearTimeout(v),x=0,i=m=s=v=void 0},xe.flush=function(){return v===void 0?p:ye(wb())},xe},gA=o(172);function bA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Au(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h1,d1,y1,mA=function(){function t(i){(function(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Au(this,"undos",[]),Au(this,"redos",[]),Au(this,"callbacks",[]),Au(this,"stopWatch",null),Au(this,"curData",null),Au(this,"maxSize",50),Au(this,"waitTime",100),Au(this,"eventCenter",void 0),this.eventCenter=i}var e,n;return e=t,(n=[{key:"add",value:function(i){p1(hA(this.undos),i)||(this.undos.push(i),p1(this.curData,i)||(this.redos=[]),this.eventCenter.emit(ht.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var i=this.undos.pop();this.redos.push(i);var s=this.undos.pop();return this.curData=In(s),s}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var i=this.redos.pop();return this.curData=In(i),i}}},{key:"watch",value:function(i){var s=this;this.stopWatch&&this.stopWatch(),this.undos.push(i.modelToGraphData()),this.stopWatch=Object(gA.a)(i,vA(function(){var c=i.modelToHistoryData();c&&s.add(c)},this.waitTime))}}])&&bA(e.prototype,n),t}();function xb(t){return xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xb(t)}function _A(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,i){if(n){if(typeof n=="string")return v1(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return v1(n,i)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function g1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Lc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g1(Object(n),!0).forEach(function(i){Bc(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function b1(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Eb(t,e){return Eb=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Eb(t,e)}function OA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Fd(t);if(e){var s=Fd(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return wA(this,n)}}function wA(t,e){if(e&&(xb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ll(t)}function ll(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fd(t){return Fd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fd(t)}function Bc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m1,_1,O1,Sb=Ci((y1=d1=function(t){(function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),v&&Eb(p,v)})(c,t);var e,n,i,s=OA(c);function c(){var p;return function(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}(this,c),Bc(ll(p=s.call(this)),"ref",Object(fe.f)()),Bc(ll(p),"__prevText",{type:"",text:"",id:""}),Bc(ll(p),"keyupHandler",function(v){var m=p.props.graphModel.textEditElement;v.key==="Enter"&&v.altKey&&m.setElementState(0)}),Bc(ll(p),"inputHandler",function(v){var m=v.target.innerText,x=p.props.graphModel.textEditElement;p.__prevText={type:x.type,text:m.replace(/(\r\n)+$|(\n)+$/,""),id:x.id}}),Bc(ll(p),"keydownHandler",function(v){v.stopPropagation()}),p.state={style:{left:0,top:0}},p}return e=c,i=[{key:"getDerivedStateFromProps",value:function(p){var v,m=p.graphModel,x=m.transformModel,S=m.theme,D=S.inputText,I=m.textEditElement;if(I){var H;if((H=I.text)===null||H===void 0||!H.value)if(I.BaseType===Jn.EDGE){var ee=(I=I).text,ne=I.textPosition,de=ne.x,ye=ne.y;ee.x=de,ee.y=ye,I.setText(ee)}else I=I;var xe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(I.BaseType===Jn.EDGE){var Ce=S.edgeText,Qe=Ce.overflowMode,Ze=Ce.lineHeight,_t=Ce.wrapPadding,qe=Ce.textWidth;qe&&Qe==="autoWrap"&&(v=Lc(Lc({},xe),{},{width:qe,minWidth:qe,lineHeight:Ze,padding:_t}))}else if(I.BaseType===Jn.NODE){var dt=S.nodeText,rt=dt.overflowMode,tn=dt.lineHeight,an=dt.wrapPadding,It=dt.textWidth,fn=I,nr=fn.width,rr=fn.modelType,Br=fn.textWidth||It||nr;(rr!==Zt.TEXT_NODE&&rt==="autoWrap"||rr===Zt.TEXT_NODE&&It)&&(v=Lc(Lc({},xe),{},{width:Br,minWidth:Br,lineHeight:tn,padding:an}))}var Io=I.text,Lo=Io.x,pa=Io.y,zc=_A(x.CanvasPointToHtmlPoint([Lo,pa]),2);return{style:Lc(Lc({left:zc[0],top:zc[1]},v),D)}}}}],(n=[{key:"componentDidUpdate",value:function(){var p=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var v=this.__prevText,m=v.text,x=v.id;p.updateText(x,m),p.eventCenter.emit(ht.TEXT_UPDATE,Lc({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(p){if(window.getSelection!==void 0&&document.createRange!==void 0){var v=document.createRange();v.selectNodeContents(p),v.collapse(!1);var m=window.getSelection();m.removeAllRanges(),m.addRange(v)}}},{key:"render",value:function(){var p,v=this.props.graphModel.textEditElement,m=this.state.style;return v?Object(fe.g)("div",{contentEditable:!0,className:"lf-text-input",style:m,ref:this.ref,key:v.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(p=v.text)===null||p===void 0?void 0:p.value):null}}])&&b1(e.prototype,n),i&&b1(e,i),c}(fe.a),Bc(d1,"toolName","textEdit"),h1=y1))||h1,xA=function(t){return t.modelType===Zt.LINE_EDGE?function(e){var n=e.startPoint,i=e.endPoint,s=(n.x+i.x)/2,c=(n.y+i.y)/2,p=Math.abs(n.x-i.x)+10,v=Math.abs(n.y-i.y)+10;return{x:s-p/2,y:c-v/2,x1:s+p/2,y1:c+v/2}}(t):t.modelType===Zt.POLYLINE_EDGE?function(e){var n=e.points,i=na(n),s=ta(i,8),c=s.x,p=s.y,v=s.width,m=s.height;return{x:c-v/2,y:p-m/2,x1:c+v/2,y1:p+m/2}}(t):t.modelType===Zt.BEZIER_EDGE?function(e){var n=e.path,i=xr(n),s=ta(i,8),c=s.x,p=s.y,v=s.width,m=s.height;return{x:c-v/2,y:p-m/2,x1:c+v/2,y1:p+m/2}}(t):void 0};function jb(t){return jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jb(t)}function w1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],m=!0,x=!1;try{for(s=s.call(n);!(m=(c=s.next()).done)&&(v.push(c.value),!i||v.length!==i);m=!0);}catch(S){x=!0,p=S}finally{try{m||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||x1(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EA(t){return function(e){if(Array.isArray(e))return Pb(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||x1(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x1(t,e){if(t){if(typeof t=="string")return Pb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pb(t,e):void 0}}function Pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function SA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ab(t,e){return Ab=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ab(t,e)}function jA(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Wd(t);if(e){var s=Wd(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return PA(this,n)}}function PA(t,e){if(e&&(jb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fl(t)}function fl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wd(t)}function pl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Tb=Ci((O1=_1=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Ab(c,p)})(s,t);var e,n,i=jA(s);function s(c){var p;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,s),pl(fl(p=i.call(this)),"stepDrag",void 0),pl(fl(p),"handleMouseDown",function(S){p.stepDrag.handleMouseDown(S)}),pl(fl(p),"handleWheelEvent",function(S){var D,I;S.preventDefault();var H=S.deltaX,ee=S.deltaY,ne=S.clientX,de=S.clientY,ye=S.ctrlKey,xe=new WheelEvent("wheel",{deltaX:H,deltaY:ee,clientX:ne,clientY:de,ctrlKey:ye});(D=p.props.logicFlow.container)===null||D===void 0||(I=D.querySelector('.lf-canvas-overlay[name="canvas-overlay"]'))===null||I===void 0||I.dispatchEvent(xe)}),pl(fl(p),"onDragging",function(S){var D=S.deltaX,I=S.deltaY,H=p.props.graphModel,ee=H.getSelectElements(!0);H.moveNodes(ee.nodes.map(function(ne){return ne.id}),D,I)}),pl(fl(p),"handleContextMenu",function(S){S.preventDefault();var D=p.props,I=D.graphModel,H=D.graphModel,ee=H.eventCenter,ne=H.selectElements,de=I.getPointByClient({x:S.clientX,y:S.clientY}),ye={nodes:[],edges:[]};EA(ne.values()).forEach(function(xe){xe.BaseType===Jn.NODE&&ye.nodes.push(xe.getData()),xe.BaseType===Jn.EDGE&&ye.edges.push(xe.getData())}),ee.emit(ht.SELECTION_CONTEXTMENU,{data:ye,e:S,position:de})});var v=c.graphModel,m=v.gridSize,x=v.eventCenter;return p.stepDrag=new ei({onDragging:p.onDragging,step:m,eventType:"SELECTION",eventCenter:x}),p}return e=s,(n=[{key:"render",value:function(){var c=this.props.graphModel,p=c.selectElements,v=c.transformModel;if(!(p.size<=1)){var m=Number.MAX_SAFE_INTEGER,x=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER,D=Number.MIN_SAFE_INTEGER;p.forEach(function(ne){var de={x:0,y:0,x1:0,y1:0};ne.BaseType===Jn.NODE&&(de=function(ye){var xe=ye.x,Ce=ye.y,Qe=ye.width,Ze=ye.height;return{x:xe-Qe/2,y:Ce-Ze/2,x1:xe+Qe/2,y1:Ce+Ze/2}}(ne)),ne.BaseType===Jn.EDGE&&(de=xA(ne)),m=Math.min(m,de.x),x=Math.min(x,de.y),S=Math.max(S,de.x1),D=Math.max(D,de.y1)});var I=w1(v.CanvasPointToHtmlPoint([m,x]),2);m=I[0],x=I[1];var H=w1(v.CanvasPointToHtmlPoint([S,D]),2);S=H[0],D=H[1];var ee={left:"".concat(m-10,"px"),top:"".concat(x-10,"px"),width:"".concat(S-m+20,"px"),height:"".concat(D-x+20,"px")};return Object(fe.g)("div",{className:"lf-multiple-select",style:ee,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,onWheel:this.handleWheelEvent})}}}])&&SA(e.prototype,n),s}(fe.a),pl(_1,"toolName","multipleSelect"),m1=O1))||m1;function AA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Gd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var TA=function(){function t(i){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),Gd(this,"tools",void 0),Gd(this,"components",void 0),Gd(this,"toolMap",new Map),Gd(this,"instance",void 0),this.instance=i,this.isDisabledTool(Sb.toolName)||this.registerTool(Sb.toolName,Sb),this.isDisabledTool(Tb.toolName)||this.registerTool(Tb.toolName,Tb);var s=i.graphModel;s.eventCenter.on("".concat(ht.GRAPH_TRANSFORM,",").concat(ht.NODE_CLICK,",").concat(ht.BLANK_CLICK," "),function(){var c=s.textEditElement,p=s.editConfigModel,v=p.edgeTextEdit,m=p.nodeTextEdit;(v||m)&&c&&s.textEditElement.setElementState(vn.DEFAULT)})}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(i){return this.instance.options.disabledTools.indexOf(i)!==-1}},{key:"registerTool",value:function(i,s){this.toolMap.set(i,s)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&AA(e.prototype,n),t}(),MA=o(173),kA=o.n(MA);function DA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Mb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E1=function(){function t(i){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),Mb(this,"mousetrap",void 0),Mb(this,"options",void 0),Mb(this,"target",void 0),i.keyboard||(i.keyboard={enabled:!1}),this.options=i;var s=i.lf;this.target=s.container,this.mousetrap=new kA.a(this.target),i.keyboard.enabled&&!s.options.isSilentMode&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var i=this,s=this.options.keyboard.shortcuts;if(s)if(Sn(s))s.forEach(function(m){var x=m.keys,S=m.callback,D=m.action;return i.on(x,S,D)});else{var c=s.keys,p=s.callback,v=s.action;this.on(c,p,v)}}},{key:"on",value:function(i,s,c){this.mousetrap.bind(this.getKeys(i),s,c)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(i,s){this.mousetrap.unbind(this.getKeys(i),s)}},{key:"enable",value:function(i){(this.disabled||i)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(i){var s=this;return(Array.isArray(i)?i:[i]).map(function(c){return s.formatKey(c)})}},{key:"formatKey",value:function(i){return i.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&DA(e.prototype,n),t}(),NA=E1,Ga=null;function S1(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function j1(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}var hl=40,kb=40;function Db(t){return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Db(t)}function P1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function yp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P1(Object(n),!0).forEach(function(i){qn(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function A1(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function qn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nb=Symbol("plugin register by Logicflow.use"),Rb=function(){function t(s){var c,p,v=this;(function(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")})(this,t),qn(this,"container",void 0),qn(this,"width",void 0),qn(this,"height",void 0),qn(this,"graphModel",void 0),qn(this,"history",void 0),qn(this,"viewMap",new Map),qn(this,"tool",void 0),qn(this,"keyboard",void 0),qn(this,"dnd",void 0),qn(this,"options",void 0),qn(this,"snaplineModel",void 0),qn(this,"components",[]),qn(this,"plugins",void 0),qn(this,"extension",{}),qn(this,"adapterIn",void 0),qn(this,"adapterOut",void 0),qn(this,"getView",function(m){return v.viewMap.get(m)}),s=E0(s),this.options=s,this.container=this.initContainer(s.container),this.plugins=s.plugins,this.graphModel=new $E(yp({},s)),this.tool=new TA(this),this.history=new mA(this.graphModel.eventCenter),this.dnd=new IS({lf:this}),this.keyboard=new NA({lf:this,keyboard:s.keyboard}),s.snapline!==!1&&(this.snaplineModel=new B_(this.graphModel),c=this.graphModel.eventCenter,p=this.snaplineModel,c.on("node:mousemove",function(m){var x=m.data;p.setNodeSnapLine(x)}),c.on("node:mouseup",function(){p.clearSnapline()})),function(m,x){var S=m.keyboard,D=S.options.keyboard;S.on(["cmd + c","ctrl + c"],function(){if(kb=hl,!D.enabled||x.textEditElement)return!0;var I=m.options.guards,H=x.getSelectElements(!1);return I&&I.beforeClone&&!I.beforeClone(H)||H.nodes.length===0&&H.edges.length===0?(Ga=null,!0):((Ga=H).nodes.forEach(function(ee){return S1(ee,hl)}),Ga.edges.forEach(function(ee){return j1(ee,hl)}),!1)}),S.on(["cmd + v","ctrl + v"],function(){if(!D.enabled||x.textEditElement)return!0;if(Ga&&(Ga.nodes||Ga.edges)){m.clearSelectElements();var I=m.addElements(Ga,kb);if(!I)return!0;I.nodes.forEach(function(H){return m.selectElementById(H.id,!0)}),I.edges.forEach(function(H){return m.selectElementById(H.id,!0)}),Ga.nodes.forEach(function(H){return S1(H,hl)}),Ga.edges.forEach(function(H){return j1(H,hl)}),kb+=hl}return!1}),S.on(["cmd + z","ctrl + z"],function(){return!D.enabled||!!x.textEditElement||(m.undo(),!1)}),S.on(["cmd + y","ctrl + y"],function(){return!D.enabled||!!x.textEditElement||(m.redo(),!1)}),S.on(["backspace"],function(){if(!D.enabled||x.textEditElement)return!0;var I=x.getSelectElements(!0);return m.clearSelectElements(),I.edges.forEach(function(H){return m.deleteEdge(H.id)}),I.nodes.forEach(function(H){return m.deleteNode(H.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(s.disabledPlugins)}var e,n,i;return e=t,n=[{key:"register",value:function(s,c){var p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof s=="string"){var v={BaseEdge:hp,BaseEdgeModel:kf,BaseNode:za,BaseNodeModel:Ba,RectNode:Sg,RectNodeModel:ng,CircleNode:Tg,CircleNodeModel:Lv,PolygonNode:Rg,PolygonNodeModel:Jv,TextNode:Xg,TextNodeModel:ag,LineEdge:lb,LineEdgeModel:Is,DiamondNode:Bg,DiamondNodeModel:Wv,PolylineEdge:yb,PolylineEdgeModel:wc,BezierEdge:mb,BezierEdgeModel:kv,EllipseNode:Gg,EllipseNodeModel:Xv,HtmlNode:qg,HtmlNodeModel:sg,h:fe.g,type:s};this.viewMap.forEach(function(I){var H=I.extendKey;H&&(v[H]=I)}),this.graphModel.modelMap.forEach(function(I){var H=I.extendKey;H&&(v[H]=I)});var m=c(v),x=m.view,S=m.model,D=x;p&&!D.isObervered&&(D.isObervered=!0,D=lt(D)),this.setView(s,D),this.graphModel.setModel(s,S)}else this.registerElement(s)}},{key:"registerElement",value:function(s){var c=s.view;s.isObserverView===!1||c.isObervered||(c.isObervered=!0,c=lt(c)),this.setView(s.type,c),this.graphModel.setModel(s.type,s.model)}},{key:"batchRegister",value:function(){var s=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];c.forEach(function(p){s.registerElement(p)})}},{key:"defaultRegister",value:function(){this.registerElement({view:Sg,model:ng,type:"rect"}),this.registerElement({type:"circle",view:Tg,model:Lv}),this.registerElement({type:"polygon",view:Rg,model:Jv}),this.registerElement({type:"line",view:lb,model:Is}),this.registerElement({type:"polyline",view:yb,model:wc}),this.registerElement({type:"bezier",view:mb,model:kv}),this.registerElement({type:"text",view:Xg,model:ag}),this.registerElement({type:"ellipse",view:Gg,model:Xv}),this.registerElement({type:"diamond",view:Bg,model:Wv}),this.registerElement({type:"html",view:qg,model:sg})}},{key:"selectElementById",value:function(s){var c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(s,c),!c&&p&&this.graphModel.toFront(s)}},{key:"focusOn",value:function(s){var c=this.graphModel.transformModel,p=s.coordinate,v=s.id;if(!p){var m=this.getNodeModelById(v);m&&(p=m.getData());var x=this.getEdgeModelById(v);x&&(p=x.textPosition)}var S=p,D=S.x,I=S.y;c.focusOn(D,I,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(s){this.graphModel.setTheme(s)}},{key:"resize",value:function(s,c){this.graphModel.resize(s,c),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(s){this.graphModel.setDefaultEdgeType(s)}},{key:"updateText",value:function(s,c){this.graphModel.updateText(s,c)}},{key:"deleteElement",value:function(s){var c,p,v,m=this.getModelById(s);return!!m&&(p=(v=(qn(c={},Jn.NODE,this.deleteNode),qn(c,Jn.EDGE,this.deleteEdge),c)[m.BaseType])===null||v===void 0?void 0:v.call(this,s))!==null&&p!==void 0&&p}},{key:"getModelById",value:function(s){return this.graphModel.getElement(s)}},{key:"getDataById",value:function(s){var c;return(c=this.graphModel.getElement(s))===null||c===void 0?void 0:c.getData()}},{key:"changeNodeType",value:function(s,c){this.graphModel.changeNodeType(s,c)}},{key:"changeEdgeType",value:function(s,c){this.graphModel.changeEdgeType(s,c)}},{key:"getNodeEdges",value:function(s){return this.graphModel.getNodeEdges(s)}},{key:"addNode",value:function(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ht.NODE_ADD,p=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(s,c,p)}},{key:"deleteNode",value:function(s){var c=this.graphModel.getNodeModelById(s);if(!c)return!1;var p=c.getData(),v=this.options.guards,m=!v||!v.beforeDelete||v.beforeDelete(p);return m&&this.graphModel.deleteNode(s),m}},{key:"cloneNode",value:function(s){var c=this.graphModel.getNodeModelById(s).getData(),p=this.options.guards;if(!p||!p.beforeClone||p.beforeClone(c))return this.graphModel.cloneNode(s)}},{key:"changeNodeId",value:function(s,c){return this.graphModel.changeNodeId(s,c)}},{key:"getNodeModelById",value:function(s){return this.graphModel.getNodeModelById(s)}},{key:"getNodeDataById",value:function(s){var c;return(c=this.graphModel.getNodeModelById(s))===null||c===void 0?void 0:c.getData()}},{key:"addEdge",value:function(s){return this.graphModel.addEdge(s)}},{key:"deleteEdge",value:function(s){var c=this.options.guards,p=this.graphModel.edgesMap[s];if(!p)return!1;var v=p.model.getData(),m=!c||!c.beforeDelete||c.beforeDelete(v);return m&&this.graphModel.deleteEdgeById(s),m}},{key:"deleteEdgeByNodeId",value:function(s){var c=s.sourceNodeId,p=s.targetNodeId;c&&p?this.graphModel.deleteEdgeBySourceAndTarget(c,p):c?this.graphModel.deleteEdgeBySource(c):p&&this.graphModel.deleteEdgeByTarget(p)}},{key:"changeEdgeId",value:function(s,c){return this.graphModel.changeEdgeId(s,c)}},{key:"getEdgeModelById",value:function(s){var c;return(c=this.graphModel.edgesMap[s])===null||c===void 0?void 0:c.model}},{key:"getEdgeModels",value:function(s){var c=this.graphModel.edges,p=s.sourceNodeId,v=s.targetNodeId;if(p&&v){var m=[];return c.forEach(function(D){D.sourceNodeId===p&&D.targetNodeId===v&&m.push(D)}),m}if(p){var x=[];return c.forEach(function(D){D.sourceNodeId===p&&x.push(D)}),x}if(v){var S=[];return c.forEach(function(D){D.targetNodeId===v&&S.push(D)}),S}return[]}},{key:"getEdgeDataById",value:function(s){var c;return(c=this.getEdgeModelById(s))===null||c===void 0?void 0:c.getData()}},{key:"getNodeIncomingEdge",value:function(s){return this.graphModel.getNodeIncomingEdge(s)}},{key:"getNodeOutgoingEdge",value:function(s){return this.graphModel.getNodeOutgoingEdge(s)}},{key:"getNodeIncomingNode",value:function(s){return this.graphModel.getNodeIncomingNode(s)}},{key:"getNodeOutgoingNode",value:function(s){return this.graphModel.getNodeOutgoingNode(s)}},{key:"editText",value:function(s){this.graphModel.editText(s)}},{key:"setProperties",value:function(s,c){var p;(p=this.graphModel.getElement(s))===null||p===void 0||p.setProperties(_r(c))}},{key:"deleteProperty",value:function(s,c){var p;(p=this.graphModel.getElement(s))===null||p===void 0||p.deleteProperty(c)}},{key:"getProperties",value:function(s){var c;return(c=this.graphModel.getElement(s))===null||c===void 0?void 0:c.getProperties()}},{key:"toFront",value:function(s){this.graphModel.toFront(s)}},{key:"setElementZIndex",value:function(s,c){return this.graphModel.setElementZIndex(s,c)}},{key:"addElements",value:function(s){for(var c=this,p=s.nodes,v=s.edges,m={},x={nodes:[],edges:[]},S=0;S<p.length;S++){var D=p[S],I=D.id,H=this.addNode(D);if(!H)return;I&&(m[I]=H.id),x.nodes.push(H)}return v.forEach(function(ee){var ne=ee.sourceNodeId,de=ee.targetNodeId;m[ne]&&(ne=m[ne]),m[de]&&(de=m[de]);var ye=c.graphModel.addEdge(yp(yp({},ee),{},{sourceNodeId:ne,targetNodeId:de}));x.edges.push(ye)}),x}},{key:"getAreaElement",value:function(s,c){var p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],v=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],m=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(s,c,p,v,m).map(function(x){return x.getData()})}},{key:"getSelectElements",value:function(){var s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(s)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var s=this.graphModel.modelToGraphData();if(this.adapterOut){for(var c=arguments.length,p=new Array(c),v=0;v<c;v++)p[v]=arguments[v];return this.adapterOut.apply(this,[s].concat(p))}return s}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(s){var c=this.graphModel,p=c.editConfigModel,v=c.transformModel;p.updateEditConfig(s),(s==null?void 0:s.stopMoveGraph)!==void 0&&v.updateTranslateLimits(s.stopMoveGraph),s!=null&&s.isSilentMode?this.keyboard.disable():this.keyboard.enable(!0)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(s,c){return this.graphModel.getPointByClient({x:s,y:c})}},{key:"undo",value:function(){if(this.history.undoAble()){var s=_r(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(s)}}},{key:"redo",value:function(){if(this.history.redoAble()){var s=_r(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(s)}}},{key:"zoom",value:function(s,c){return this.graphModel.transformModel.zoom(s,c)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(s){this.graphModel.transformModel.setZoomMiniSize(s)}},{key:"setZoomMaxSize",value:function(s){this.graphModel.transformModel.setZoomMaxSize(s)}},{key:"getTransform",value:function(){var s=this.graphModel.transformModel;return{SCALE_X:s.SCALE_X,SCALE_Y:s.SCALE_Y,TRANSLATE_X:s.TRANSLATE_X,TRANSLATE_Y:s.TRANSLATE_Y}}},{key:"translate",value:function(s,c){this.graphModel.transformModel.translate(s,c)}},{key:"resetTranslate",value:function(){var s=this.graphModel.transformModel,c=s.TRANSLATE_X,p=s.TRANSLATE_Y;this.translate(-c,-p)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(s,c){c===void 0&&(c=s),this.graphModel.fitView(s,c)}},{key:"openEdgeAnimation",value:function(s){this.graphModel.openEdgeAnimation(s)}},{key:"closeEdgeAnimation",value:function(s){this.graphModel.closeEdgeAnimation(s)}},{key:"on",value:function(s,c){this.graphModel.eventCenter.on(s,c)}},{key:"off",value:function(s,c){this.graphModel.eventCenter.off(s,c)}},{key:"once",value:function(s,c){this.graphModel.eventCenter.once(s,c)}},{key:"emit",value:function(s,c){this.graphModel.eventCenter.emit(s,c)}},{key:"initContainer",value:function(s){var c=document.createElement("div");return c.style.position="relative",c.style.width="100%",c.style.height="100%",s.innerHTML="",s.appendChild(c),c}},{key:"installPlugins",value:function(){var s,c=this,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],v=(s=this.plugins)!==null&&s!==void 0?s:t.extensions;v.forEach(function(m){var x=null,S=null;m[Nb]?(x=m.extension,S=m.props):x=m;var D=x.pluginName||x.name;p.indexOf(D)===-1&&c.installPlugin(x,S)})}},{key:"installPlugin",value:function(s,c){if(Db(s)==="object"){var p=s.install,v=s.render;return p&&p.call(s,this,t),v&&this.components.push(v.bind(s)),void(this.extension[s.pluginName]=s)}var m=s,x=new m({lf:this,LogicFlow:t,options:this.options.pluginsOptions,props:c});x.render&&this.components.push(x.render.bind(x)),this.extension[m.pluginName]=x}},{key:"updateAttributes",value:function(s,c){this.graphModel.updateAttributes(s,c)}},{key:"createFakerNode",value:function(s){var c=this.graphModel.modelMap.get(s.type);if(c){var p=new c(yp(yp({},s),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(p),p}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(s){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(s)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(s,c){this.viewMap.set(s,c)}},{key:"renderRawData",value:function(s){this.graphModel.graphDataToModel(_r(s)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(fe.j)(Object(fe.g)(RS,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(ht.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(s=this.adapterIn(s)),this.renderRawData(s)}}],i=[{key:"use",value:function(s,c){var p,v,m=s.pluginName;m||(m=s.name);var x=(p=this.extensions.get(m))===null||p===void 0?void 0:p.extension;x&&x.destroy&&x.destroy(),this.extensions.set(m,(qn(v={},Nb,Nb),qn(v,"extension",s),qn(v,"props",c),v))}}],n&&A1(e.prototype,n),i&&A1(e,i),t}();function Ci(t){return lt(t)}qn(Rb,"extensions",new Map),l.default=Rb}])})})(Kb,Kb.exports);var it=Kb.exports;const yO=uT(it);var r5=function(){function r(){globalThis._ids=this,this._ids=new Set}return r.prototype.generateId=function(){var a="xxxxxxx".replace(/[x]/g,function(u){var l=Math.random()*16|0,o=u==="x"?l:l&3|8;return o.toString(16)});return a},r.prototype.next=function(){for(var a=this.generateId();this._ids.has(a);)a=this.generateId();return this._ids.add(a),a},r}(),o5=(globalThis==null?void 0:globalThis._ids)||new r5;function Nl(){return o5.next()}var fE=globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();(function(r){fE(a,r);function a(u,l){var o=this;return u.id||(u.id="Event_"+Nl()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),o=r.call(this,u,l)||this,o}return a.prototype.setAttributes=function(){this.r=18},a.prototype.getConnectedTargetRules=function(){var u=r.prototype.getConnectedTargetRules.call(this),l={message:"起始节点不能作为边的终点",validate:function(){return!1}};return u.push(l),u},a.extendKey="StartEventModel",a})(it.CircleNodeModel);(function(r){fE(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.extendKey="StartEventNode",a})(it.CircleNode);var pE=globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),ry=globalThis&&globalThis.__assign||function(){return ry=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},ry.apply(this,arguments)};(function(r){pE(a,r);function a(u,l){var o=this;return u.id||(u.id="Event_"+Nl()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),o=r.call(this,u,l)||this,o}return a.prototype.setAttributes=function(){this.r=18},a.prototype.getConnectedSourceRules=function(){var u=r.prototype.getConnectedSourceRules.call(this),l={message:"结束节点不能作为边的起点",validate:function(){return!1}};return u.push(l),u},a.extendKey="EndEventModel",a})(it.CircleNodeModel);(function(r){pE(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},a.prototype.getShape=function(){var u=this.props.model,l=u.getNodeStyle(),o=u.x,h=u.y,d=u.r,b=r.prototype.getShape.call(this);return it.h("g",{},b,it.h("circle",ry(ry({},l),{cx:o,cy:h,r:d-5})))},a.extendKey="EndEventView",a})(it.CircleNode);var hE=globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),_p=globalThis&&globalThis.__assign||function(){return _p=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},_p.apply(this,arguments)};(function(r){hE(a,r);function a(u,l){var o=this;return u.id||(u.id="Gateway_"+Nl()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),o=r.call(this,u,l)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return a.extendKey="ExclusiveGatewayModel",a})(it.PolygonNodeModel);(function(r){hE(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.getShape=function(){var u=this.props.model,l=u.x,o=u.y,h=u.width,d=u.height,b=u.points,g=u.getNodeStyle();return it.h("g",{transform:"matrix(1 0 0 1 "+(l-h/2)+" "+(o-d/2)+")"},it.h("polygon",_p(_p({},g),{x:l,y:o,points:b})),it.h("path",_p({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},g)))},a.extendKey="ExclusiveGatewayNode",a})(it.PolygonNode);var dE=globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),oy=globalThis&&globalThis.__assign||function(){return oy=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},oy.apply(this,arguments)};(function(r){dE(a,r);function a(u,l){var o=this;return u.id||(u.id="Activity_"+Nl()),o=r.call(this,u,l)||this,o}return a.extendKey="UserTaskModel",a})(it.RectNodeModel);(function(r){dE(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.getLabelShape=function(){var u=this.props.model,l=u.x,o=u.y,h=u.width,d=u.height,b=u.getNodeStyle();return it.h("svg",{x:l-h/2+5,y:o-d/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},it.h("path",{fill:b.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},a.prototype.getShape=function(){var u=this.props.model,l=u.x,o=u.y,h=u.width,d=u.height,b=u.radius,g=u.getNodeStyle();return it.h("g",{},[it.h("rect",oy(oy({},g),{x:l-h/2,y:o-d/2,rx:b,ry:b,width:h,height:d})),this.getLabelShape()])},a.extendKey="UserTaskNode",a})(it.RectNode);var yE=globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),qb=globalThis&&globalThis.__assign||function(){return qb=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},qb.apply(this,arguments)};(function(r){yE(a,r);function a(u,l){var o=this;return u.id||(u.id="Activity_"+Nl()),o=r.call(this,u,l)||this,o}return a.extendKey="ServiceTaskModel",a})(it.RectNodeModel);(function(r){yE(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.getLabelShape=function(){var u=this.props.model,l=u.x,o=u.y,h=u.width,d=u.height,b=u.getNodeStyle();return it.h("svg",{x:l-h/2+5,y:o-d/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},it.h("path",{fill:b.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},a.prototype.getShape=function(){var u=this.props.model,l=u.x,o=u.y,h=u.width,d=u.height,b=u.radius,g=u.getNodeStyle();return it.h("g",{},[it.h("rect",qb({x:l-h/2,y:o-d/2,rx:b,ry:b,width:h,height:d},g)),this.getLabelShape()])},a.extendKey="ServiceTaskNode",a})(it.RectNode);var vE=globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();(function(r){vE(a,r);function a(u,l){var o=this;return u.id||(u.id="Flow_"+Nl()),o=r.call(this,u,l)||this,o}return a.extendKey="SequenceFlowModel",a})(it.PolylineEdgeModel);(function(r){vE(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.extendKey="SequenceFlowEdge",a})(it.PolylineEdge);var vO={width:40,height:40},gO={width:40,height:40},bO={width:40,height:40},mO={width:100,height:80},_O={width:100,height:80},i5=function(){function r(){globalThis._ids=this,this._ids=new Set}return r.prototype.generateId=function(){var a="xxxxxxx".replace(/[x]/g,function(u){var l=Math.random()*16|0,o=u==="x"?l:l&3|8;return o.toString(16)});return a},r.prototype.next=function(){for(var a=this.generateId();this._ids.has(a);)a=this.generateId();return this._ids.add(a),a},r}(),a5=(globalThis==null?void 0:globalThis._ids)||new i5;function OO(){return a5.next()}function gE(r){return Object.prototype.toString.call(r)}function u5(r){return"  ".repeat(r)}function iy(r){var a=r;return gE(r)==="[object Object]"?(a={},Object.keys(r).forEach(function(u){var l=u;u.charAt(0)==="-"&&(l=u.substring(1)),a[l]=iy(r[u])})):Array.isArray(r)&&(a=[],r.forEach(function(u,l){a[l]=iy(u)})),a}function c5(r){var a=r;try{typeof a!="string"&&(a=JSON.parse(r))}catch(u){a=JSON.stringify(iy(r)).replace(/"/g,"'")}return a}var dl="	\n";function qd(r,a,u){var l=u5(u),o="";if(a==="#text")return dl+l+r;if(a==="#cdata-section")return dl+l+"<![CDATA["+r+"]]>";if(a==="#comment")return dl+l+"<!--"+r+"-->";if((""+a).charAt(0)==="-")return" "+a.substring(1)+'="'+c5(r)+'"';if(Array.isArray(r))r.forEach(function(g){o+=qd(g,a,u+1)});else if(gE(r)==="[object Object]"){var h=Object.keys(r),d="",b="";o+=(u===0?"":dl+l)+"<"+a,h.forEach(function(g){g.charAt(0)==="-"?d+=qd(r[g],g,u+1):b+=qd(r[g],g,u+1)}),o+=d+(b!==""?">"+b+(dl+l)+"</"+a+">":" />")}else o+=dl+l+("<"+a+">"+r.toString()+"</"+a+">");return o}function s5(r){var a="";for(var u in r)a+=qd(r[u],u,0);return a}var so=function(){};so.ObjTree=function(){return this};so.ObjTree.VERSION="0.23";so.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n';so.ObjTree.prototype.attr_prefix="-";so.ObjTree.prototype.parseXML=function(r){var a;if(window.DOMParser){var u=new DOMParser,l=u.parseFromString(r,"application/xml");if(!l)return;a=l.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(r),a=u.documentElement);if(a)return this.parseDOM(a)};so.ObjTree.prototype.parseHTTP=function(r,a,u){var l={};for(var o in a)l[o]=a[o];if(l.method||(typeof l.postBody>"u"&&typeof l.postbody>"u"&&typeof l.parameters>"u"?l.method="get":l.method="post"),u){l.asynchronous=!0;var h=this,d=u,b=l.onComplete;l.onComplete=function(j){var P;j&&j.responseXML&&j.responseXML.documentElement&&(P=h.parseDOM(j.responseXML.documentElement)),d(P,j),b&&b(j)}}else l.asynchronous=!1;var g;if(typeof HTTP<"u"&&HTTP.Request){l.uri=r;var E=new HTTP.Request(l);E&&(g=E.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var E=new Ajax.Request(r,l);E&&(g=E.transport)}if(u)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};so.ObjTree.prototype.parseDOM=function(r){if(r){if(this.__force_array={},this.force_array)for(var a=0;a<this.force_array.length;a++)this.__force_array[this.force_array[a]]=1;var u=this.parseElement(r);if(this.__force_array[r.nodeName]&&(u=[u]),r.nodeType!=11){var l={};l[r.nodeName]=u,u=l}return u}};so.ObjTree.prototype.parseElement=function(r){if(r.nodeType!=7){if(r.nodeType==3||r.nodeType==4||r.nodeType==8){var a=r.nodeValue.match(/[^\x00-\x20]/);return a==null?void 0:r.nodeValue}var u=null,l={};if(r.attributes&&r.attributes.length){u={};for(var o=0;o<r.attributes.length;o++){var h=r.attributes[o].nodeName;if(typeof h=="string"){var d=r.attributes[o].nodeValue;try{d=JSON.parse(r.attributes[o].nodeValue.replace(/'/g,'"'))}catch(E){d=r.attributes[o].nodeValue}d&&(h=this.attr_prefix+h,typeof l[h]>"u"&&(l[h]=0),l[h]++,this.addNode(u,h,l[h],d))}}}if(r.childNodes&&r.childNodes.length){var b=!0;u&&(b=!1);for(var o=0;o<r.childNodes.length&&b;o++){var g=r.childNodes[o].nodeType;g==3||g==4||g==8||(b=!1)}if(b){u||(u="");for(var o=0;o<r.childNodes.length;o++)u+=r.childNodes[o].nodeValue}else{u||(u={});for(var o=0;o<r.childNodes.length;o++){var h=r.childNodes[o].nodeName;if(typeof h=="string"){var d=this.parseElement(r.childNodes[o]);d&&(typeof l[h]>"u"&&(l[h]=0),l[h]++,this.addNode(u,h,l[h],d))}}}}else u===null&&(u={});return u}};so.ObjTree.prototype.addNode=function(r,a,u,l){this.__force_array[a]?(u==1&&(r[a]=[]),r[a][r[a].length]=l):u==1?r[a]=l:u==2?r[a]=[r[a],l]:r[a][r[a].length]=l};so.ObjTree.prototype.writeXML=function(r){var a=this.hash_to_xml(null,r);return this.xmlDecl+a};so.ObjTree.prototype.hash_to_xml=function(r,a){var u=[],l=[];for(var o in a)if(a.hasOwnProperty(o)){var h=a[o];o.charAt(0)!=this.attr_prefix?typeof h>"u"||h==null?u[u.length]="<"+o+" />":typeof h=="object"&&h.constructor==Array?u[u.length]=this.array_to_xml(o,h):typeof h=="object"?u[u.length]=this.hash_to_xml(o,h):u[u.length]=this.scalar_to_xml(o,h):l[l.length]=" "+o.substring(1)+'="'+this.xml_escape(h)+'"'}var d=l.join(""),b=u.join("");return typeof r>"u"||r==null||(u.length>0?b.match(/\n/)?b="<"+r+d+">\n"+b+"</"+r+">\n":b="<"+r+d+">"+b+"</"+r+">\n":b="<"+r+d+" />\n"),b};so.ObjTree.prototype.array_to_xml=function(r,a){for(var u=[],l=0;l<a.length;l++){var o=a[l];typeof o>"u"||o==null?u[u.length]="<"+r+" />":typeof o=="object"&&o.constructor==Array?u[u.length]=this.array_to_xml(r,o):typeof o=="object"?u[u.length]=this.hash_to_xml(r,o):u[u.length]=this.scalar_to_xml(r,o)}return u.join("")};so.ObjTree.prototype.scalar_to_xml=function(r,a){return r=="#text"?this.xml_escape(a):"<"+r+">"+this.xml_escape(a)+"</"+r+">\n"};so.ObjTree.prototype.xml_escape=function(r){return r.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var l5=function(r){return new so.ObjTree().parseXML(r)},f5=globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Zb=globalThis&&globalThis.__assign||function(){return Zb=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Zb.apply(this,arguments)},Dy=globalThis&&globalThis.__read||function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,h=[],d;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)h.push(o.value)}catch(b){d={error:b}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(d)throw d.error}}return h},va;(function(r){r.START="bpmn:startEvent",r.END="bpmn:endEvent",r.GATEWAY="bpmn:exclusiveGateway",r.USER="bpmn:userTask",r.SYSTEM="bpmn:serviceTask",r.FLOW="bpmn:sequenceFlow"})(va||(va={}));var bE=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],wO=["properties","startPoint","endPoint","pointsList"];function xO(r){var a=r?wO.concat(r):wO;return function(u){function l(o){var h={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(d){return l(d)}):(Object.entries(o).forEach(function(d){var b=Dy(d,2),g=b[0],E=b[1];typeof E!="object"?g.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(g)?h[g]=E:h["-"+g]=E:a.includes(g)?h["-"+g]=l(E):h[g]=l(E)}),h)}return l(u)}}function ay(r){var a={};return Object.entries(r).forEach(function(u){var l=Dy(u,2),o=l[0],h=l[1];o.indexOf("-")===0?a[o.substring(1)]=iy(h):typeof h=="string"?a[o]=h:Object.prototype.toString.call(h)==="[object Object]"?a[o]=ay(h):Array.isArray(h)?a[o]=h.map(function(d){return ay(d)}):a[o]=h}),a}function p5(r,a,u){var l=new Map;a.nodes.forEach(function(h){var d,b={"-id":h.id};if(!((d=h.text)===null||d===void 0)&&d.value&&(b["-name"]=h.text.value),h.properties){var g=xO(u)(h.properties);Object.assign(b,g)}l.set(h.id,b),r[h.type]?Array.isArray(r[h.type])?r[h.type].push(b):r[h.type]=[r[h.type],b]:r[h.type]=b});var o=a.edges.map(function(h){var d,b,g=l.get(h.targetNodeId);g["bpmn:incoming"]?Array.isArray(g["bpmn:incoming"])?g["bpmn:incoming"].push(h.id):g["bpmn:incoming"]=[g["bpmn:incoming"],h.id]:g["bpmn:incoming"]=h.id;var E={"-id":h.id,"-sourceRef":h.sourceNodeId,"-targetRef":h.targetNodeId};if(!((d=h.text)===null||d===void 0)&&d.value&&(E["-name"]=(b=h.text)===null||b===void 0?void 0:b.value),h.properties){var j=xO(u)(h.properties);Object.assign(E,j)}return E});a.edges.forEach(function(h){var d=l.get(h.sourceNodeId);d["bpmn:outgoing"]?Array.isArray(d["bpmn:outgoing"])?d["bpmn:outgoing"].push(h.id):d["bpmn:outgoing"]=[d["bpmn:outgoing"],h.id]:d["bpmn:outgoing"]=h.id}),r[va.FLOW]=o}function h5(r,a){r["bpmndi:BPMNEdge"]=a.edges.map(function(u){var l,o=u.id,h=u.pointsList.map(function(b){var g=b.x,E=b.y;return{"-x":g,"-y":E}}),d={"-id":o+"_di","-bpmnElement":o,"di:waypoint":h};return!((l=u.text)===null||l===void 0)&&l.value&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),d}),r["bpmndi:BPMNShape"]=a.nodes.map(function(u){var l,o=u.id,h=100,d=80,b=u.x,g=u.y,E=Bu.shapeConfigMap.get(u.type);E&&(h=E.width,d=E.height),b-=h/2,g-=d/2;var j={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":b,"-y":g,"-width":h,"-height":d}};return!((l=u.text)===null||l===void 0)&&l.value&&(j["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),j})}function d5(r){var a=[],u=[],l=r["bpmn:definitions"];if(l){var o=l["bpmn:process"];Object.keys(o).forEach(function(h){if(h.indexOf("bpmn:")===0){var d=o[h];if(h===va.FLOW){var b=l["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];u=v5(d,b)}else{var g=l["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];a=a.concat(y5(d,g,h))}}})}return{nodes:a,edges:u}}function y5(r,a,u){var l=[];if(Array.isArray(r))r.forEach(function(d){var b;Array.isArray(a)?b=a.find(function(E){return E["-bpmnElement"]===d["-id"]}):b=a;var g=EO(b,u,d);l.push(g)});else{var o=void 0;Array.isArray(a)?o=a.find(function(d){return d["-bpmnElement"]===r["-id"]}):o=a;var h=EO(o,u,r);l.push(h)}return l}function EO(r,a,u){var l=Number(r["dc:Bounds"]["-x"]),o=Number(r["dc:Bounds"]["-y"]),h=u["-name"],d=Bu.shapeConfigMap.get(a);d&&(l+=d.width/2,o+=d.height/2);var b;Object.entries(u).forEach(function(P){var k=Dy(P,2),M=k[0],C=k[1];bE.indexOf(M)===-1&&(b||(b={}),b[M]=C)}),b&&(b=ay(b));var g;if(h&&(g={x:l,y:o,value:h},r["bpmndi:BPMNLabel"]&&r["bpmndi:BPMNLabel"]["dc:Bounds"])){var E=r["bpmndi:BPMNLabel"]["dc:Bounds"];g.x=Number(E["-x"])+Number(E["-width"])/2,g.y=Number(E["-y"])+Number(E["-height"])/2}var j={id:r["-bpmnElement"],type:a,x:l,y:o,properties:b};return g&&(j.text=g),j}function v5(r,a){var u=[];if(Array.isArray(r))r.forEach(function(o){var h;Array.isArray(a)?h=a.find(function(d){return d["-bpmnElement"]===o["-id"]}):h=a,u.push(SO(h,o))});else{var l=void 0;Array.isArray(a)?l=a.find(function(o){return o["-bpmnElement"]===r["-id"]}):l=a,u.push(SO(l,r))}return u}function SO(r,a){var u,l=a["-name"];if(l){var o=r["bpmndi:BPMNLabel"]["dc:Bounds"],h=0;l.split("\n").forEach(function(g){h<g.length&&(h=g.length)}),u={value:l,x:Number(o["-x"])+h*10/2,y:Number(o["-y"])+7}}var d;Object.entries(a).forEach(function(g){var E=Dy(g,2),j=E[0],P=E[1];bE.indexOf(j)===-1&&(d||(d={}),d[j]=P)}),d&&(d=ay(d));var b={id:a["-id"],type:va.FLOW,pointsList:r["di:waypoint"].map(function(g){return{x:Number(g["-x"]),y:Number(g["-y"])}}),sourceNodeId:a["-sourceRef"],targetNodeId:a["-targetRef"],properties:d};return u&&(b.text=u),b}var Bu=function(){function r(a){var u=this,l=a.lf;this.adapterOut=function(o,h){var d=Zb({},u.processAttributes);p5(d,o,h);var b={"-id":"BPMNPlane_1","-bpmnElement":d["-id"]};h5(b,o);var g=u.definitionAttributes;g["bpmn:process"]=d,g["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":b};var E={"bpmn:definitions":g};return E},this.adapterIn=function(o){if(o)return d5(o)},l.adapterIn=function(o){return u.adapterIn(o)},l.adapterOut=function(o,h){return u.adapterOut(o,h)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+OO()},this.definitionAttributes={"-id":"Definitions_"+OO(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return r.prototype.setCustomShape=function(a,u){r.shapeConfigMap.set(a,u)},r.pluginName="bpmn-adapter",r.shapeConfigMap=new Map,r}();Bu.shapeConfigMap.set(va.START,{width:vO.width,height:vO.height});Bu.shapeConfigMap.set(va.END,{width:gO.width,height:gO.height});Bu.shapeConfigMap.set(va.GATEWAY,{width:bO.width,height:bO.height});Bu.shapeConfigMap.set(va.SYSTEM,{width:mO.width,height:mO.height});Bu.shapeConfigMap.set(va.USER,{width:_O.width,height:_O.height});(function(r){f5(a,r);function a(u){var l=r.call(this,u)||this;l.adapterXmlIn=function(h){var d=l5(h);return l.adapterIn(d)},l.adapterXmlOut=function(h,d){var b=l.adapterOut(h,d);return s5(b)};var o=u.lf;return o.adapterIn=l.adapterXmlIn,o.adapterOut=l.adapterXmlOut,l}return a.pluginName="bpmnXmlAdapter",a})(Bu);var g5=function(){function r(){globalThis._ids=this,this._ids=new Set}return r.prototype.generateId=function(){var a="xxxxxxx".replace(/[x]/g,function(u){var l=Math.random()*16|0,o=u==="x"?l:l&3|8;return o.toString(16)});return a},r.prototype.next=function(){for(var a=this.generateId();this._ids.has(a);)a=this.generateId();return this._ids.add(a),a},r}(),b5=(globalThis==null?void 0:globalThis._ids)||new g5;function m5(){return b5.next()}globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();var jO=globalThis&&globalThis.__assign||function(){return jO=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},jO.apply(this,arguments)},_5=globalThis&&globalThis.__read||function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,h=[],d;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)h.push(o.value)}catch(b){d={error:b}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(d)throw d.error}}return h};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();var PO=globalThis&&globalThis.__assign||function(){return PO=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},PO.apply(this,arguments)},O5=globalThis&&globalThis.__read||function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,h=[],d;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)h.push(o.value)}catch(b){d={error:b}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(d)throw d.error}}return h};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();var AO=globalThis&&globalThis.__assign||function(){return AO=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},AO.apply(this,arguments)},w5=globalThis&&globalThis.__read||function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,h=[],d;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)h.push(o.value)}catch(b){d={error:b}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(d)throw d.error}}return h};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();var TO=globalThis&&globalThis.__assign||function(){return TO=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},TO.apply(this,arguments)},x5=globalThis&&globalThis.__read||function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,h=[],d;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)h.push(o.value)}catch(b){d={error:b}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(d)throw d.error}}return h};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();var MO=globalThis&&globalThis.__assign||function(){return MO=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},MO.apply(this,arguments)},E5=globalThis&&globalThis.__read||function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,h=[],d;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)h.push(o.value)}catch(b){d={error:b}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(d)throw d.error}}return h};globalThis&&globalThis.__spread;it.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),it.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});it.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});it.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();var kO=globalThis&&globalThis.__assign||function(){return kO=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},kO.apply(this,arguments)};globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();var DO=globalThis&&globalThis.__assign||function(){return DO=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},DO.apply(this,arguments)},S5=globalThis&&globalThis.__read||function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,h=[],d;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)h.push(o.value)}catch(b){d={error:b}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(d)throw d.error}}return h};globalThis&&globalThis.__spread;var Wm,cr,mE,Fc,NO,_E,Jb,OE,Gm,Qb,em,tm={},wE=[],j5=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Um=Array.isArray;function ku(r,a){for(var u in a)r[u]=a[u];return r}function Hm(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function Op(r,a,u){var l,o,h,d={};for(h in a)h=="key"?l=a[h]:h=="ref"?o=a[h]:d[h]=a[h];if(arguments.length>2&&(d.children=arguments.length>3?Wm.call(arguments,2):u),typeof r=="function"&&r.defaultProps!=null)for(h in r.defaultProps)d[h]===void 0&&(d[h]=r.defaultProps[h]);return Zd(r,d,l,o,null)}function Zd(r,a,u,l,o){var h={type:r,props:a,key:u,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o==null?++mE:o,__i:-1,__u:0};return o==null&&cr.vnode!=null&&cr.vnode(h),h}function Xm(r){return r.children}function ml(r,a){this.props=r,this.context=a}function Ol(r,a){if(a==null)return r.__?Ol(r.__,r.__i+1):null;for(var u;a<r.__k.length;a++)if((u=r.__k[a])!=null&&u.__e!=null)return u.__e;return typeof r.type=="function"?Ol(r):null}function xE(r){var a,u;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,a=0;a<r.__k.length;a++)if((u=r.__k[a])!=null&&u.__e!=null){r.__e=r.__c.base=u.__e;break}return xE(r)}}function RO(r){(!r.__d&&(r.__d=!0)&&Fc.push(r)&&!uy.__r++||NO!==cr.debounceRendering)&&((NO=cr.debounceRendering)||_E)(uy)}function uy(){var r,a,u,l,o,h,d,b;for(Fc.sort(Jb);r=Fc.shift();)r.__d&&(a=Fc.length,l=void 0,h=(o=(u=r).__v).__e,d=[],b=[],u.__P&&((l=ku({},o)).__v=o.__v+1,cr.vnode&&cr.vnode(l),jE(u.__P,l,o,u.__n,u.__P.namespaceURI,32&o.__u?[h]:null,d,h==null?Ol(o):h,!!(32&o.__u),b),l.__v=o.__v,l.__.__k[l.__i]=l,T5(d,l,b),l.__e!=h&&xE(l)),Fc.length>a&&Fc.sort(Jb));uy.__r=0}function EE(r,a,u,l,o,h,d,b,g,E,j){var P,k,M,C,N,L,G=l&&l.__k||wE,U=a.length;for(g=P5(u,a,G,g,U),P=0;P<U;P++)(M=u.__k[P])!=null&&(k=M.__i===-1?tm:G[M.__i]||tm,M.__i=P,L=jE(r,M,k,o,h,d,b,g,E,j),C=M.__e,M.ref&&k.ref!=M.ref&&(k.ref&&Ym(k.ref,null,M),j.push(M.ref,M.__c||C,M)),N==null&&C!=null&&(N=C),4&M.__u||k.__k===M.__k?g=SE(M,g,r):typeof M.type=="function"&&L!==void 0?g=L:C&&(g=C.nextSibling),M.__u&=-7);return u.__e=N,g}function P5(r,a,u,l,o){var h,d,b,g,E,j=u.length,P=j,k=0;for(r.__k=new Array(o),h=0;h<o;h++)(d=a[h])!=null&&typeof d!="boolean"&&typeof d!="function"?(g=h+k,(d=r.__k[h]=typeof d=="string"||typeof d=="number"||typeof d=="bigint"||d.constructor==String?Zd(null,d,null,null,null):Um(d)?Zd(Xm,{children:d},null,null,null):d.constructor===void 0&&d.__b>0?Zd(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d).__=r,d.__b=r.__b+1,b=null,(E=d.__i=A5(d,u,g,P))!==-1&&(P--,(b=u[E])&&(b.__u|=2)),b==null||b.__v===null?(E==-1&&k--,typeof d.type!="function"&&(d.__u|=4)):E!=g&&(E==g-1?k--:E==g+1?k++:(E>g?k--:k++,d.__u|=4))):r.__k[h]=null;if(P)for(h=0;h<j;h++)(b=u[h])!=null&&!(2&b.__u)&&(b.__e==l&&(l=Ol(b)),PE(b,b));return l}function SE(r,a,u){var l,o;if(typeof r.type=="function"){for(l=r.__k,o=0;l&&o<l.length;o++)l[o]&&(l[o].__=r,a=SE(l[o],a,u));return a}r.__e!=a&&(a&&r.type&&!u.contains(a)&&(a=Ol(r)),u.insertBefore(r.__e,a||null),a=r.__e);do a=a&&a.nextSibling;while(a!=null&&a.nodeType==8);return a}function A5(r,a,u,l){var o,h,d=r.key,b=r.type,g=a[u];if(g===null||g&&d==g.key&&b===g.type&&!(2&g.__u))return u;if(l>(g!=null&&!(2&g.__u)?1:0))for(o=u-1,h=u+1;o>=0||h<a.length;){if(o>=0){if((g=a[o])&&!(2&g.__u)&&d==g.key&&b===g.type)return o;o--}if(h<a.length){if((g=a[h])&&!(2&g.__u)&&d==g.key&&b===g.type)return h;h++}}return-1}function CO(r,a,u){a[0]=="-"?r.setProperty(a,u==null?"":u):r[a]=u==null?"":typeof u!="number"||j5.test(a)?u:u+"px"}function Vd(r,a,u,l,o){var h;e:if(a=="style")if(typeof u=="string")r.style.cssText=u;else{if(typeof l=="string"&&(r.style.cssText=l=""),l)for(a in l)u&&a in u||CO(r.style,a,"");if(u)for(a in u)l&&u[a]===l[a]||CO(r.style,a,u[a])}else if(a[0]=="o"&&a[1]=="n")h=a!=(a=a.replace(OE,"$1")),a=a.toLowerCase()in r||a=="onFocusOut"||a=="onFocusIn"?a.toLowerCase().slice(2):a.slice(2),r.l||(r.l={}),r.l[a+h]=u,u?l?u.u=l.u:(u.u=Gm,r.addEventListener(a,h?em:Qb,h)):r.removeEventListener(a,h?em:Qb,h);else{if(o=="http://www.w3.org/2000/svg")a=a.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(a!="width"&&a!="height"&&a!="href"&&a!="list"&&a!="form"&&a!="tabIndex"&&a!="download"&&a!="rowSpan"&&a!="colSpan"&&a!="role"&&a!="popover"&&a in r)try{r[a]=u==null?"":u;break e}catch(d){}typeof u=="function"||(u==null||u===!1&&a[4]!="-"?r.removeAttribute(a):r.setAttribute(a,a=="popover"&&u==1?"":u))}}function IO(r){return function(a){if(this.l){var u=this.l[a.type+r];if(a.t==null)a.t=Gm++;else if(a.t<u.u)return;return u(cr.event?cr.event(a):a)}}}function jE(r,a,u,l,o,h,d,b,g,E){var j,P,k,M,C,N,L,G,U,te,ae,re,J,Z,X,$,V,Y=a.type;if(a.constructor!==void 0)return null;128&u.__u&&(g=!!(32&u.__u),h=[b=a.__e=u.__e]),(j=cr.__b)&&j(a);e:if(typeof Y=="function")try{if(G=a.props,U="prototype"in Y&&Y.prototype.render,te=(j=Y.contextType)&&l[j.__c],ae=j?te?te.props.value:j.__:l,u.__c?L=(P=a.__c=u.__c).__=P.__E:(U?a.__c=P=new Y(G,ae):(a.__c=P=new ml(G,ae),P.constructor=Y,P.render=k5),te&&te.sub(P),P.props=G,P.state||(P.state={}),P.context=ae,P.__n=l,k=P.__d=!0,P.__h=[],P._sb=[]),U&&P.__s==null&&(P.__s=P.state),U&&Y.getDerivedStateFromProps!=null&&(P.__s==P.state&&(P.__s=ku({},P.__s)),ku(P.__s,Y.getDerivedStateFromProps(G,P.__s))),M=P.props,C=P.state,P.__v=a,k)U&&Y.getDerivedStateFromProps==null&&P.componentWillMount!=null&&P.componentWillMount(),U&&P.componentDidMount!=null&&P.__h.push(P.componentDidMount);else{if(U&&Y.getDerivedStateFromProps==null&&G!==M&&P.componentWillReceiveProps!=null&&P.componentWillReceiveProps(G,ae),!P.__e&&(P.shouldComponentUpdate!=null&&P.shouldComponentUpdate(G,P.__s,ae)===!1||a.__v==u.__v)){for(a.__v!=u.__v&&(P.props=G,P.state=P.__s,P.__d=!1),a.__e=u.__e,a.__k=u.__k,a.__k.some(function(q){q&&(q.__=a)}),re=0;re<P._sb.length;re++)P.__h.push(P._sb[re]);P._sb=[],P.__h.length&&d.push(P);break e}P.componentWillUpdate!=null&&P.componentWillUpdate(G,P.__s,ae),U&&P.componentDidUpdate!=null&&P.__h.push(function(){P.componentDidUpdate(M,C,N)})}if(P.context=ae,P.props=G,P.__P=r,P.__e=!1,J=cr.__r,Z=0,U){for(P.state=P.__s,P.__d=!1,J&&J(a),j=P.render(P.props,P.state,P.context),X=0;X<P._sb.length;X++)P.__h.push(P._sb[X]);P._sb=[]}else do P.__d=!1,J&&J(a),j=P.render(P.props,P.state,P.context),P.state=P.__s;while(P.__d&&++Z<25);P.state=P.__s,P.getChildContext!=null&&(l=ku(ku({},l),P.getChildContext())),U&&!k&&P.getSnapshotBeforeUpdate!=null&&(N=P.getSnapshotBeforeUpdate(M,C)),b=EE(r,Um($=j!=null&&j.type===Xm&&j.key==null?j.props.children:j)?$:[$],a,u,l,o,h,d,b,g,E),P.base=a.__e,a.__u&=-161,P.__h.length&&d.push(P),L&&(P.__E=P.__=null)}catch(q){if(a.__v=null,g||h!=null)if(q.then){for(a.__u|=g?160:128;b&&b.nodeType==8&&b.nextSibling;)b=b.nextSibling;h[h.indexOf(b)]=null,a.__e=b}else for(V=h.length;V--;)Hm(h[V]);else a.__e=u.__e,a.__k=u.__k;cr.__e(q,a,u)}else h==null&&a.__v==u.__v?(a.__k=u.__k,a.__e=u.__e):b=a.__e=M5(u.__e,a,u,l,o,h,d,g,E);return(j=cr.diffed)&&j(a),128&a.__u?void 0:b}function T5(r,a,u){for(var l=0;l<u.length;l++)Ym(u[l],u[++l],u[++l]);cr.__c&&cr.__c(a,r),r.some(function(o){try{r=o.__h,o.__h=[],r.some(function(h){h.call(o)})}catch(h){cr.__e(h,o.__v)}})}function M5(r,a,u,l,o,h,d,b,g){var E,j,P,k,M,C,N,L=u.props,G=a.props,U=a.type;if(U=="svg"?o="http://www.w3.org/2000/svg":U=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),h!=null){for(E=0;E<h.length;E++)if((M=h[E])&&"setAttribute"in M==!!U&&(U?M.localName==U:M.nodeType==3)){r=M,h[E]=null;break}}if(r==null){if(U==null)return document.createTextNode(G);r=document.createElementNS(o,U,G.is&&G),b&&(cr.__m&&cr.__m(a,h),b=!1),h=null}if(U===null)L===G||b&&r.data===G||(r.data=G);else{if(h=h&&Wm.call(r.childNodes),L=u.props||tm,!b&&h!=null)for(L={},E=0;E<r.attributes.length;E++)L[(M=r.attributes[E]).name]=M.value;for(E in L)if(M=L[E],E!="children"){if(E=="dangerouslySetInnerHTML")P=M;else if(!(E in G)){if(E=="value"&&"defaultValue"in G||E=="checked"&&"defaultChecked"in G)continue;Vd(r,E,null,M,o)}}for(E in G)M=G[E],E=="children"?k=M:E=="dangerouslySetInnerHTML"?j=M:E=="value"?C=M:E=="checked"?N=M:b&&typeof M!="function"||L[E]===M||Vd(r,E,M,L[E],o);if(j)b||P&&(j.__html===P.__html||j.__html===r.innerHTML)||(r.innerHTML=j.__html),a.__k=[];else if(P&&(r.innerHTML=""),EE(r,Um(k)?k:[k],a,u,l,U=="foreignObject"?"http://www.w3.org/1999/xhtml":o,h,d,h?h[0]:u.__k&&Ol(u,0),b,g),h!=null)for(E=h.length;E--;)Hm(h[E]);b||(E="value",U=="progress"&&C==null?r.removeAttribute("value"):C!==void 0&&(C!==r[E]||U=="progress"&&!C||U=="option"&&C!==L[E])&&Vd(r,E,C,L[E],o),E="checked",N!==void 0&&N!==r[E]&&Vd(r,E,N,L[E],o))}return r}function Ym(r,a,u){try{if(typeof r=="function"){var l=typeof r.__u=="function";l&&r.__u(),l&&a==null||(r.__u=r(a))}else r.current=a}catch(o){cr.__e(o,u)}}function PE(r,a,u){var l,o;if(cr.unmount&&cr.unmount(r),(l=r.ref)&&(l.current&&l.current!==r.__e||Ym(l,null,a)),(l=r.__c)!=null){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(h){cr.__e(h,a)}l.base=l.__P=null}if(l=r.__k)for(o=0;o<l.length;o++)l[o]&&PE(l[o],a,u||typeof r.type!="function");u||Hm(r.__e),r.__c=r.__=r.__e=void 0}function k5(r,a,u){return this.constructor(r,u)}Wm=wE.slice,cr={__e:function(r,a,u,l){for(var o,h,d;a=a.__;)if((o=a.__c)&&!o.__)try{if((h=o.constructor)&&h.getDerivedStateFromError!=null&&(o.setState(h.getDerivedStateFromError(r)),d=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(r,l||{}),d=o.__d),d)return o.__E=o}catch(b){r=b}throw r}},mE=0,ml.prototype.setState=function(r,a){var u;u=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ku({},this.state),typeof r=="function"&&(r=r(ku({},u),this.props)),r&&ku(u,r),r!=null&&this.__v&&(a&&this._sb.push(a),RO(this))},ml.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),RO(this))},ml.prototype.render=Xm,Fc=[],_E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Jb=function(r,a){return r.__v.__b-a.__v.__b},uy.__r=0,OE=/(PointerCapture)$|Capture$/i,Gm=0,Qb=IO(!1),em=IO(!0);var wp=globalThis&&globalThis.__assign||function(){return wp=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},wp.apply(this,arguments)};function Vm(r){var a=r.x,u=r.y,l=r.width,o=r.height,h=r.radius,d=r.className,b=a-l/2,g=u-o/2,E=wp(wp({width:10,height:10,cx:0,cy:0,rx:h||0,ry:h||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+d},r),{x:b,y:g});return it.h("rect",wp({},E))}Vm.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var vl;(function(r){r.NODE="node",r.CIRCLE_NODE="circle-node",r.POLYGON_NODE="polygon-node",r.RECT_NODE="rect-node",r.HTML_NODE="html-node",r.TEXT_NODE="text-node",r.ELLIPSE_NODE="ellipse-node",r.DIAMOND_NODE="diamond-node",r.EDGE="edge",r.LINE_EDGE="line-edge",r.POLYLINE_EDGE="polyline-edge",r.BEZIER_EDGE="bezier-edge",r.GRAPH="graph"})(vl||(vl={}));var D5=globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),Wc=globalThis&&globalThis.__assign||function(){return Wc=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Wc.apply(this,arguments)},N5=globalThis&&globalThis.__read||function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,h=[],d;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)h.push(o.value)}catch(b){d={error:b}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(d)throw d.error}}return h},R5=it.LogicFlowUtil.StepDrag,C5=function(r){D5(a,r);function a(u){var l=r.call(this)||this;return l.updatePosition=function(o){var h=o.deltaX,d=o.deltaY,b=l.nodeModel,g=b.x,E=b.y;l.nodeModel.x=g+h/2,l.nodeModel.y=E+d/2,l.nodeModel.moveText(h/2,d/2)},l.getResize=function(o){var h=o.index,d=o.deltaX,b=o.deltaY,g=o.width,E=o.height,j=o.PCTResizeInfo,P=o.pct,k=P===void 0?1:P,M=o.freezeWidth,C=M===void 0?!1:M,N=o.freezeHeight,L=N===void 0?!1:N,G={width:g,height:E,deltaX:d,deltaY:b};if(j){var U=4,te=0,ae=0;switch(h){case 0:ae=(d*-1-b)/U;break;case 1:ae=(d-b)/U;break;case 2:ae=(d+b)/U;break;case 3:ae=(d*-1+b)/U;break}ae!==0&&(te=Math.round(ae/j.ResizeBasis.basisHeight*1e5)/1e3),j.ResizePCT.widthPCT=Math.max(Math.min(j.ResizePCT.widthPCT+te,j.ScaleLimit.maxScaleLimit),j.ScaleLimit.minScaleLimit),j.ResizePCT.hightPCT=Math.max(Math.min(j.ResizePCT.hightPCT+te,j.ScaleLimit.maxScaleLimit),j.ScaleLimit.minScaleLimit);var re=Math.round(j.ResizePCT.widthPCT*j.ResizeBasis.basisWidth/100),J=Math.round(j.ResizePCT.hightPCT*j.ResizeBasis.basisHeight/100);switch(h){case 0:d=g-re,b=E-J;break;case 1:d=re-g,b=E-J;break;case 2:d=re-g,b=J-E;break;case 3:d=g-re,b=J-E;break}return G.width=re,G.height=J,G.deltaX=d/k,G.deltaY=b/k,G}switch(h){case 0:G.width=C?g:g-d*k,G.height=L?E:E-b*k;break;case 1:G.width=C?g:g+d*k,G.height=L?E:E-b*k;break;case 2:G.width=C?g:g+d*k,G.height=L?E:E+b*k;break;case 3:G.width=C?g:g-d*k,G.height=L?E:E+b*k;break}return G},l.updateEdgePointByAnchors=function(){var o=l.nodeModel,h=o.id,d=o.anchors,b=l.getNodeEdges(h);b.sourceEdges.forEach(function(g){var E=d.find(function(j){return j.id===g.sourceAnchorId});g.updateStartPoint({x:E.x,y:E.y})}),b.targetEdges.forEach(function(g){var E=d.find(function(j){return j.id===g.targetAnchorId});g.updateEndPoint({x:E.x,y:E.y})})},l.updateRect=function(o){var h=o.deltaX,d=o.deltaY,b=l.nodeModel,g=b.id,E=b.x,j=b.y,P=b.width,k=b.height,M=b.radius,C=b.PCTResizeInfo,N=l.nodeModel,L=N.minWidth,G=N.minHeight,U=N.maxWidth,te=N.maxHeight,ae=l.index,re=L===U,J=G===te,Z=l.getResize({index:ae,deltaX:h,deltaY:d,width:P,height:k,PCTResizeInfo:C,pct:1,freezeWidth:re,freezeHeight:J});if(Z.width<L||Z.width>U||Z.height<G||Z.height>te){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:re?0:Z.deltaX,deltaY:J?0:Z.deltaY}),l.nodeModel.width=Z.width,l.nodeModel.height=Z.height,l.nodeModel.setProperties({nodeSize:{width:Z.width,height:Z.height}}),l.getNodeEdges(g);var X={x:E,y:j,width:P,height:k,radius:M},$={x:l.nodeModel.x,y:l.nodeModel.y,width:l.nodeModel.width,height:l.nodeModel.height,radius:M};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:X,afterNode:$})},l.updateEllipse=function(o){var h=o.deltaX,d=o.deltaY,b=l.nodeModel,g=b.id,E=b.rx,j=b.ry,P=b.x,k=b.y,M=b.PCTResizeInfo,C=l.index,N=l.nodeModel,L=N.minWidth,G=N.minHeight,U=N.maxWidth,te=N.maxHeight,ae=L===U,re=G===te,J=E,Z=j,X=l.getResize({index:C,deltaX:h,deltaY:d,width:J,height:Z,PCTResizeInfo:M,pct:1/2,freezeWidth:ae,freezeHeight:re});if(X.width<L/2||X.width>U/2||X.height<G/2||X.height>te/2){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:ae?0:X.deltaX,deltaY:re?0:X.deltaY}),l.nodeModel.rx=X.width,l.nodeModel.ry=X.height,l.nodeModel.setProperties({nodeSize:{rx:X.width,ry:X.height}}),l.getNodeEdges(g);var $={x:P,y:k},V={rx:X.width,ry:X.height,x:l.nodeModel.x,y:l.nodeModel.y};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:Wc(Wc({},$),{rx:E,ry:j}),afterNode:V})},l.updateDiamond=function(o){var h=o.deltaX,d=o.deltaY,b=l.nodeModel;b.id;var g=b.rx,E=b.ry,j=b.x,P=b.y,k=b.PCTResizeInfo,M=l.index,C=l.nodeModel,N=C.minWidth,L=C.minHeight,G=C.maxWidth,U=C.maxHeight,te=N===G,ae=L===U,re=g,J=E,Z=l.getResize({index:M,deltaX:h,deltaY:d,width:re,height:J,PCTResizeInfo:k,pct:1/2,freezeWidth:te,freezeHeight:ae});if(Z.width<N/2||Z.width>G/2||Z.height<L/2||Z.height>U/2){l.dragHandler.cancelDrag();return}l.updatePosition({deltaX:te?0:Z.deltaX,deltaY:ae?0:Z.deltaY}),l.nodeModel.rx=Z.width,l.nodeModel.ry=Z.height,l.nodeModel.setProperties({nodeSize:{rx:Z.width,ry:Z.height}});var X={x:j,y:P,rx:g,ry:E},$={rx:Z.width,ry:Z.height,x:l.nodeModel.x,y:l.nodeModel.y};l.updateEdgePointByAnchors(),l.eventEmit({beforeNode:X,afterNode:$})},l.eventEmit=function(o){var h=o.beforeNode,d=o.afterNode,b=l.nodeModel,g=b.id,E=b.modelType,j=b.type,P=Wc({id:g,modelType:E,type:j},h),k=Wc({id:g,modelType:E,type:j},d);l.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:k})},l.onDragging=function(o){var h,d=o.deltaX,b=o.deltaY,g=l.graphModel.transformModel,E=l.nodeModel.modelType;h=N5(g.fixDeltaXY(d,b),2),d=h[0],b=h[1],E===vl.RECT_NODE||E===vl.HTML_NODE?l.updateRect({deltaX:d,deltaY:b}):E===vl.ELLIPSE_NODE?l.updateEllipse({deltaX:d,deltaY:b}):E===vl.DIAMOND_NODE&&l.updateDiamond({deltaX:d,deltaY:b})},l.onDragEnd=function(){var o=l.graphModel.gridSize,h=o===void 0?1:o,d=h*Math.round(l.nodeModel.x/h),b=h*Math.round(l.nodeModel.y/h);l.nodeModel.moveTo(d,b),l.updateEdgePointByAnchors()},l.index=u.index,l.nodeModel=u.model,l.graphModel=u.graphModel,l.state={},l.dragHandler=new R5({onDragging:l.onDragging,onDragEnd:l.onDragEnd,step:1}),l}return a.prototype.getNodeEdges=function(u){for(var l=this.graphModel,o=l.edges,h=[],d=[],b=0;b<o.length;b++){var g=o[b];g.sourceNodeId===u?h.push(g):o[b].targetNodeId===u&&d.push(g)}return{sourceEdges:h,targetEdges:d}},a.prototype.render=function(){var u=this.props,l=u.x,o=u.y,h=u.index,d=u.model,b=d.getControlPointStyle();return Op("g",{className:"lf-resize-control-"+h},Op(Vm,Wc({className:"lf-node-control"},{x:l,y:o},b,{onMouseDown:this.dragHandler.handleMouseDown})))},a}(ml),I5=globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),cy=globalThis&&globalThis.__assign||function(){return cy=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},cy.apply(this,arguments)},Ny=function(r){I5(a,r);function a(){var u=r.call(this)||this;return u.state={},u}return a.prototype.getResizeControl=function(){var u=this.props,l=u.model,o=u.graphModel,h=l.x,d=l.y,b=l.width,g=l.height,E={minX:h-b/2,minY:d-g/2,maxX:h+b/2,maxY:d+g/2},j=E.minX,P=E.minY,k=E.maxX,M=E.maxY,C=[{x:j,y:P},{x:k,y:P},{x:k,y:M},{x:j,y:M}];return C.map(function(N,L){return Op(C5,cy({index:L},N,{model:l,graphModel:o}))})},a.prototype.getGroupSolid=function(){var u=this.props.model,l=u.x,o=u.y,h=u.width,d=u.height,b=u.getResizeOutlineStyle();return Op(Vm,cy({fill:"none"},b,{x:l,y:o,width:h,height:d}))},a.prototype.render=function(){return Op("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},a}(ml),AE=globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),L5=function(r){AE(a,r);function a(u,l){var o=r.call(this,u,l)||this,h=o.properties.nodeSize;return h&&(o.width=h.width,o.height=h.height),o}return a.prototype.initNodeData=function(u){r.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},a.prototype.getOutlineStyle=function(){var u=r.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},a.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},a.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},a.prototype.resize=function(u,l){console.log(u,l)},a.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},h={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:h}}else delete this.PCTResizeInfo},a}(it.RectNodeModel),B5=function(r){AE(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.getControlGroup=function(){var u=this.props,l=u.model,o=u.graphModel;return it.h(Ny,{model:l,graphModel:o})},a.prototype.getResizeShape=function(){return r.prototype.getShape.call(this)},a.prototype.getShape=function(){var u=this.props,l=u.model.isSelected,o=u.graphModel.editConfigModel.isSilentMode;return it.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},a}(it.RectNode),TE={type:"rect",view:B5,model:L5},ME=globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();(function(r){ME(a,r);function a(u,l){var o=r.call(this,u,l)||this,h=o.properties.nodeSize;return h&&(o.rx=h.rx,o.ry=h.ry),o}return a.prototype.initNodeData=function(u){r.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},a.prototype.getOutlineStyle=function(){var u=r.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},a.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},a.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},a.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},h={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:h}}else delete this.PCTResizeInfo},a})(it.EllipseNodeModel);(function(r){ME(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.getControlGroup=function(){var u=this.props,l=u.model,o=u.graphModel;return it.h(Ny,{model:l,graphModel:o})},a.prototype.getResizeShape=function(){return r.prototype.getShape.call(this)},a.prototype.getShape=function(){var u=this.props,l=u.model,o=u.graphModel.editConfigModel.isSilentMode;return it.h("g",null,this.getResizeShape(),l.isSelected&&!o?this.getControlGroup():"")},a})(it.EllipseNode);var nm=globalThis&&globalThis.__assign||function(){return nm=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},nm.apply(this,arguments)};function z5(r){var a=r.fillOpacity,u=a===void 0?1:a,l=r.strokeWidth,o=l===void 0?1:l,h=r.strokeOpacity,d=h===void 0?1:h,b=r.fill,g=b===void 0?"transparent":b,E=r.stroke,j=E===void 0?"#000":E,P=r.points,k=r.className,M=k===void 0?"lf-basic-shape":k,C={fill:g,fillOpacity:u,strokeWidth:o,stroke:j,strokeOpacity:d,points:"",className:M};return C.points=P.map(function(N){return N.join(",")}).join(" "),it.h("polygon",nm({},C))}var kE=globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),rm=globalThis&&globalThis.__assign||function(){return rm=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},rm.apply(this,arguments)};(function(r){kE(a,r);function a(u,l){var o=r.call(this,u,l)||this,h=o.properties.nodeSize;return h&&(o.rx=h.rx,o.ry=h.ry),o}return a.prototype.initNodeData=function(u){r.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},a.prototype.getOutlineStyle=function(){var u=r.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},a.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},a.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},a.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},h={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:h}}else delete this.PCTResizeInfo},a})(it.DiamondNodeModel);(function(r){kE(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.getControlGroup=function(){var u=this.props,l=u.model,o=u.graphModel;return it.h(Ny,{model:l,graphModel:o})},a.prototype.getResizeShape=function(){var u=this.props.model,l=u.points,o=u.getNodeStyle();return it.h("g",null,it.h(z5,rm({},o,{points:l})))},a.prototype.getShape=function(){var u=this.props,l=u.model.isSelected,o=u.graphModel.editConfigModel.isSilentMode;return it.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},a})(it.DiamondNode);var DE=globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();(function(r){DE(a,r);function a(u,l){var o=r.call(this,u,l)||this,h=o.properties.nodeSize;return h&&(o.width=h.width,o.height=h.height),o}return a.prototype.initNodeData=function(u){r.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},a.prototype.getOutlineStyle=function(){var u=r.prototype.getOutlineStyle.call(this),l=this.graphModel.editConfigModel.isSilentMode;return l||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},a.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},a.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},a.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var l={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},h={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:l,ResizeBasis:o,ScaleLimit:h}}else delete this.PCTResizeInfo},a})(it.HtmlNodeModel);(function(r){DE(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.getControlGroup=function(){var u=this.props,l=u.model,o=u.graphModel;return it.h(Ny,{model:l,graphModel:o})},a.prototype.getResizeShape=function(){return r.prototype.getShape.call(this)},a.prototype.getShape=function(){var u=this.props,l=u.model.isSelected,o=u.graphModel.editConfigModel.isSilentMode;return it.h("g",null,this.getResizeShape(),l&&!o?this.getControlGroup():"")},a})(it.HtmlNode);var NE=globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),sy=globalThis&&globalThis.__assign||function(){return sy=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},sy.apply(this,arguments)},$5=globalThis&&globalThis.__read||function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,h=[],d;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)h.push(o.value)}catch(b){d={error:b}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(d)throw d.error}}return h},F5=globalThis&&globalThis.__spread||function(){for(var r=[],a=0;a<arguments.length;a++)r=r.concat($5(arguments[a]));return r},LO=500,BO=300,W5=-1e4;(function(r){NE(a,r);function a(){var u=r!==null&&r.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=LO,u.unfoldedHight=BO,u.childrenLastFoldStatus={},u}return a.prototype.initNodeData=function(u){var l=this;r.prototype.initNodeData.call(this,u);var o=[];Array.isArray(u.children)&&(o=u.children),this.children=new Set(o),this.width=LO,this.height=BO,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=W5,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){l.isFolded&&l.foldGroup(l.isFolded)})},a.prototype.getResizeOutlineStyle=function(){var u=r.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},a.prototype.foldGroup=function(u){var l=this;if(u!==this.isFolded){this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(h){var d=l.graphModel.getElement(h),b=d.isFolded;if(d.isGroup&&!d.isFolded&&d.foldGroup(u),d.isGroup&&!u){var g=l.childrenLastFoldStatus[h];g!==void 0&&g!==d.isFolded&&d.foldGroup(g)}l.childrenLastFoldStatus[h]=b,d.visible=!u,o=o.concat(d.incoming.edges.concat(d.outgoing.edges))}),this.foldEdge(u,o)}},a.prototype.getAnchorStyle=function(u){var l=r.prototype.getAnchorStyle.call(this,u);return l.stroke="transparent",l.fill="transparent",l.hover.fill="transparent",l.hover.stroke="transparent",l},a.prototype.foldEdge=function(u,l){var o=this;l.forEach(function(h,d){var b=h.id,g=h.sourceNodeId,E=h.targetNodeId,j=h.startPoint,P=h.endPoint,k=h.type,M=h.text,C=h.getProperties(),N={id:b+"__"+d,sourceNodeId:g,targetNodeId:E,startPoint:j,endPoint:P,type:k,properties:C,text:M==null?void 0:M.value};h.virtual&&o.graphModel.deleteEdgeById(h.id);var L=o.graphModel.group.getNodeGroup(E);L||(L=o.graphModel.getNodeModelById(E));var G=o.graphModel.group.getNodeGroup(g);G||(G=o.graphModel.getNodeModelById(g)),u&&h.visible!==!1&&(o.children.has(g)||o.id===g?(N.startPoint=void 0,N.sourceNodeId=o.id):(N.endPoint=void 0,N.targetNodeId=o.id),(L.id!==o.id||G.id!==o.id)&&o.createVirtualEdge(N),h.visible=!1),!u&&h.visible===!1&&(L&&L.isGroup&&L.isFolded?(N.targetNodeId=L.id,N.endPoint=void 0,o.createVirtualEdge(N)):G&&G.isGroup&&G.isFolded?(N.sourceNodeId=G.id,N.startPoint=void 0,o.createVirtualEdge(N)):h.visible=!0)})},a.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var l=this.graphModel.addEdge(u);l.virtual=!0,l.text.editable=!1,l.isFoldedEdge=!0},a.prototype.isInRange=function(u){var l=u.x1,o=u.y1,h=u.x2,d=u.y2;return l>=this.x-this.width/2&&h<=this.x+this.width/2&&o>=this.y-this.height/2&&d<=this.y+this.height/2},a.prototype.isAllowMoveTo=function(u){var l=u.x1,o=u.y1,h=u.x2,d=u.y2;return{x:l>=this.x-this.width/2&&h<=this.x+this.width/2,y:o>=this.y-this.height/2&&d<=this.y+this.height/2}},a.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},a.prototype.addChild=function(u){this.children.add(u),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},a.prototype.removeChild=function(u){this.children.delete(u),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},a.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},a.prototype.getData=function(){var u=this,l=r.prototype.getData.call(this);l.children=[],this.children.forEach(function(h){var d=u.graphModel.getNodeModelById(h);d&&!d.virtual&&l.children.push(h)});var o=l.properties;return delete o.groupAddable,delete o.isFolded,l},a.prototype.getHistoryData=function(){var u=r.prototype.getData.call(this);u.children=F5(this.children),u.isGroup=!0;var l=u.properties;return delete l.groupAddable,l.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},a.prototype.isAllowAppendIn=function(u){return!0},a.prototype.toBack=function(){this.zIndex--},a})(TE.model);(function(r){NE(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.getControlGroup=function(){var u=this.props.model,l=u.resizable,o=u.properties;return l&&!o.isFolded?r.prototype.getControlGroup.call(this):null},a.prototype.getAddableShape=function(){var u=this.props.model,l=u.width,o=u.height,h=u.x,d=u.y,b=u.radius,g=u.properties;if(!g.groupAddable)return null;var E=this.props.model.getNodeStyle().strokeWidth,j=this.props.model.getAddableOutlineStyle(),P=l+E+8,k=o+E+8;return it.h("rect",sy(sy({},j),{width:P,height:k,x:h-P/2,y:d-k/2,rx:b,ry:b}))},a.prototype.getFoldIcon=function(){var u=this.props.model,l=u.x-u.width/2+5,o=u.y-u.height/2+5;if(!u.foldable)return null;var h=it.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(l+3)+","+(o+6)+" "+(l+11)+","+(o+6)+" M"+(l+7)+","+(o+2)+" "+(l+7)+","+(o+10):"M "+(l+3)+","+(o+6)+" "+(l+11)+","+(o+6)+" "});return it.h("g",{},[it.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),h])},a.prototype.getResizeShape=function(){return it.h("g",{},[this.getAddableShape(),r.prototype.getResizeShape.call(this),this.getFoldIcon()])},a})(TE.view);var zO=globalThis&&globalThis.__assign||function(){return zO=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},zO.apply(this,arguments)};globalThis&&globalThis.__rest;var G5=globalThis&&globalThis.__read||function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,h=[],d;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)h.push(o.value)}catch(b){d={error:b}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(d)throw d.error}}return h};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();var $O=globalThis&&globalThis.__assign||function(){return $O=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},$O.apply(this,arguments)};globalThis&&globalThis.__values;var FO=globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),xp=globalThis&&globalThis.__assign||function(){return xp=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},xp.apply(this,arguments)};function U5(r){var a=function(l){FO(o,l);function o(h,d){var b=this;h.id||(h.id="Flow_"+m5());var g=xp(xp(xp({},r||{}),h.properties),{isDefaultFlow:!1});return h.properties=g,b=l.call(this,h,d)||this,b}return o.extendKey="SequenceFlowModel",o}(it.PolylineEdgeModel),u=function(l){FO(o,l);function o(){return l!==null&&l.apply(this,arguments)||this}return o.prototype.getStartArrow=function(){var h=this.props.model,d=h.properties.isDefaultFlow;return d?it.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):it.h("path",{d:""})},o.extendKey="SequenceFlowEdge",o}(it.PolylineEdge);return{type:"bpmn:sequenceFlow",view:u,model:a}}U5();globalThis&&globalThis.__read;var WO={width:40,height:40},GO={width:40,height:40},UO={width:100,height:80},ly={width:100,height:80},HO={width:100,height:80},XO={width:100,height:80},YO={width:100,height:80},VO={width:100,height:80},KO={width:100,height:80},qO={width:100,height:80},lo=function(){};lo.ObjTree=function(){return this};lo.ObjTree.VERSION="0.23";lo.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n';lo.ObjTree.prototype.attr_prefix="-";lo.ObjTree.prototype.parseXML=function(r){var a;if(window.DOMParser){var u=new DOMParser,l=u.parseFromString(r,"application/xml");if(!l)return;a=l.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(r),a=u.documentElement);if(a){var o=this.parseDOM(a);return o}};lo.ObjTree.prototype.parseHTTP=function(r,a,u){var l={};for(var o in a)l[o]=a[o];if(l.method||(typeof l.postBody>"u"&&typeof l.postbody>"u"&&typeof l.parameters>"u"?l.method="get":l.method="post"),u){l.asynchronous=!0;var h=this,d=u,b=l.onComplete;l.onComplete=function(j){var P;j&&j.responseXML&&j.responseXML.documentElement&&(P=h.parseDOM(j.responseXML.documentElement)),d(P,j),b&&b(j)}}else l.asynchronous=!1;var g;if(typeof HTTP<"u"&&HTTP.Request){l.uri=r;var E=new HTTP.Request(l);E&&(g=E.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var E=new Ajax.Request(r,l);E&&(g=E.transport)}if(u)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};lo.ObjTree.prototype.parseDOM=function(r){if(r){if(this.__force_array={},this.force_array)for(var a=0;a<this.force_array.length;a++)this.__force_array[this.force_array[a]]=1;var u=this.parseElement(r);if(this.__force_array[r.nodeName]&&(u=[u]),r.nodeType!==11){var l={};l[r.nodeName]=u,u=l}return u}};lo.ObjTree.prototype.parseElement=function(r){if(r.nodeType!==7){if(r.nodeType===3||r.nodeType===4||r.nodeType===8){var a=r.nodeValue.match(/[^\x00-\x20]/);return a==null?void 0:r.nodeValue}var u=null,l={};if(r.attributes&&r.attributes.length){u={};for(var o=0;o<r.attributes.length;o++){var h=r.attributes[o].nodeName;if(typeof h=="string"){var d=r.attributes[o].nodeValue;try{d=JSON.parse(r.attributes[o].nodeValue.replace(/'/g,'"'))}catch(E){d=r.attributes[o].nodeValue}d!=null&&(h=this.attr_prefix+h,typeof l[h]>"u"&&(l[h]=0),l[h]++,this.addNode(u,h,l[h],d))}}}if(r.childNodes&&r.childNodes.length){var b=!0;u&&(b=!1);for(var o=0;o<r.childNodes.length&&b;o++){var g=r.childNodes[o].nodeType;g===3||g===4||g===8||(b=!1)}if(b){u||(u="");for(var o=0;o<r.childNodes.length;o++)u+=r.childNodes[o].nodeValue}else{u||(u={});for(var o=0;o<r.childNodes.length;o++){var h=r.childNodes[o].nodeName;if(typeof h=="string"){var d=this.parseElement(r.childNodes[o]);d&&(typeof l[h]>"u"&&(l[h]=0),l[h]++,this.addNode(u,h,l[h],d))}}}}else u===null&&(u={});return u}};lo.ObjTree.prototype.addNode=function(r,a,u,l){this.__force_array[a]?(u===1&&(r[a]=[]),r[a][r[a].length]=l):u===1?r[a]=l:u===2?r[a]=[r[a],l]:r[a][r[a].length]=l};lo.ObjTree.prototype.writeXML=function(r){var a=this.hash_to_xml(null,r);return this.xmlDecl+a};lo.ObjTree.prototype.hash_to_xml=function(r,a){var u=[],l=[];for(var o in a)if(a!=null&&a.hasOwnProperty(o)){var h=a[o];o.charAt(0)!==this.attr_prefix?typeof h>"u"||h==null?u[u.length]="<"+o+" />":typeof h=="object"&&h.constructor===Array?u[u.length]=this.array_to_xml(o,h):typeof h=="object"?u[u.length]=this.hash_to_xml(o,h):u[u.length]=this.scalar_to_xml(o,h):l[l.length]=" "+o.substring(1)+'="'+this.xml_escape(h)+'"'}var d=l.join(""),b=u.join("");return typeof r>"u"||r==null||(u.length>0?b.match(/\n/)?b="<"+r+d+">\n"+b+"</"+r+">\n":b="<"+r+d+">"+b+"</"+r+">\n":b="<"+r+d+" />\n"),b};lo.ObjTree.prototype.array_to_xml=function(r,a){for(var u=[],l=0;l<a.length;l++){var o=a[l];typeof o>"u"||o==null?u[u.length]="<"+r+" />":typeof o=="object"&&o.constructor===Array?u[u.length]=this.array_to_xml(r,o):typeof o=="object"?u[u.length]=this.hash_to_xml(r,o):u[u.length]=this.scalar_to_xml(r,o)}return u.join("")};lo.ObjTree.prototype.scalar_to_xml=function(r,a){return r==="#text"?this.xml_escape(a):"<"+r+">"+this.xml_escape(a)+"</"+r+">\n"};lo.ObjTree.prototype.xml_escape=function(r){return r.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var H5=function(r){return new lo.ObjTree().parseXML(r)};function RE(r){return Object.prototype.toString.call(r)}function ZO(r){return"  ".repeat(r)}function fy(r){return RE(r)==="[object Object]"?Object.keys(r).reduce(function(a,u){var l=u;return u.charAt(0)==="-"&&(l=u.substring(1)),a[l]=fy(r[u]),a},{}):Array.isArray(r)?r.map(function(a){return fy(a)}):r}function X5(r){var a=r;try{typeof a!="string"&&(a=JSON.parse(r))}catch(u){a=JSON.stringify(fy(r)).replace(/"/g,"'")}return a}var JO="	\n";function Jd(r,a,u){var l=ZO(u),o="",h=JO+l;if(a==="-json")return"";if(a==="#text")return h+r;if(a==="#cdata-section")return h+"<![CDATA["+r+"]]>";if(a==="#comment")return h+"<!--"+r+"-->";if((""+a).charAt(0)==="-")return" "+a.substring(1)+'="'+X5(r)+'"';if(Array.isArray(r))o+=r.map(function(E){return Jd(E,a,u+1)}).join("");else if(RE(r)==="[object Object]"){var d=Object.keys(r),b="",g=r["-json"]?JO+ZO(u+1)+r["-json"]:"";o+=(u===0?"":h)+"<"+a,d.forEach(function(E){E.charAt(0)==="-"?b+=Jd(r[E],E,u+1):g+=Jd(r[E],E,u+1)}),o+=b+(g!==""?">"+g+h+"</"+a+">":" />")}else o+=h+"<"+a+">"+r.toString()+"</"+a+">";return o}function Y5(r){var a="";for(var u in r)a+=Jd(r[u],u,0);return a}var V5=globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),om=globalThis&&globalThis.__assign||function(){return om=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},om.apply(this,arguments)},QO=globalThis&&globalThis.__rest||function(r,a){var u={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&a.indexOf(l)<0&&(u[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(r);o<l.length;o++)a.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(r,l[o])&&(u[l[o]]=r[l[o]]);return u},Km=globalThis&&globalThis.__values||function(r){var a=typeof Symbol=="function"&&Symbol.iterator,u=a&&r[a],l=0;if(u)return u.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&l>=r.length&&(r=void 0),{value:r&&r[l++],done:!r}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")},Rl=globalThis&&globalThis.__read||function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,h=[],d;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)h.push(o.value)}catch(b){d={error:b}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(d)throw d.error}}return h},_l=globalThis&&globalThis.__spread||function(){for(var r=[],a=0;a<arguments.length;a++)r=r.concat(Rl(arguments[a]));return r},uo;(function(r){r.START="bpmn:startEvent",r.END="bpmn:endEvent",r.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",r.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",r.BOUNDARY="bpmn:boundaryEvent",r.PARALLEL_GATEWAY="bpmn:parallelGateway",r.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",r.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",r.USER="bpmn:userTask",r.SYSTEM="bpmn:serviceTask",r.FLOW="bpmn:sequenceFlow",r.SUBPROCESS="bpmn:subProcess"})(uo||(uo={}));var CE=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],K5=["properties","startPoint","endPoint","pointsList"],py={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},IE=function(r,a){var u=Object.keys(a||{});return u.forEach(function(l){if(r[l]){var o=a[l],h=o.in,d=o.out;h&&(r[l].in=h),d&&(r[l].out=d)}else r[l]=a[l]}),r},oi={"bpmn:startEvent":{out:function(r){var a,u,l=r.properties;return((u=(a=oi[l.definitionType])===null||a===void 0?void 0:a.out)===null||u===void 0?void 0:u.call(a,r))||{}}},"bpmn:intermediateCatchEvent":{out:function(r){var a,u,l=r.properties;return((u=(a=oi[l.definitionType])===null||a===void 0?void 0:a.out)===null||u===void 0?void 0:u.call(a,r))||{}}},"bpmn:intermediateThrowEvent":{out:function(r){var a,u,l=r.properties;return((u=(a=oi[l.definitionType])===null||a===void 0?void 0:a.out)===null||u===void 0?void 0:u.call(a,r))||{}}},"bpmn:boundaryEvent":{out:function(r){var a,u,l=r.properties;return((u=(a=oi[l.definitionType])===null||a===void 0?void 0:a.out)===null||u===void 0?void 0:u.call(a,r))||{}}},"bpmn:sequenceFlow":{out:function(r){var a=r.properties,u=a.expressionType,l=a.condition;return l?u==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+l+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+l+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(r){var a=r.properties,u=a.timerType,l=a.timerValue,o=a.definitionId,h=function(){return"<bpmn:"+u+' xsi:type="bpmn:tFormalExpression">'+l+"</bpmn:"+u+">"};return{json:'<bpmn:timerEventDefinition id="'+o+'"'+(u&&l?">"+h()+"</bpmn:timerEventDefinition>":"/>")}},in:function(r,a){var u,l,o,h,d=r,b=a["-id"],g="",E="";try{for(var j=Km(Object.keys(a)),P=j.next();!P.done;P=j.next()){var k=P.value;k.includes("bpmn:")&&(o=Rl(k.split(":"),2),g=o[1],E=(h=a[k])===null||h===void 0?void 0:h["#text"])}}catch(M){u={error:M}}finally{try{P&&!P.done&&(l=j.return)&&l.call(j)}finally{if(u)throw u.error}}return{"-definitionId":b,"-definitionType":d,"-timerType":g,"-timerValue":E}}},"bpmn:conditionExpression":{in:function(r,a){var u,l="",o="";return a["#cdata-section"]?(o="cdata",l=((u=/^\$\{(.*)\}$/g.exec(a["#cdata-section"]))===null||u===void 0?void 0:u[1])||""):a["#text"]&&(o="normal",l=a["#text"]),{"-condition":l,"-expressionType":o}}}};function q5(r){var a=r!=null?r:{},u=a.retainedAttrsFields,l=a.excludeFields,o=a.transformer,h=new Set(_l(K5,u||[])),d={in:new Set(_l(py.in,(l==null?void 0:l.in)||[])),out:new Set(_l(py.out,(l==null?void 0:l.out)||[]))};return oi=IE(oi,o),function(b){var g=b.nodes,E=b.edges;function j(P,k){var M,C,N;if((P==null?void 0:P.flag)!==1){var L;if((L=oi[P.type])&&L.out){var G=L.out(P),U=Object.keys(G);U.length>0&&U.forEach(function(V){P[V]=G[V]})}P!=null&&P.children&&(P.children=P.children.map(function(V){var Y=g.find(function(q){return q.id===V})||E.find(function(q){return q.id===V});return Y||{}}));var te={};if(typeof P=="string")return P;if(Array.isArray(P))return P.map(function(V){return j(V,"")}).filter(function(V){return V!=null});try{for(var ae=Km(Object.entries(P)),re=ae.next();!re.done;re=ae.next()){var J=Rl(re.value,2),Z=J[0],X=J[1];if(((N=X)===null||N===void 0?void 0:N.flag)===1)return;var $=[k,Z].filter(function(V){return V}).join(".");d.out.has($)||(typeof X!="object"?Z.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(Z)?te[Z]=X:te["-"+Z]=X:h.has($)?te["-"+Z]=j(X,$):te[Z]=j(X,$))}}catch(V){M={error:V}}finally{try{re&&!re.done&&(C=ae.return)&&C.call(ae)}finally{if(M)throw M.error}}return te}}return j(b,"")}}function hy(r){var a,u,l={};try{for(var o=Km(Object.entries(r)),h=o.next();!h.done;h=o.next()){var d=Rl(h.value,2),b=d[0],g=d[1];b.indexOf("-")===0?l[b.substring(1)]=fy(g):typeof g=="string"?l[b]=g:Object.prototype.toString.call(g)==="[object Object]"?l[b]=hy(g):Array.isArray(g)?l[b]=g.map(function(E){return hy(E)}):l[b]=g}}catch(E){a={error:E}}finally{try{h&&!h.done&&(u=o.return)&&u.call(o)}finally{if(a)throw a.error}}return l}function Z5(r,a,u){var l,o=new Map,h=q5(u)(a);h.nodes.forEach(function(b){var g=b["-id"],E=b["-type"],j=b.text,P=b.children,k=QO(b,["-id","-type","text","children"]),M={"-id":g};j!=null&&j["-value"]&&(M["-name"]=j["-value"]),k["-json"]&&(M["-json"]=k["-json"]),k["-properties"]&&Object.assign(M,k["-properties"]),P&&(M.children=P),r[E]||(r[E]=[]),r[E].push(M),o.set(g,M)});var d=h.edges.map(function(b){var g=b["-id"];b["-type"];var E=b["-sourceNodeId"],j=b["-targetNodeId"],P=b.text,k=QO(b,["-id","-type","-sourceNodeId","-targetNodeId","text"]),M=o.get(j);M["bpmn:incoming"]||(M["bpmn:incoming"]=[]),M["bpmn:incoming"].push(g);var C={"-id":g,"-sourceRef":E,"-targetRef":j};return P!=null&&P["-value"]&&(C["-name"]=P["-value"]),k["-json"]&&(C["-json"]=k["-json"]),k["-properties"]&&Object.assign(C,k["-properties"]),C});return a.edges.forEach(function(b){var g=b.sourceNodeId,E=b.id,j=o.get(g);j["bpmn:outgoing"]||(j["bpmn:outgoing"]=[]),j["bpmn:outgoing"].push(E)}),(l=r["bpmn:subProcess"])===null||l===void 0||l.forEach(function(b){var g={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},E=[];b.children.forEach(function(N){var L,G=o.get(N["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(te){G[te]&&G[te].forEach(function(ae){g[te].add(ae)})});var U=(L=r[N["-type"]])===null||L===void 0?void 0:L.findIndex(function(te){return te["-id"]===N["-id"]});U>=0&&r[N["-type"]].splice(U,1),o.delete(N["-id"]),b[N["-type"]]||(b[N["-type"]]=[]),b[N["-type"]].push(G)});var j=g["bpmn:incoming"],P=g["bpmn:outgoing"];P.forEach(function(N){j.has(N)&&E.push(N)});for(var k=function(N){var L=d.findIndex(function(G){return G["-id"]===E[N]});L>=0?(b["bpmn:sequenceFlow"]||(b["bpmn:sequenceFlow"]=[]),b["bpmn:sequenceFlow"].push(d[L]),d.splice(L,1)):N++,M=N},M,C=0;C<E.length;)k(C),C=M;delete b.children}),r[uo.FLOW]=d,r}function J5(r,a){r["bpmndi:BPMNEdge"]=a.edges.map(function(u){var l,o=u.id,h=u.pointsList.map(function(b){var g=b.x,E=b.y;return{"-x":g,"-y":E}}),d={"-id":o+"_di","-bpmnElement":o,"di:waypoint":h};return!((l=u.text)===null||l===void 0)&&l.value&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),d}),r["bpmndi:BPMNShape"]=a.nodes.map(function(u){var l,o=u.id,h=100,d=80,b=u.x,g=u.y,E=xo.shapeConfigMap.get(u.type);E&&(h=E.width,d=E.height),b-=h/2,g-=d/2;var j={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":b,"-y":g,"-width":h,"-height":d}};return!((l=u.text)===null||l===void 0)&&l.value&&(j["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),j})}var Q5=["bpmn:incoming","bpmn:outgoing"];function e6(r,a){var u=[],l=[],o=new Map,h=a!=null?a:{},d=h.transformer,b=h.excludeFields,g={in:new Set(_l(py.in,(b==null?void 0:b.in)||[])),out:new Set(_l(py.out,(b==null?void 0:b.out)||[]))};oi=IE(oi,d);var E=r["bpmn:definitions"];if(E){var j=E["bpmn:process"];(function(k,M){M.forEach(function(C){try{Object.keys(k).forEach(function(N){try{C(N)}catch(L){console.error(L)}})}catch(N){console.error(N)}})})(j,[function(k){function M(N){N["-children"]||(N["-children"]=[]),Object.keys(N).forEach(function(L){var G;L.indexOf("bpmn:")===0&&!Q5.includes(L)&&(j[L]||(j[L]=[]),!Array.isArray(j[L])&&(j[L]=[j[L]]),Array.isArray(N[L])?(G=j[L]).push.apply(G,_l(N[L])):j[L].push(N[L]),Array.isArray(N[L])?N[L].forEach(function(U){!L.includes("Flow")&&N["-children"].push(U["-id"])}):!L.includes("Flow")&&N["-children"].push(N[L]["-id"]),delete N[L])})}if(k==="bpmn:subProcess"){var C=j[k];Array.isArray(C)?C.forEach(function(N){k==="bpmn:subProcess"&&M(N)}):M(C)}},function(k){var M=function(N){Object.keys(N).forEach(function(L){var G,U;if(L.includes("bpmn:")){var te={};oi[L]&&oi[L].in?(te=(U=(G=oi[L]).in)===null||U===void 0?void 0:U.call(G,L,F.cloneDeep(N[L])),delete N[L]):C(N[L]);var ae=void 0;(ae=Reflect.ownKeys(te)).length>0&&ae.forEach(function(re){Reflect.set(N,re,te[re])})}})};function C(N){o.set(N["-id"],N),Array.isArray(N)?N.forEach(function(L){C(L)}):typeof N=="object"&&M(N)}C(j[k])},function(k){if(k.indexOf("bpmn:")===0){var M=j[k];if(k==="bpmn:sequenceFlow"){var C=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];l=n6(M,C)}else{var N=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(k==="bpmn:boundaryEvent"){var L=j[k],G=function(U){var te=U["-attachedToRef"],ae=o.get(te);ae["-boundaryEvents"]||(ae["-boundaryEvents"]=[]),ae["-boundaryEvents"].push(U["-id"])};Array.isArray(L)?L.forEach(function(U){G(U)}):G(L)}u=u.concat(t6(M,N,k))}}}])}var P=function(k,M,C){Object.keys(k).forEach(function(N){var L=C?C+"."+N:N;M.has(L)?delete k[N]:typeof k[N]=="object"&&P(k[N],M,L)})};return u.forEach(function(k){var M,C;if(!((M=a==null?void 0:a.mapping)===null||M===void 0)&&M.in){var N=(C=a==null?void 0:a.mapping)===null||C===void 0?void 0:C.in,L=k.type;N[L]&&(k.type=N[L])}P(k,g.in,"")}),l.forEach(function(k){var M,C;if(!((M=a==null?void 0:a.mapping)===null||M===void 0)&&M.in){var N=(C=a==null?void 0:a.mapping)===null||C===void 0?void 0:C.in,L=k.type;N[L]&&(k.type=N[L])}P(k,g.in,"")}),{nodes:u,edges:l}}function t6(r,a,u){var l=[];if(Array.isArray(r))r.forEach(function(d){var b;Array.isArray(a)?b=a.find(function(E){return E["-bpmnElement"]===d["-id"]}):b=a;var g=ew(b,u,d);l.push(g)});else{var o=void 0;Array.isArray(a)?o=a.find(function(d){return d["-bpmnElement"]===r["-id"]}):o=a;var h=ew(o,u,r);l.push(h)}return l}function ew(r,a,u){var l=Number(r["dc:Bounds"]["-x"]),o=Number(r["dc:Bounds"]["-y"]),h=u["-children"],d=u["-name"],b=xo.shapeConfigMap.get(a);b&&(l+=b.width/2,o+=b.height/2);var g={};Object.entries(u).forEach(function(k){var M=Rl(k,2),C=M[0],N=M[1];CE.includes(C)||(g[C]=N)}),g=hy(g);var E;if(d&&(E={x:l,y:o,value:d},r["bpmndi:BPMNLabel"]&&r["bpmndi:BPMNLabel"]["dc:Bounds"])){var j=r["bpmndi:BPMNLabel"]["dc:Bounds"];E.x=Number(j["-x"])+Number(j["-width"])/2,E.y=Number(j["-y"])+Number(j["-height"])/2}var P={id:r["-bpmnElement"],type:a,x:l,y:o,properties:g};return h&&(P.children=h),E&&(P.text=E),P}function n6(r,a){var u=[];if(Array.isArray(r))r.forEach(function(o){var h;Array.isArray(a)?h=a.find(function(d){return d["-bpmnElement"]===o["-id"]}):h=a,u.push(tw(h,o))});else{var l=void 0;Array.isArray(a)?l=a.find(function(o){return o["-bpmnElement"]===r["-id"]}):l=a,u.push(tw(l,r))}return u}function tw(r,a){var u,l=a["-name"];if(l){var o=r["bpmndi:BPMNLabel"]["dc:Bounds"],h=0;l.split("\n").forEach(function(E){h<E.length&&(h=E.length)}),u={value:l,x:Number(o["-x"])+h*10/2,y:Number(o["-y"])+7}}var d={};Object.entries(a).forEach(function(E){var j=Rl(E,2),P=j[0],k=j[1];CE.includes(P)||(d[P]=k)}),d=hy(d);var b=r["di:waypoint"].map(function(E){return{x:Number(E["-x"]),y:Number(E["-y"])}}),g={id:a["-id"],type:uo.FLOW,pointsList:b,sourceNodeId:a["-sourceRef"],targetNodeId:a["-targetRef"],properties:d};return u&&(g.text=u),g}var xo=function(){function r(a){var u=this,l=a.lf;this.adapterOut=function(o,h){var d,b,g=om({},u.processAttributes);Z5(g,o,h);var E={"-id":"BPMNPlane_1","-bpmnElement":g["-id"]};J5(E,o);var j=u.definitionAttributes;j["bpmn:process"]=g,j["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":E};var P={"bpmn:definitions":j};if(!((d=h==null?void 0:h.mapping)===null||d===void 0)&&d.out){var k=(b=h==null?void 0:h.mapping)===null||b===void 0?void 0:b.out,M=function(C){Array.isArray(C)&&C.forEach(function(N){return M(N)}),typeof C=="object"&&Object.keys(C).forEach(function(N){var L;(L=k[N])?(C[L]=F.cloneDeep(C[N]),delete C[N],M(C[L])):M(C[N])})};M(P)}return P},this.adapterIn=function(o,h){if(o)return e6(o,h)},l.adapterIn=this.adapterIn,l.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return r.prototype.setCustomShape=function(a,u){r.shapeConfigMap.set(a,u)},r.pluginName="bpmn-adapter",r.shapeConfigMap=new Map,r}();xo.shapeConfigMap.set(uo.START,{width:WO.width,height:WO.height});xo.shapeConfigMap.set(uo.END,{width:GO.width,height:GO.height});xo.shapeConfigMap.set(uo.INTERMEDIATE_CATCH,{width:ly.width,height:ly.height});xo.shapeConfigMap.set(uo.INTERMEDIATE_THROW,{width:ly.width,height:ly.height});xo.shapeConfigMap.set(uo.BOUNDARY,{width:UO.width,height:UO.height});xo.shapeConfigMap.set(uo.PARALLEL_GATEWAY,{width:HO.width,height:HO.height});xo.shapeConfigMap.set(uo.INCLUSIVE_GATEWAY,{width:XO.width,height:XO.height});xo.shapeConfigMap.set(uo.EXCLUSIVE_GATEWAY,{width:YO.width,height:YO.height});xo.shapeConfigMap.set(uo.SYSTEM,{width:VO.width,height:VO.height});xo.shapeConfigMap.set(uo.USER,{width:KO.width,height:KO.height});xo.shapeConfigMap.set(uo.SUBPROCESS,{width:qO.width,height:qO.height});(function(r){V5(a,r);function a(u){var l=r.call(this,u)||this;l.adapterXmlIn=function(d){var b=H5(d);return l.adapterIn(b,l.props)},l.adapterXmlOut=function(d){var b=l.adapterOut(d,l.props);return Y5(b)};var o=u.lf,h=u.props;return o.adapterIn=l.adapterXmlIn,o.adapterOut=l.adapterXmlOut,l.props=h,l}return a.pluginName="BPMNAdapter",a})(xo);var nw=globalThis&&globalThis.__assign||function(){return nw=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},nw.apply(this,arguments)};globalThis&&globalThis.__read;var rw;(function(r){r.HORIZONTAL="horizontal",r.VERTICAL="vertical"})(rw||(rw={}));var r6=globalThis&&globalThis.__read||function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,h=[],d;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)h.push(o.value)}catch(b){d={error:b}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(d)throw d.error}}return h};globalThis&&globalThis.__spread;var o6=globalThis&&globalThis.__read||function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,h=[],d;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)h.push(o.value)}catch(b){d={error:b}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(d)throw d.error}}return h};globalThis&&globalThis.__spread;var i6=globalThis&&globalThis.__read||function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,h=[],d;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)h.push(o.value)}catch(b){d={error:b}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(d)throw d.error}}return h},a6=globalThis&&globalThis.__spread||function(){for(var r=[],a=0;a<arguments.length;a++)r=r.concat(i6(arguments[a]));return r},gp="lf:defaultNodeMenu",bp="lf:defaultEdgeMenu",mp="lf:defaultGraphMenu",ow="lf:defaultSelectionMenu",u6=function(){function r(a){var u=this,l=a.lf;this.lf=l;var o=l.options.isSilentMode;o||(this.__menuDOM=document.createElement("ul"),this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(h){u.setMenuConfig(h)},this.lf.addMenuConfig=function(h){u.addMenuConfig(h)},this.lf.setMenuByType=function(h){u.setMenuByType(h)})}return r.prototype.init=function(){var a=this,u=[{text:"删除",callback:function(h){a.lf.deleteNode(h.id)}},{text:"编辑文本",callback:function(h){a.lf.graphModel.editText(h.id)}},{text:"复制",callback:function(h){a.lf.cloneNode(h.id)}}];this.menuTypeMap.set(gp,u);var l=[{text:"删除",callback:function(h){a.lf.deleteEdge(h.id)}},{text:"编辑文本",callback:function(h){a.lf.graphModel.editText(h.id)}}];this.menuTypeMap.set(bp,l),this.menuTypeMap.set(mp,[]);var o=[{text:"删除",callback:function(h){a.lf.clearSelectElements(),h.edges.forEach(function(d){return a.lf.deleteEdge(d.id)}),h.nodes.forEach(function(d){return a.lf.deleteNode(d.id)})}}];this.menuTypeMap.set(ow,o)},r.prototype.render=function(a,u){var l=this;a.options.isSilentMode||(this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var h=o.target;Array.from(h.classList).indexOf("lf-menu-item")===-1&&Array.from(h.classList).indexOf("lf-menu")===-1;)h=h.parentElement;Array.from(h.classList).indexOf("lf-menu-item")>-1?(h.onclickCallback(l.__currentData),l.__menuDOM.style.display="none",l.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")},!0),this.lf.on("node:contextmenu",function(o){var h=o.data,d=o.position,b=o.e,g=d.domOverlayPosition,E=g.x,j=g.y,P=h.id,k=l.lf.graphModel.getNodeModelById(P),M=[],C=l.menuTypeMap.get(k.type);k&&k.menu&&Array.isArray(k.menu)?M=k.menu:C?M=C:M=l.menuTypeMap.get(gp),l.__currentData=h,l.showMenu(E,j,M,{width:k.width,height:k.height,clientX:b.clientX,clientY:b.clientY})}),this.lf.on("edge:contextmenu",function(o){var h=o.data,d=o.position,b=o.e,g=d.domOverlayPosition,E=g.x,j=g.y,P=h.id,k=l.lf.graphModel.getEdgeModelById(P),M=[],C=l.menuTypeMap.get(k.type);k&&k.menu&&Array.isArray(k.menu)?M=k.menu:C?M=C:M=l.menuTypeMap.get(bp),l.__currentData=h,l.showMenu(E,j,M,{width:k.width,height:k.height,clientX:b.clientX,clientY:b.clientY})}),this.lf.on("blank:contextmenu",function(o){var h=o.position,d=l.menuTypeMap.get(mp),b=h.domOverlayPosition,g=b.x,E=b.y;l.showMenu(g,E,d)}),this.lf.on("selection:contextmenu",function(o){var h=o.data,d=o.position,b=l.menuTypeMap.get(ow),g=d.domOverlayPosition,E=g.x,j=g.y;l.__currentData=h,l.showMenu(E,j,b)}),this.lf.on("node:mousedown",function(){l.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){l.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){l.__menuDOM.style.display="none"}))},r.prototype.destroy=function(){var a;(a=this===null||this===void 0?void 0:this.__container)===null||a===void 0||a.removeChild(this.__menuDOM),this.__menuDOM=null},r.prototype.showMenu=function(a,u,l,o){if(!(!l||!l.length)){var h=this.__menuDOM;if(h.innerHTML="",h.append.apply(h,a6(this.__getMenuDom(l))),!!h.children.length){if(h.style.display="block",!o){h.style.top=u+"px",h.style.left=a+"px";return}var d=o.width,b=o.height,g=o.clientX,E=o.clientY,j=this.lf.graphModel,P=h.offsetWidth,k=!0,M=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,C=M-g,N=j.rootEl.getBoundingClientRect(),L=N.left+N.width;L<M&&(C=L-g),C<P&&(k=!1),k?h.style.left=a+"px":h.style.left=a-d+"px";var G=h.offsetHeight,U=!0,te=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,ae=te-E,re=N.top+N.height;re<te&&(ae=re-E),ae<G&&(U=!1),U?h.style.top=u+"px":h.style.top=u-b+"px"}}},r.prototype.setMenuByType=function(a){!a.type||!a.menu||this.menuTypeMap.set(a.type,a.menu)},r.prototype.__getMenuDom=function(a){var u=[];return a&&a.length>0&&a.forEach(function(l){var o=document.createElement("li");if(l.className?o.className="lf-menu-item "+l.className:o.className="lf-menu-item",l.icon===!0){var h=document.createElement("span");h.className="lf-menu-item-icon",o.appendChild(h)}var d=document.createElement("span");d.className="lf-menu-item-text",l.text&&(d.innerText=l.text),o.appendChild(d),o.onclickCallback=l.callback,u.push(o)}),u},r.prototype.setMenuConfig=function(a){a&&(a.nodeMenu!==void 0&&this.menuTypeMap.set(gp,a.nodeMenu?a.nodeMenu:[]),a.edgeMenu!==void 0&&this.menuTypeMap.set(bp,a.edgeMenu?a.edgeMenu:[]),a.graphMenu!==void 0&&this.menuTypeMap.set(mp,a.graphMenu?a.graphMenu:[]))},r.prototype.addMenuConfig=function(a){if(a){if(Array.isArray(a.nodeMenu)){var u=this.menuTypeMap.get(gp);this.menuTypeMap.set(gp,u.concat(a.nodeMenu))}if(Array.isArray(a.edgeMenu)){var u=this.menuTypeMap.get(bp);this.menuTypeMap.set(bp,u.concat(a.edgeMenu))}if(Array.isArray(a.graphMenu)){var u=this.menuTypeMap.get(mp);this.menuTypeMap.set(mp,u.concat(a.graphMenu))}}},r.prototype.changeMenuItem=function(a,u){if(a==="add")this.addMenuConfig(u);else if(a==="reset")this.setMenuConfig(u);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},r.pluginName="menu",r}();globalThis&&globalThis.__read;globalThis&&globalThis.__values;var LE=globalThis&&globalThis.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var h in o)o.hasOwnProperty(h)&&(l[h]=o[h])},r(a,u)};return function(a,u){r(a,u);function l(){this.constructor=a}a.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),gl=globalThis&&globalThis.__assign||function(){return gl=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},gl.apply(this,arguments)},Ep=globalThis&&globalThis.__read||function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,h=[],d;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)h.push(o.value)}catch(b){d={error:b}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(d)throw d.error}}return h},c6={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function s6(r){for(var a=r,u=1;u<a.length-1;){var l=Ep(a[u-1],2),o=l[0],h=l[1],d=Ep(a[u],2),b=d[0],g=d[1],E=Ep(a[u+1],2),j=E[0],P=E[1];o===b&&b===j||h===g&&g===P?a.splice(u,1):u++}return a}function l6(r,a,u,l){var o=[r[0],r[1]],h=[r[0],r[1]];switch(u){case"tl":return a==="tr"?(o[1]+=l,h[0]+=l):a==="lb"&&(o[0]+=l,h[1]+=l),[o,h];case"tr":return a==="tl"?(o[1]+=l,h[0]-=l):a==="rb"&&(o[0]-=l,h[1]+=l),[o,h];case"bl":return a==="br"?(o[1]-=l,h[0]+=l):a==="lt"&&(o[0]+=l,h[1]-=l),[o,h];case"br":return a==="bl"?(o[1]-=l,h[0]-=l):a==="rt"&&(o[0]-=l,h[1]-=l),[o,h];default:return[]}}function f6(r,a,u,l){var o,h="",d="";r[0]===a[0]?h=r[1]>a[1]?"t":"b":r[1]===a[1]&&(h=r[0]>a[0]?"l":"r"),a[0]===u[0]?d=a[1]>u[1]?"t":"b":a[1]===u[1]&&(d=a[0]>u[0]?"l":"r");var b=Math.min(Math.hypot(a[0]-r[0],a[1]-r[1])/2,Math.hypot(u[0]-a[0],u[1]-a[1])/2,l)||1/5*l,g=""+h+d,E=c6[g]||"-",j="L "+r[0]+" "+r[1];if(E==="-")j+="L "+a[0]+" "+a[1]+" L "+u[0]+" "+u[1];else{var P=Ep(l6(a,g,E,b),2),k=P[0],M=P[1];k&&M&&(j+="L "+k[0]+" "+k[1]+" Q "+a[0]+" "+a[1]+" "+M[0]+" "+M[1],o=Ep(M,2),a[0]=o[0],a[1]=o[1])}return j}function p6(r,a){var u=0,l="";if(r.length===2)l+="M"+r[u][0]+" "+r[u++][1]+" L "+r[u][0]+" "+r[u][1];else{for(l+="M"+r[u][0]+" "+r[u++][1];u+1<r.length;){var o=r[u-1],h=r[u],d=r[u+++1];l+=f6(o,h,d,a)}l+="L "+r[u][0]+" "+r[u][1]}return l}(function(r){LE(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.getEdge=function(){var u=this.props.model,l=u.points,o=u.isAnimation,h=u.arrowConfig,d=u.radius,b=d===void 0?5:d,g=u.getEdgeStyle(),E=u.getEdgeAnimationStyle(),j=s6(l.split(" ").map(function(M){return M.split(",").map(function(C){return+C})})),P=p6(j,b),k=gl(gl(gl({style:o?E:{}},g),h),{fill:"none"});return it.h("path",gl({d:P},k))},a})(it.PolylineEdge);(function(r){LE(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a})(it.PolylineEdgeModel);var h6=globalThis&&globalThis.__read||function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,h=[],d;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)h.push(o.value)}catch(b){d={error:b}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(d)throw d.error}}return h};globalThis&&globalThis.__spread;var iw=globalThis&&globalThis.__assign||function(){return iw=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},iw.apply(this,arguments)},aw=globalThis&&globalThis.__assign||function(){return aw=Object.assign||function(r){for(var a,u=1,l=arguments.length;u<l;u++){a=arguments[u];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},aw.apply(this,arguments)},d6=globalThis&&globalThis.__read||function(r,a){var u=typeof Symbol=="function"&&r[Symbol.iterator];if(!u)return r;var l=u.call(r),o,h=[],d;try{for(;(a===void 0||a-- >0)&&!(o=l.next()).done;)h.push(o.value)}catch(b){d={error:b}}finally{try{o&&!o.done&&(u=l.return)&&u.call(l)}finally{if(d)throw d.error}}return h};globalThis&&globalThis.__spread;const y6={id:"lfapp"},v6=cT({__name:"index",setup(r){return yO.use(u6),sT(()=>{new yO({container:document.querySelector("#lfapp"),grid:!0}).render({nodes:[{id:"1",type:"rect",x:100,y:100,text:"节点1"},{id:"2",type:"circle",x:300,y:200,text:"节点2"}],edges:[{sourceNodeId:"1",targetNodeId:"2",type:"polyline",text:"连线"}]})}),(a,u)=>(lT(),fT("div",y6,"new page"))}});const m6=pT(v6,[["__scopeId","data-v-2ca2546e"]]);export{m6 as default};
