import{d as m,g as p,o as g,c as h,aL as _,$ as v}from"./index-d008e0e7.js";const L={id:"map"},w=m({__name:"case1",setup(y){const{proxy:i}=_(),d=async()=>{const s=await(i==null?void 0:i.$amap),o=new s.Map("map",{viewMode:"3D",zoom:11.8,center:[121.304018,31.217688],showBuildingBlock:!1,showLabel:!1,mapStyle:"amap://styles/grey"});var t=new Loca.Container({map:o});t.ambLight={intensity:2.2,color:"#babedc"},t.dirLight={intensity:.46,color:"#d4d4d4",target:[0,0,0],position:[0,-1,1]},t.pointLight={color:"rgb(15,19,40)",position:[121.5043258,31.2392241,2600],intensity:25,distance:3900};var l=new Loca.GeoJSONSource({url:"https://a.amap.com/Loca/static/loca-v2/demos/mock_data/sh_building_center.json"}),n=new Loca.PolygonLayer({zIndex:120,shininess:10,hasSide:!0,cullface:"back",depth:!0});n.setSource(l),n.setStyle({topColor:"#111",height:function(e,c){var r;return(r=c==null?void 0:c.properties)==null?void 0:r.h},textureSize:[1e3,820],texture:"https://a.amap.com/Loca/static/loca-v2/demos/images/windows.jpg"}),n.setLoca(t);var a=new Loca.Dat;a.addLight(t.ambLight,t,"环境光"),a.addLight(t.dirLight,t,"平行光"),a.addLight(t.pointLight,t,"点光"),a.addLayer(n,"楼块"),o.on("complete",function(){t.animate.start(),setTimeout(u,2e3)});function u(){var e=1;o.setZoom(11.8,!0),o.setPitch(0,!0),o.setCenter([121.304018,31.217688],!0),o.setRotation(1,!0),n.hide(1e3),t.viewControl.addAnimates([{pitch:{value:0,control:[[0,20],[1,0]],timing:[0,0,.8,1],duration:3e3/e},zoom:{value:15.9,control:[[0,12.8],[1,15.9]],timing:[0,0,.8,1],duration:3e3/e},rotation:{value:-20,control:[[0,20],[1,-20]],timing:[0,0,.8,1],duration:2e3/e}}],function(){setTimeout(function(){n.show(2e3)},3e3),t.viewControl.addAnimates([{center:{value:[121.500419,31.238089],control:[[121.424503326416,31.199146851153124],[121.46656036376952,31.245828642661486]],timing:[.3,0,.1,1],duration:2e3/e},zoom:{value:17,control:[[.3,15],[1,17]],timing:[.3,0,.7,1],duration:4e3/e},pitch:{value:50,control:[[.3,0],[1,50]],timing:[.3,0,1,1],duration:3e3/e},rotation:{value:-80,control:[[0,-20],[1,-80]],timing:[0,0,1,1],duration:1e3/e}},{pitch:{value:50,control:[[0,40],[1,50]],timing:[.3,0,1,1],duration:7e3/e},rotation:{value:260,control:[[0,-80],[1,260]],timing:[0,0,.7,1],duration:7e3/e},zoom:{value:17,control:[[.3,16],[1,17]],timing:[.3,0,.9,1],duration:5e3/e}}],function(){console.log("结束")})})}};return p(()=>{d()}),(s,o)=>(g(),h("div",L))}});const b=v(w,[["__scopeId","data-v-e500eeac"]]);export{b as default};
